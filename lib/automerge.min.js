/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/automerge@1.0.1-preview.0/dist/automerge.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Automerge=e():t.Automerge=e()}(this,(function(){return t={"./backend/backend.js":
/*!****************************!*\
  !*** ./backend/backend.js ***!
  \****************************/(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=r(/*! immutable */"./node_modules/immutable/dist/immutable.js"),u=s.Map,c=s.List,l=r(/*! ./op_set */"./backend/op_set.js"),f=r(/*! ./columnar */"./backend/columnar.js"),h=f.splitContainers,d=f.encodeChange,p=f.decodeChanges,y=f.encodeDocument,v=f.constructPatch,g=(f.BackendDoc,r(/*! ./util */"./backend/util.js").backendState);function b(t,e,r){return t.getIn(["opSet","states",e,r])}function m(){return{state:u({opSet:l.init(),objectIds:u()}),heads:[]}}function _(t,e,r,n){var o={clock:t.getIn(["opSet","states"]).map((function(t){return t.size})).toJSON(),deps:t.getIn(["opSet","deps"]).toJSON().sort(),diffs:e,maxOp:t.getIn(["opSet","maxOp"],0),pendingChanges:l.getMissingDeps(t.get("opSet")).length};if(n&&r){o.actor=r.actor,o.seq=r.seq;var i=t.getIn(["opSet","states",r.actor,r.seq-1]);o.deps=o.deps.filter((function(t){return t!==i}))}return o}function w(t,e,r,n){var i,a=n?{objectId:"_root",type:"map",props:{}}:null,s=t.get("opSet"),u=o(e);try{for(u.s();!(i=u.n()).done;){var c,f=i.value,d=o(h(f));try{for(d.s();!(c=d.n()).done;){var p=c.value;s=r?l.addLocalChange(s,p,a):l.addChange(s,p,a)}}catch(t){d.e(t)}finally{d.f()}}}catch(t){u.e(t)}finally{u.f()}return l.finalizePatch(a),[t=t.set("opSet",s),n?_(t,a,r,!0):null]}function I(t){return y(E(t))}function k(t,e){var r=g(t),o=n(w(r,e,null,!1),1)[0];return t.frozen=!0,{state:o,heads:l.getHeads(o.get("opSet"))}}function E(t){return j(t,[])}function j(t,e){if(!Array.isArray(e))throw new TypeError("Pass an array of hashes to Backend.getChanges()");var r=g(t);return l.getMissingChanges(r.get("opSet"),c(e))}t.exports={init:m,clone:function(t){return{state:g(t),heads:t.heads}},free:function(t){t.state=null,t.frozen=!0},applyChanges:function(t,e){var r=n(w(g(t),e,null,!0),2),o=r[0],i=r[1],a=l.getHeads(o.get("opSet"));return t.frozen=!0,[{state:o,heads:a},i]},applyLocalChange:function(t,e){var r,i,a,s=g(t);if(e.seq<=function(t,e){return t.getIn(["opSet","states",e],c()).size}(s,e.actor))throw new RangeError("Change request has already been applied");if(e.seq>1){var u=b(s,e.actor,e.seq-2);if(!u)throw new RangeError("Cannot find hash of localChange before seq=".concat(e.seq));var f,h=(a=!0,(i=u)in(r={})?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r),p=o(e.deps);try{for(p.s();!(f=p.n()).done;)h[f.value]=!0}catch(t){p.e(t)}finally{p.f()}e.deps=Object.keys(h).sort()}var y=d(e),v=n(w(s,[y],{actor:e.actor,seq:e.seq},!0),2),m=v[0],_=v[1],I=l.getHeads(m.get("opSet"));return t.frozen=!0,[{state:m,heads:I},_,y]},save:I,load:function(t){var e=p([t]).map(d);return k(m(),e)},loadChanges:k,getPatch:function(t){var e=g(t);return _(e,v(I(t)),null,!1)},getHeads:function(t){return t.heads},getAllChanges:E,getChanges:j,getChangeByHash:function(t,e){var r=g(t);return l.getChangeByHash(r.get("opSet"),e)},getMissingDeps:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=g(t);return l.getMissingDeps(r.get("opSet"),e)}}},"./backend/columnar.js":
/*!*****************************!*\
  !*** ./backend/columnar.js ***!
  \*****************************/(t,e,r)=>{function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=a(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=r(/*! pako */"./node_modules/pako/index.js"),c=r(/*! ../src/common */"./src/common.js"),l=c.copyObject,f=c.parseOpId,h=c.equalBytes,d=r(/*! ./encoding */"./backend/encoding.js"),p=d.utf8ToString,y=d.hexStringToBytes,v=d.bytesToHexString,g=d.Encoder,b=d.Decoder,m=d.RLEEncoder,_=d.RLEDecoder,w=d.DeltaEncoder,I=d.DeltaDecoder,k=d.BooleanEncoder,E=d.BooleanDecoder,j=r(/*! fast-sha256 */"./node_modules/fast-sha256/sha256.js").Hash,x=new Uint8Array([133,111,74,131]),S={GROUP_CARD:0,ACTOR_ID:1,INT_RLE:2,INT_DELTA:3,BOOLEAN:4,STRING_RLE:5,VALUE_LEN:6,VALUE_RAW:7},A={NULL:0,FALSE:1,TRUE:2,LEB128_UINT:3,LEB128_INT:4,IEEE754:5,UTF8:6,BYTES:7,COUNTER:8,TIMESTAMP:9,MIN_UNKNOWN:10,MAX_UNKNOWN:15},O=["makeMap","set","makeList","del","makeText","inc","makeTable","link"],R={makeMap:"map",makeList:"list",makeText:"text",makeTable:"table"},C={objActor:0|S.ACTOR_ID,objCtr:0|S.INT_RLE,keyActor:16|S.ACTOR_ID,keyCtr:16|S.INT_DELTA,keyStr:16|S.STRING_RLE,idActor:32|S.ACTOR_ID,idCtr:32|S.INT_DELTA,insert:48|S.BOOLEAN,action:64|S.INT_RLE,valLen:80|S.VALUE_LEN,valRaw:80|S.VALUE_RAW,chldActor:96|S.ACTOR_ID,chldCtr:96|S.INT_DELTA},T=Object.assign({predNum:112|S.GROUP_CARD,predActor:112|S.ACTOR_ID,predCtr:112|S.INT_DELTA},C),U=Object.assign({succNum:128|S.GROUP_CARD,succActor:128|S.ACTOR_ID,succCtr:128|S.INT_DELTA},C),z=Object.entries(U).reduce((function(t,e){var r=i(e,2),n=r[0];return t[r[1]]=n,t}),[]),L={actor:0|S.ACTOR_ID,seq:0|S.INT_DELTA,maxOp:16|S.INT_DELTA,time:32|S.INT_DELTA,message:48|S.STRING_RLE,depsNum:64|S.GROUP_CARD,depsIndex:64|S.INT_DELTA,extraLen:80|S.VALUE_LEN,extraRaw:80|S.VALUE_RAW};function V(t,e,r){if(1===e.length)t[e[0]]=r;else{var n=Object.assign({},t[e[0]]);V(n,e.slice(1),r),t[e[0]]=n}}function B(t,e){if(!t||!t.actorId)return t;var r=t.counter,n=e.indexOf(t.actorId);if(n<0)throw new RangeError("missing actorId");return{counter:r,actorNum:n,actorId:t.actorId}}function N(t,e){return t.counter<e.counter?-1:t.counter>e.counter?1:t.actorId<e.actorId?-1:t.actorId>e.actorId?1:0}function M(t,e){var r,n={},i=[],a=o(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;s=l(s),n[s.actor]=!0,s.ops=J(s.ops,s.startOp,s.actor),s.ops=s.ops.map((function(t){"_root"!==(t=l(t)).obj&&(t.obj=f(t.obj)),t.elemId&&"_head"!==t.elemId&&(t.elemId=f(t.elemId)),t.child&&(t.child=f(t.child)),t.pred&&(t.pred=t.pred.map(f)),t.obj.actorId&&(n[t.obj.actorId]=!0),t.elemId&&t.elemId.actorId&&(n[t.elemId.actorId]=!0),t.child&&t.child.actorId&&(n[t.child.actorId]=!0);var e,r=o(t.pred);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.actorId]=!0}}catch(t){r.e(t)}finally{r.f()}return t})),i.push(s)}}catch(t){a.e(t)}finally{a.f()}var u=Object.keys(n).sort();e&&(u=[t[0].actor].concat(u.filter((function(e){return e!==t[0].actor}))));for(var c=0,h=i;c<h.length;c++){var d=h[c];d.actorNum=u.indexOf(d.actor);for(var p=0;p<d.ops.length;p++){var y=d.ops[p];y.id={counter:d.startOp+p,actorNum:d.actorNum,actorId:d.actor},y.obj=B(y.obj,u),y.elemId=B(y.elemId,u),y.child=B(y.child,u),y.pred=y.pred.map((function(t){return B(t,u)}))}}return{changes:i,actorIds:u}}function D(t,e){if("_root"===t.obj)e.objActor.appendValue(null),e.objCtr.appendValue(null);else{if(!(t.obj.actorNum>=0&&t.obj.counter>0))throw new RangeError("Unexpected objectId reference: ".concat(JSON.stringify(t.obj)));e.objActor.appendValue(t.obj.actorNum),e.objCtr.appendValue(t.obj.counter)}}function P(t,e){if(t.key)e.keyActor.appendValue(null),e.keyCtr.appendValue(null),e.keyStr.appendValue(t.key);else if("_head"===t.elemId&&t.insert)e.keyActor.appendValue(null),e.keyCtr.appendValue(0),e.keyStr.appendValue(null);else{if(!(t.elemId&&t.elemId.actorNum>=0&&t.elemId.counter>0))throw new RangeError("Unexpected operation key: ".concat(JSON.stringify(t)));e.keyActor.appendValue(t.elemId.actorNum),e.keyCtr.appendValue(t.elemId.counter),e.keyStr.appendValue(null)}}function q(t,e){var r=O.indexOf(t.action);if(r>=0)e.action.appendValue(r);else{if("number"!=typeof t.action)throw new RangeError("Unexpected operation action: ".concat(t.action));e.action.appendValue(t.action)}}function H(t,e,r){var n;t<0||e>0?(n=r.valRaw.appendInt53(t),e||(e=A.LEB128_INT)):(n=r.valRaw.appendUint53(t),e=A.LEB128_UINT),r.valLen.appendValue(n<<4|e)}function F(t,e){if("set"!==t.action&&"inc"!==t.action||null===t.value)e.valLen.appendValue(A.NULL);else if(!1===t.value)e.valLen.appendValue(A.FALSE);else if(!0===t.value)e.valLen.appendValue(A.TRUE);else if("string"==typeof t.value){var r=e.valRaw.appendRawString(t.value);e.valLen.appendValue(r<<4|A.UTF8)}else if(ArrayBuffer.isView(t.value)){var n=e.valRaw.appendRawBytes(new Uint8Array(t.value.buffer));e.valLen.appendValue(n<<4|A.BYTES)}else if("counter"===t.datatype&&"number"==typeof t.value)H(t.value,A.COUNTER,e);else if("timestamp"===t.datatype&&"number"==typeof t.value)H(t.value,A.TIMESTAMP,e);else if("number"==typeof t.datatype&&t.datatype>=A.MIN_UNKNOWN&&t.datatype<=A.MAX_UNKNOWN&&t.value instanceof Uint8Array){var o=e.valRaw.appendRawBytes(t.value);e.valLen.appendValue(o<<4|t.datatype)}else{if(t.datatype)throw new RangeError("Unknown datatype ".concat(t.datatype," for value ").concat(t.value));if("number"!=typeof t.value)throw new RangeError("Unsupported value in operation: ".concat(t.value));if(Number.isInteger(t.value)&&t.value<=Number.MAX_SAFE_INTEGER&&t.value>=Number.MIN_SAFE_INTEGER)H(t.value,0,e);else{var i=new ArrayBuffer(4),a=new DataView(i);if(a.setFloat32(0,t.value,!0),a.getFloat32(0,!0)===t.value)e.valRaw.appendRawBytes(new Uint8Array(i)),e.valLen.appendValue(64|A.IEEE754);else{var s=new ArrayBuffer(8);new DataView(s).setFloat64(0,t.value,!0),e.valRaw.appendRawBytes(new Uint8Array(s)),e.valLen.appendValue(128|A.IEEE754)}}}}function K(t,e){if(t===A.NULL)return{value:null};if(t===A.FALSE)return{value:!1};if(t===A.TRUE)return{value:!0};if(t%16===A.UTF8)return{value:p(e)};if(t%16===A.LEB128_UINT)return{value:new b(e).readUint53()};if(t%16===A.LEB128_INT)return{value:new b(e).readInt53()};if(t%16===A.IEEE754){var r=new DataView(e.buffer,e.byteOffset,e.byteLength);if(4===e.byteLength)return{value:r.getFloat32(0,!0)};if(8===e.byteLength)return{value:r.getFloat64(0,!0)};throw new RangeError("Invalid length for floating point number: ".concat(e.byteLength))}return t%16===A.COUNTER?{value:new b(e).readInt53(),datatype:"counter"}:t%16===A.TIMESTAMP?{value:new b(e).readInt53(),datatype:"timestamp"}:{value:e,datatype:t%16}}function Z(t,e,r,n){var o=t[e],i=o.columnId,a=o.columnName,s=o.decoder;if(i%8===S.VALUE_LEN&&e+1<t.length&&t[e+1].columnId===i+1){var u=s.readValue(),c=K(u,t[e+1].decoder.readRawBytes(u>>4)),l=c.value,f=c.datatype;return n[a]=l,f&&(n[a+"_datatype"]=f),2}if(i%8===S.ACTOR_ID){var h=s.readValue();if(null===h)n[a]=null;else{if(!r[h])throw new RangeError("No actor index ".concat(h));n[a]=r[h]}}else n[a]=s.readValue();return 1}function W(t,e){var r={objActor:new m("uint"),objCtr:new m("uint"),keyActor:new m("uint"),keyCtr:new w,keyStr:new m("utf8"),insert:new k,action:new m("uint"),valLen:new m("uint"),valRaw:new g,chldActor:new m("uint"),chldCtr:new w};e?(r.idActor=new m("uint"),r.idCtr=new w,r.succNum=new m("uint"),r.succActor=new m("uint"),r.succCtr=new w):(r.predNum=new m("uint"),r.predCtr=new w,r.predActor=new m("uint"));var n,a=o(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(D(s,r),P(s,r),r.insert.appendValue(!!s.insert),q(s,r),F(s,r),s.child&&s.child.counter?(r.chldActor.appendValue(s.child.actorNum),r.chldCtr.appendValue(s.child.counter)):(r.chldActor.appendValue(null),r.chldCtr.appendValue(null)),e){r.idActor.appendValue(s.id.actorNum),r.idCtr.appendValue(s.id.counter),r.succNum.appendValue(s.succ.length),s.succ.sort(N);for(var u=0;u<s.succ.length;u++)r.succActor.appendValue(s.succ[u].actorNum),r.succCtr.appendValue(s.succ[u].counter)}else{r.predNum.appendValue(s.pred.length),s.pred.sort(N);for(var c=0;c<s.pred.length;c++)r.predActor.appendValue(s.pred[c].actorNum),r.predCtr.appendValue(s.pred[c].counter)}}}catch(t){a.e(t)}finally{a.f()}for(var l=[],f=0,h=Object.entries(e?U:T);f<h.length;f++){var d=i(h[f],2),p=d[0],y=d[1];r[p]&&l.push({id:y,name:p,encoder:r[p]})}return l.sort((function(t,e){return t.id-e.id}))}function J(t,e,r){var n,i=e,a=[],s=o(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;if("set"===u.action&&u.values&&u.insert){if(0!==u.pred.length)throw new RangeError("multi-insert pred must be empty");var c,l=u.elemId,h=o(u.values);try{for(h.s();!(c=h.n()).done;){var d=c.value;a.push({action:"set",obj:u.obj,elemId:l,value:d,pred:[],insert:!0}),l="".concat(i,"@").concat(r),i+=1}}catch(t){h.e(t)}finally{h.f()}}else if("del"===u.action&&u.multiOp>1){if(1!==u.pred.length)throw new RangeError("multiOp deletion must have exactly one pred");for(var p=f(u.elemId),y=f(u.pred[0]),v=0;v<u.multiOp;v++){var g="".concat(p.counter+v,"@").concat(p.actorId),b=["".concat(y.counter+v,"@").concat(y.actorId)];a.push({action:"del",obj:u.obj,elemId:g,pred:b}),i+=1}}else a.push(u),i+=1}}catch(t){s.e(t)}finally{s.f()}return a}function G(t,e){var r,n=[],i=o(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=null===a.objCtr?"_root":"".concat(a.objCtr,"@").concat(a.objActor),u=a.keyStr?void 0:0===a.keyCtr?"_head":"".concat(a.keyCtr,"@").concat(a.keyActor),c=O[a.action]||a.action,l=u?{obj:s,elemId:u,action:c}:{obj:s,key:a.keyStr,action:c};if(l.insert=!!a.insert,"set"!==O[a.action]&&"inc"!==O[a.action]||(l.value=a.valLen,a.valLen_datatype&&(l.datatype=a.valLen_datatype)),!!a.chldCtr!=!!a.chldActor)throw new RangeError("Mismatched child columns: ".concat(a.chldCtr," and ").concat(a.chldActor));null!==a.chldCtr&&(l.child="".concat(a.chldCtr,"@").concat(a.chldActor)),e?(l.id="".concat(a.idCtr,"@").concat(a.idActor),l.succ=a.succNum.map((function(t){return"".concat(t.succCtr,"@").concat(t.succActor)}))):l.pred=a.predNum.map((function(t){return"".concat(t.predCtr,"@").concat(t.predActor)})),n.push(l)}}catch(t){i.e(t)}finally{i.f()}return n}function Y(t){return(7&t)===S.INT_DELTA?new w:(7&t)===S.BOOLEAN?new k:(7&t)===S.STRING_RLE?new m("utf8"):(7&t)===S.VALUE_RAW?new g:new m("uint")}function $(t,e){return(7&t)===S.INT_DELTA?new I(e):(7&t)===S.BOOLEAN?new E(e):(7&t)===S.STRING_RLE?new _("utf8",e):(7&t)===S.VALUE_RAW?new b(e):new _("uint",e)}function X(t,e){for(var r=new Uint8Array(0),n={},a=0,s=Object.values(e);a<s.length;a++){var u=s[a];n[u]=$(u,r)}var c,l=o(t);try{for(l.s();!(c=l.n()).done;){var f=c.value;n[f.columnId]=$(f.columnId,f.buffer)}}catch(t){l.e(t)}finally{l.f()}var h,d=[],p=o(Object.keys(n).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e})));try{var y=function(){var t=h.value,r=Object.entries(e).find((function(e){return i(e,2)[1]===t})),o=i(r,1)[0];o||(o=t.toString()),d.push({columnId:t,columnName:o,decoder:n[t]})};for(p.s();!(h=p.n()).done;)y()}catch(t){p.e(t)}finally{p.f()}return d}function Q(t,e,r){t=X(t,r);for(var n=[];t.some((function(t){return!t.decoder.done}));){for(var o={},i=0;i<t.length;){for(var a=t[i].columnId,s=a>>4,u=1;i+u<t.length&&t[i+u].columnId>>4===s;)u++;if(a%8===S.GROUP_CARD){for(var c=[],l=t[i].decoder.readValue(),f=0;f<l;f++){for(var h={},d=1;d<u;d++)Z(t,i+d,e,h);c.push(h)}o[t[i].columnName]=c,i+=u}else i+=Z(t,i,e,o)}n.push(o)}return n}function tt(t){for(var e=-1,r=[],n=t.readUint53(),o=0;o<n;o++){var i=t.readUint53(),a=t.readUint53();if(i<=e)throw new RangeError("Columns must be in ascending order");e=i,r.push({columnId:i,bufferLen:a})}return r}function et(t,e){var r=e.filter((function(t){return t.encoder.buffer.byteLength>0}));t.appendUint53(r.length);var n,i=o(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.appendUint53(a.id),t.appendUint53(a.encoder.buffer.byteLength)}}catch(t){i.e(t)}finally{i.f()}}function rt(t){for(var e=t.readUint53(),r=[],n=0;n<e;n++)r.push(v(t.readRawBytes(32)));for(var o={actor:t.readHexString(),seq:t.readUint53(),startOp:t.readUint53(),time:t.readInt53(),message:t.readPrefixedString(),deps:r},i=[o.actor],a=t.readUint53(),s=0;s<a;s++)i.push(t.readHexString());return o.actorIds=i,o}function nt(t,e){var r=x.byteLength+4+1+5,n=new g;n.appendRawBytes(new Uint8Array(r)),e(n);var o=n.buffer,i=new g;i.appendByte(t),i.appendUint53(o.byteLength-r);var a=i.buffer,s=new j;s.update(a),s.update(o.subarray(r));var u=s.digest(),c=u.subarray(0,4);return o.set(x,r-a.byteLength-4-x.byteLength),o.set(c,r-a.byteLength-4),o.set(a,r-a.byteLength),{hash:u,bytes:o.subarray(r-a.byteLength-4-x.byteLength)}}function ot(t,e){if(!h(t.readRawBytes(x.byteLength),x))throw new RangeError("Data does not begin with magic bytes 85 6f 4a 83");var r=t.readRawBytes(4),n=t.offset,o=t.readByte(),i=t.readUint53(),a={chunkType:o,chunkLength:i,chunkData:t.readRawBytes(i)};if(e){var s=new j;s.update(t.buf.subarray(n,t.offset));var u=s.digest();if(!h(u.subarray(0,4),r))throw new RangeError("checksum does not match data");a.hash=v(u)}return a}function it(t){var e=M([t],!0),r=e.changes,n=e.actorIds,i=r[0],a=nt(1,(function(t){if(!Array.isArray(i.deps))throw new TypeError("deps is not an array");t.appendUint53(i.deps.length);var e,r=o(i.deps.slice().sort());try{for(r.s();!(e=r.n()).done;){var a=e.value;t.appendRawBytes(y(a))}}catch(t){r.e(t)}finally{r.f()}t.appendHexString(i.actor),t.appendUint53(i.seq),t.appendUint53(i.startOp),t.appendInt53(i.time),t.appendPrefixedString(i.message||""),t.appendUint53(n.length-1);var s,u=o(n.slice(1));try{for(u.s();!(s=u.n()).done;){var c=s.value;t.appendHexString(c)}}catch(t){u.e(t)}finally{u.f()}var l=W(i.ops,!1);et(t,l);var f,h=o(l);try{for(h.s();!(f=h.n()).done;){var d=f.value;t.appendRawBytes(d.encoder.buffer)}}catch(t){h.e(t)}finally{h.f()}i.extraBytes&&t.appendRawBytes(i.extraBytes)})),s=a.hash,c=a.bytes,l=v(s);if(t.hash&&t.hash!==l)throw new RangeError("Change hash does not match encoding: ".concat(t.hash," != ").concat(l));return c.byteLength>=256?function(t){var e=ot(new b(t),!1);if(1!==e.chunkType)throw new RangeError("Unexpected chunk type: ".concat(e.chunkType));var r=u.deflateRaw(e.chunkData),n=new g;return n.appendRawBytes(t.subarray(0,8)),n.appendByte(2),n.appendUint53(r.byteLength),n.appendRawBytes(r),n.buffer}(c):c}function at(t){var e=new b(t),r=ot(e,!0),n=new b(r.chunkData);if(!e.done)throw new RangeError("Encoded change has trailing data");if(1!==r.chunkType)throw new RangeError("Unexpected chunk type: ".concat(r.chunkType));for(var o=rt(n),i=tt(n),a=0;a<i.length;a++){if(0!=(8&i[a].columnId))throw new RangeError("change must not contain deflated columns");i[a].buffer=n.readRawBytes(i[a].bufferLen)}if(!n.done){var s=n.buf.byteLength-n.offset;o.extraBytes=n.readRawBytes(s)}return o.columns=i,o.hash=r.hash,o}function st(t){2===t[8]&&(t=ut(t));var e=at(t);return e.ops=G(Q(e.columns,e.actorIds,T),!1),delete e.actorIds,delete e.columns,e}function ut(t){var e=ot(new b(t),!1);if(2!==e.chunkType)throw new RangeError("Unexpected chunk type: ".concat(e.chunkType));var r=u.inflateRaw(e.chunkData),n=new g;return n.appendRawBytes(t.subarray(0,8)),n.appendByte(1),n.appendUint53(r.byteLength),n.appendRawBytes(r),n.buffer}function ct(t){for(var e=new b(t),r=[],n=0;!e.done;)ot(e,!1),r.push(t.subarray(n,e.offset)),n=e.offset;return r}function lt(t){var e,r=[],n=o(t);try{for(n.s();!(e=n.n()).done;){var i,a=o(ct(e.value));try{for(a.s();!(i=a.n()).done;){var s=i.value;0===s[8]?r=r.concat(pt(s)):1!==s[8]&&2!==s[8]||r.push(st(s))}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}return r}function ft(t,e){if(t===e)return 0;if("_root"===t)return-1;if("_root"===e)return 1;var r=f(t),n=f(e);return r.counter<n.counter?-1:r.counter>n.counter?1:r.actorId<n.actorId?-1:r.actorId>n.actorId?1:0}function ht(t){var e,r=M(lt(t),!1),n=r.changes,a=r.actorIds,s=function(t){for(var e={actor:new m("uint"),seq:new w,maxOp:new w,time:new w,message:new m("utf8"),depsNum:new m("uint"),depsIndex:new w,extraLen:new m("uint"),extraRaw:new g},r={},n={},a=0;a<t.length;a++){var s=t[a];r[s.hash]=a,n[s.hash]=!0,e.actor.appendValue(s.actorNum),e.seq.appendValue(s.seq),e.maxOp.appendValue(s.startOp+s.ops.length-1),e.time.appendValue(s.time),e.message.appendValue(s.message),e.depsNum.appendValue(s.deps.length);var u,c=o(s.deps);try{for(c.s();!(u=c.n()).done;){var l=u.value;if("number"!=typeof r[l])throw new RangeError("Unknown dependency hash: ".concat(l));e.depsIndex.appendValue(r[l]),n[l]&&delete n[l]}}catch(t){c.e(t)}finally{c.f()}s.extraBytes?(e.extraLen.appendValue(s.extraBytes.byteLength<<4|A.BYTES),e.extraRaw.appendRawBytes(s.extraBytes)):e.extraLen.appendValue(A.BYTES)}for(var f=[],h=0,d=Object.entries(L);h<d.length;h++){var p=i(d[h],2),y=p[0],v=p[1];f.push({id:v,name:y,encoder:e[y]})}return f.sort((function(t,e){return t.id-e.id})),{changesColumns:f,heads:Object.keys(n).sort()}}(n),u=s.changesColumns,c=s.heads,l=W(function(t){var e,r={},n={},i={},a=o(t);try{for(a.s();!(e=a.n()).done;)for(var s=e.value,u=0;u<s.ops.length;u++){var c=s.ops[u],l="".concat(c.id.counter,"@").concat(c.id.actorId),f="_root"===c.obj?"_root":"".concat(c.obj.counter,"@").concat(c.obj.actorId);c.action.startsWith("make")&&(i[l]=c.action,"makeList"!==c.action&&"makeText"!==c.action||(n[l]={_head:[]}));var h=void 0;if("_root"===f||"makeMap"===i[f]||"makeTable"===i[f])h=c.key;else{if("makeList"!==i[f]&&"makeText"!==i[f])throw new RangeError("Unknown object type for object ".concat(f));if(c.insert){h=l;var d="_head"===c.elemId?"_head":"".concat(c.elemId.counter,"@").concat(c.elemId.actorId);n[f][d].push(l),n[f][l]=[]}else h="".concat(c.elemId.counter,"@").concat(c.elemId.actorId)}r[f]||(r[f]={}),r[f][h]||(r[f][h]={}),r[f][h][l]=c,c.succ=[];var p,y=o(c.pred);try{for(y.s();!(p=y.n()).done;){var v=p.value,g="".concat(v.counter,"@").concat(v.actorId);if(!r[f][h][g])throw new RangeError("No predecessor operation ".concat(g));r[f][h][g].succ.push(c.id)}}catch(t){y.e(t)}finally{y.f()}}}catch(t){a.e(t)}finally{a.f()}var b,m=[],_=o(Object.keys(r).sort(ft));try{for(_.s();!(b=_.n()).done;){var w=b.value,I=[];if("makeList"===i[w]||"makeText"===i[w])for(var k=["_head"];k.length>0;){var E=k.pop();"_head"!==E&&I.push(E);var j,x=o(n[w][E].sort(ft));try{for(x.s();!(j=x.n()).done;){var S=j.value;k.push(S)}}catch(t){x.e(t)}finally{x.f()}}else I=Object.keys(r[w]).sort();var A,O=o(I);try{for(O.s();!(A=O.n()).done;){var R,C=A.value,T=o(Object.keys(r[w][C]).sort(ft));try{for(T.s();!(R=T.n()).done;){var U=R.value,z=r[w][C][U];"del"!==z.action&&m.push(z)}}catch(t){T.e(t)}finally{T.f()}}}catch(t){O.e(t)}finally{O.f()}}}catch(t){_.e(t)}finally{_.f()}return m}(n),!0),f=o(u);try{for(f.s();!(e=f.n()).done;)yt(e.value)}catch(t){f.e(t)}finally{f.f()}var h,d=o(l);try{for(d.s();!(h=d.n()).done;)yt(h.value)}catch(t){d.e(t)}finally{d.f()}return nt(0,(function(t){t.appendUint53(a.length);var e,r=o(a);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.appendHexString(n)}}catch(t){r.e(t)}finally{r.f()}t.appendUint53(c.length);var i,s=o(c.sort());try{for(s.s();!(i=s.n()).done;){var f=i.value;t.appendRawBytes(y(f))}}catch(t){s.e(t)}finally{s.f()}et(t,u),et(t,l);var h,d=o(u);try{for(d.s();!(h=d.n()).done;){var p=h.value;t.appendRawBytes(p.encoder.buffer)}}catch(t){d.e(t)}finally{d.f()}var v,g=o(l);try{for(g.s();!(v=g.n()).done;){var b=v.value;t.appendRawBytes(b.encoder.buffer)}}catch(t){g.e(t)}finally{g.f()}})).bytes}function dt(t){var e=new b(t),r=ot(e,!0),n=new b(r.chunkData);if(!e.done)throw new RangeError("Encoded document has trailing data");if(0!==r.chunkType)throw new RangeError("Unexpected chunk type: ".concat(r.chunkType));for(var o=[],i=n.readUint53(),a=0;a<i;a++)o.push(n.readHexString());for(var s=[],u=n.readUint53(),c=0;c<u;c++)s.push(v(n.readRawBytes(32)));for(var l=tt(n),f=tt(n),h=0;h<l.length;h++)l[h].buffer=n.readRawBytes(l[h].bufferLen),vt(l[h]);for(var d=0;d<f.length;d++)f[d].buffer=n.readRawBytes(f[d].bufferLen),vt(f[d]);return{changesColumns:l,opsColumns:f,actorIds:o,heads:s,extraBytes:n.readRawBytes(n.buf.byteLength-n.offset)}}function pt(t){var e=dt(t),r=e.changesColumns,n=e.opsColumns,i=e.actorIds,a=e.heads,s=Q(r,i,L);return function(t,e){var r,n={},i=o(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.ops=[],n[a.actor]||(n[a.actor]=[]),a.seq!==n[a.actor].length+1)throw new RangeError("Expected seq = ".concat(n[a.actor].length+1,", got ").concat(a.seq));if(a.seq>1&&n[a.actor][a.seq-2].maxOp>a.maxOp)throw new RangeError("maxOp must increase monotonically per actor");n[a.actor].push(a)}}catch(t){i.e(t)}finally{i.f()}var s,u={},c=o(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;if("del"===l.action)throw new RangeError("document should not contain del operations");l.pred=u[l.id]?u[l.id].pred:[],u[l.id]=l;var h,d=o(l.succ);try{for(d.s();!(h=d.n()).done;){var p=h.value;if(!u[p])if(l.elemId){var y=l.insert?l.id:l.elemId;u[p]={id:p,action:"del",obj:l.obj,elemId:y,pred:[]}}else u[p]={id:p,action:"del",obj:l.obj,key:l.key,pred:[]};u[p].pred.push(l.id)}}catch(t){d.e(t)}finally{d.f()}delete l.succ}}catch(t){c.e(t)}finally{c.f()}for(var v=0,g=Object.values(u);v<g.length;v++){var b=g[v];"del"===b.action&&e.push(b)}var m,_=o(e);try{for(_.s();!(m=_.n()).done;){for(var w=m.value,I=f(w.id),k=I.counter,E=n[I.actorId],j=0,x=E.length;j<x;){var S=Math.floor((j+x)/2);E[S].maxOp<k?j=S+1:x=S}if(j>=E.length)throw new RangeError("Operation ID ".concat(w.id," outside of allowed range"));E[j].ops.push(w)}}catch(t){_.e(t)}finally{_.f()}var A,O=o(t);try{for(O.s();!(A=O.n()).done;){var R=A.value;R.ops.sort((function(t,e){return ft(t.id,e.id)})),R.startOp=R.maxOp-R.ops.length+1,delete R.maxOp;for(var C=0;C<R.ops.length;C++){var T=R.ops[C],U="".concat(R.startOp+C,"@").concat(R.actor);if(T.id!==U)throw new RangeError("Expected opId ".concat(U,", got ").concat(T.id));delete T.id}}}catch(t){O.e(t)}finally{O.f()}}(s,G(Q(n,i,U),!0)),function(t,e){for(var r={},n=0;n<t.length;n++){var i=t[n];i.deps=[];var a,s=o(i.depsNum.map((function(t){return t.depsIndex})));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(!t[u]||!t[u].hash)throw new RangeError("No hash for index ".concat(u," while processing index ").concat(n));var c=t[u].hash;i.deps.push(c),r[c]&&delete r[c]}}catch(t){s.e(t)}finally{s.f()}if(i.deps.sort(),delete i.depsNum,i.extraLen_datatype!==A.BYTES)throw new RangeError("Bad datatype for extra bytes: ".concat(A.BYTES));i.extraBytes=i.extraLen,delete i.extraLen_datatype,t[n]=st(it(i)),r[t[n].hash]=!0}for(var l=Object.keys(r).sort(),f=l.length===e.length,h=0;f&&h<l.length;)f=l[h]===e[h],h++;if(!f)throw new RangeError("Mismatched heads hashes: expected ".concat(e.join(", "),", got ").concat(l.join(", ")))}(s,a),s}function yt(t){t.encoder.buffer.byteLength>=256&&(t.encoder={buffer:u.deflateRaw(t.encoder.buffer)},t.id|=8)}function vt(t){0!=(8&t.columnId)&&(t.buffer=u.inflateRaw(t.buffer),t.columnId^=8)}function gt(t,e){var r,n={},i=null,a=o(e.ops);try{for(a.s();!(r=a.n()).done;){var s=r.value;if("set"===s.actionName&&"counter"===s.value.datatype){i||(i={opId:s.opId,value:0,succ:{}}),i.value+=s.value.value;var u,c=o(s.succ);try{for(c.s();!(u=c.n()).done;){var l=u.value;i.succ[l]=!0}}catch(t){c.e(t)}finally{c.f()}}else if("inc"===s.actionName){if(!i)throw new RangeError("inc operation ".concat(s.opId," without a counter"));i.value+=s.value.value,delete i.succ[s.opId];var h,d=o(s.succ);try{for(d.s();!(h=d.n()).done;){var p=h.value;i.succ[p]=!0}}catch(t){d.e(t)}finally{d.f()}}else if(0===s.succ.length)if(s.actionName.startsWith("make"))n[s.opId]=t[s.opId];else if("set"===s.actionName)n[s.opId]={value:s.value.value,type:"value"},s.value.datatype&&(n[s.opId].datatype=s.value.datatype);else{if("link"!==s.actionName)throw new RangeError("Unexpected action type: ".concat(s.actionName));if(!s.childId)throw new RangeError("link operation ".concat(s.opId," without a childId"));n[s.opId]=t[s.childId]}}}catch(t){a.e(t)}finally{a.f()}if(i&&0===Object.keys(i.succ).length&&(n[i.opId]={value:i.value,datatype:"counter"}),Object.keys(n).length>0){var y=t[e.objId];return"map"===y.type||"table"===y.type?y.props[e.key]=n:"list"!==y.type&&"text"!==y.type||function(t,e,r,n){var i,a=!0,s=o(Object.keys(e).sort((function(t,e){return N(f(t),f(e))})));try{for(s.s();!(i=s.n()).done;){var u=i.value;a?t.edits.push({action:"insert",value:e[u],elemId:r,opId:u,index:n}):t.edits.push({action:"update",value:e[u],opId:u,index:n}),a=!1}}catch(t){s.e(t)}finally{s.f()}}(y,n,e.key,e.index),!0}return!1}function bt(t){if("list"===t.type||"text"===t.type){t.edits.forEach((function(t){return bt(t.value)}));var e=t.edits;t.edits=[];var r,n=o(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;mt(t.edits,i)}}catch(t){n.e(t)}finally{n.f()}}else if("map"===t.type||"table"===t.type)for(var a=0,s=Object.keys(t.props);a<s.length;a++)for(var u=s[a],c=0,l=Object.keys(t.props[u]);c<l.length;c++){var f=l[c];bt(t.props[u][f])}}function mt(t,e){if(0!==t.length){var r=t[t.length-1];"insert"===r.action&&"insert"===e.action&&r.index===e.index-1&&"value"===r.value.type&&"value"===e.value.type&&r.elemId===r.opId&&e.elemId===e.opId&&_t(r.elemId,e.elemId,1)?(r.action="multi-insert",r.values=[r.value.value,e.value.value],delete r.value,delete r.opId):"multi-insert"===r.action&&"insert"===e.action&&r.index+r.values.length===e.index&&"value"===e.value.type&&e.elemId===e.opId&&_t(r.elemId,e.elemId,r.values.length)?r.values.push(e.value.value):"remove"===r.action&&"remove"===e.action&&r.index===e.index?r.count+=e.count:t.push(e)}else t.push(e)}function _t(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=f(t),o=f(e);return n.actorId===o.actorId&&n.counter+r===o.counter}function wt(t,e,r){var n=t.objActor,o=t.objCtr,a=t.keyActor,s=t.keyCtr,u=t.keyStr,c=t.idActor,l=t.idCtr,f=t.insert,h=i(e.map((function(t){return t.decoder})),14),d=h[0],p=h[1],y=h[4],v=h[5],g=h[6],b=h[7],m=h[8],_=h[13],w=0,I=0,k=!1,E=null,j=null,x=null,S=null,A=null,O=null,R=0;if(null!==o)for(;(!p.done||!d.done||!m.done)&&(j=p.readValue(),E=r[d.readValue()],m.skipValues(1),null===j||!E||j<o||j===o&&E<n);)w+=1;if(j!==o||E!==n)return{skipCount:w,visibleCount:I};if(null!==u){for(y.skipValues(w);!y.done;){var C=d.readValue();if(E=null===C?null:r[C],j=p.readValue(),!(null!==(A=y.readValue())&&A<u&&j===o&&E===n))break;w+=1}return{skipCount:w,visibleCount:I}}if(g.skipValues(w),v.skipValues(w),b.skipValues(w),_.skipValues(w),S=g.readValue(),x=r[v.readValue()],O=b.readValue(),R=_.readValue(),f){if(null!==s&&s>0&&null!==a){for(w+=1;!(g.done||v.done||S===s&&x===a)&&(O&&(k=!1),0!==R||k||(I+=1,k=!0),S=g.readValue(),x=r[v.readValue()],j=p.readValue(),E=r[d.readValue()],O=b.readValue(),R=_.readValue(),j===o&&E===n);)w+=1;if(j!==o||E!==n||S!==s||x!==a||!O)throw new RangeError("Reference element not found: ".concat(s,"@").concat(a));if(O&&(k=!1),0!==R||k||(I+=1,k=!0),g.done||v.done)return{skipCount:w,visibleCount:I};S=g.readValue(),x=r[v.readValue()],j=p.readValue(),E=r[d.readValue()],O=b.readValue(),R=_.readValue()}for(;(!O||S>l||S===l&&x>c)&&j===o&&E===n&&(w+=1,O&&(k=!1),0!==R||k||(I+=1,k=!0),!g.done&&!v.done);)S=g.readValue(),x=r[v.readValue()],j=p.readValue(),E=r[d.readValue()],O=b.readValue(),R=_.readValue()}else if(null!==s&&s>0&&null!==a){for(;!(O&&S===s&&x===a||j!==o||E!==n||(w+=1,O&&(k=!1),0!==R||k||(I+=1,k=!0),g.done||v.done));)S=g.readValue(),x=r[v.readValue()],j=p.readValue(),E=r[d.readValue()],O=b.readValue(),R=_.readValue();if(j!==o||E!==n||S!==s||x!==a||!O)throw new RangeError("Element not found for update: ".concat(s,"@").concat(a))}return{skipCount:w,visibleCount:I}}function It(t,e,r){if(0!==r){var n,i=0,a=-1,s=0,u=-1,c=0,l=o(t);try{for(l.s();!(n=l.n()).done;){for(var f=n.value;i<e.length&&e[i].columnId<f.columnId;)i++;var h=null;i<e.length&&e[i].columnId===f.columnId&&e[i].decoder.buf.byteLength>0&&(h=e[i].decoder);var d=f.columnId>>4===a?s:r;if(f.columnId%8===S.GROUP_CARD)a=f.columnId>>4,h?s=f.encoder.copyFrom(h,{count:r,sumValues:!0}).sum:(f.encoder.appendValue(0,r),s=0);else if(f.columnId%8===S.VALUE_LEN)if(h){if(i+1===e.length||e[i+1].columnId!==f.columnId+1)throw new RangeError("VALUE_LEN column without accompanying VALUE_RAW column");u=f.columnId+1,c=f.encoder.copyFrom(h,{count:d,sumValues:!0,sumShift:4}).sum}else f.encoder.appendValue(null,d),u=f.columnId+1,c=0;else if(f.columnId%8===S.VALUE_RAW){if(f.columnId!==u)throw new RangeError("VALUE_RAW column without accompanying VALUE_LEN column");c>0&&f.encoder.appendRawBytes(h.readRawBytes(c))}else if(h)f.encoder.copyFrom(h,{count:d});else{var p=f.columnId%8!==S.BOOLEAN&&null;f.encoder.appendValue(p,d)}}}catch(t){l.e(t)}finally{l.f()}}}function kt(t,e){var r,n,i=[],a=-1,s=0,u=-1,c=0,l=o(t);try{for(l.s();!(n=l.n()).done;){var f=n.value;if(f.columnId%8===S.VALUE_RAW){if(f.columnId!==u)throw new RangeError("unexpected VALUE_RAW column");r=f.decoder.readRawBytes(c)}else if(f.columnId%8===S.GROUP_CARD)a=f.columnId>>4,r=s=f.decoder.readValue()||0;else if(f.columnId>>4===a){r=[],f.columnId%8===S.VALUE_LEN&&(u=f.columnId+1,c=0);for(var h=0;h<s;h++){var d=f.decoder.readValue();f.columnId%8===S.ACTOR_ID&&e&&"number"==typeof d&&(d=e[d]),f.columnId%8===S.VALUE_LEN&&(c+=r>>>4),r.push(d)}}else r=f.decoder.readValue(),f.columnId%8===S.ACTOR_ID&&e&&"number"==typeof r&&(r=e[r]),f.columnId%8===S.VALUE_LEN&&(u=f.columnId+1,c=r>>>4);i.push(r)}}catch(t){l.e(t)}finally{l.f()}return i}function Et(t,e,r){var n,i=0,a=-1,s=0,u=o(t);try{for(u.s();!(n=u.n()).done;){for(var c=n.value;i<e.length&&e[i].columnId<c.columnId;)i++;if(i<e.length&&e[i].columnId===c.columnId){var l=r[i];if(c.columnId%8===S.GROUP_CARD)a=c.columnId>>4,s=l,c.encoder.appendValue(l);else if(c.columnId>>4===a){if(!Array.isArray(l)||l.length!==s)throw new RangeError("bad group value");var f,h=o(l);try{for(h.s();!(f=h.n()).done;){var d=f.value;c.encoder.appendValue(d)}}catch(t){h.e(t)}finally{h.f()}}else c.columnId%8===S.VALUE_RAW?c.encoder.appendRawBytes(l):c.encoder.appendValue(l)}else if(c.columnId%8===S.GROUP_CARD)a=c.columnId>>4,s=0,c.encoder.appendValue(0);else if(c.columnId%8!==S.VALUE_RAW){var p=c.columnId>>4===a?s:1,y=null;c.columnId%8===S.BOOLEAN&&(y=!1),c.columnId%8===S.VALUE_LEN&&(y=0),c.encoder.appendValue(y,p)}}}catch(t){u.e(t)}finally{u.f()}}function jt(t,e,r){for(var n=t.actorIds[0],o=i(e.map((function(t){return t.decoder})),9),a=o[0],s=o[1],u=o[2],c=o[3],l=o[4],f=o[7],h=o[8],d={},p=null,y=null,v=t.startOp,g=[],b={};!h.done;){var m=a.readValue(),_=u.readValue(),w={objActor:null===m?null:t.actorIds[m],objCtr:s.readValue(),keyActor:null===_?null:t.actorIds[_],keyCtr:c.readValue(),keyStr:l.readValue(),idActor:n,idCtr:v,insert:f.readValue(),action:h.readValue(),idActorIndex:-1,consecutiveOps:1};if(null===w.objCtr&&null!==w.objActor||null!==w.objCtr&&"string"!=typeof w.objActor)throw new RangeError("Mismatched object reference: (".concat(w.objCtr,", ").concat(w.objActor,")"));if(null===w.keyCtr&&null!==w.keyActor||0===w.keyCtr&&null!==w.keyActor||w.keyCtr>0&&"string"!=typeof w.keyActor)throw new RangeError("Mismatched operation key: (".concat(w.keyCtr,", ").concat(w.keyActor,")"));if(w.opId="".concat(w.idCtr,"@").concat(w.idActor),w.objId=null===w.objCtr?"_root":"".concat(w.objCtr,"@").concat(w.objActor),b[w.objId]=!0,w.action%2==0){var I=void 0;I=null!==w.keyStr?w.keyStr:w.insert?w.opId:"".concat(w.keyCtr,"@").concat(w.keyActor);var k=w.action<O.length?R[O[w.action]]:null;r[w.opId]={parentObj:w.objId,parentKey:I,opId:w.opId,type:k,children:{}},b[w.opId]=!0,V(r,[w.objId,"children",I,w.opId],{objectId:w.opId,type:k,props:{}})}p?w.objActor===y.objActor&&w.objCtr===y.objCtr&&(null!==w.keyStr&&null!==y.keyStr&&y.keyStr<=w.keyStr||null===w.keyStr&&null===y.keyStr&&!y.insert&&!w.insert||null===w.keyStr&&null===y.keyStr&&y.insert&&w.insert&&w.keyActor===y.idActor&&w.keyCtr===y.idCtr)?(p.consecutiveOps+=1,y=w):(d[w.objId]=!0,g.push(p),p=w,y=w):(p=w,y=w),v+=1}return p&&g.push(p),{opSequences:g,objectIds:Object.keys(b)}}var xt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxOp=0,this.changes=[],this.changeByHash={},this.hashesByActor={},this.actorIds=[],this.heads=[],this.clock={},e){var r,n=dt(e),i=o(lt([e]));try{for(i.s();!(r=i.n()).done;){var a=r.value,s=it(a);this.changes.push(s),this.changeByHash[a.hash]=s,this.clock[a.actor]=Math.max(a.seq,this.clock[a.actor]||0)}}catch(t){i.e(t)}finally{i.f()}this.actorIds=n.actorIds,this.heads=n.heads,this.docColumns=X(n.opsColumns,U),this.numOps=0,this.objectMeta={}}else this.docColumns=X([],U),this.numOps=0,this.objectMeta={_root:{parentObj:null,parentKey:null,opId:null,type:"map",children:{}}}}var e,r,a;return e=t,r=[{key:"clone",value:function(){var e=new t;return e.maxOp=this.maxOp,e.changes=this.changes,e.changeByHash=this.changeByHash,e.actorIds=this.actorIds,e.heads=this.heads,e.clock=this.clock,e.docColumns=this.docColumns,e.numOps=this.numOps,e.objectMeta=this.objectMeta,e}},{key:"updatePatchProperty",value:function(t,e,r,n,i,a,s){var u=e.objId,c=r[4]?r[4]:r[7]?"".concat(r[6],"@").concat(n.actorIds[r[5]]):"".concat(r[3],"@").concat(n.actorIds[r[2]]),l=void 0!==s&&r[13]>0;t[u]||(t[u]={objectId:u,type:n.objectMeta[u].type,props:{}});var f=t[u];if(null===r[4]?(f.edits||(f.edits=[]),l||(i[c]?"remove"===i[c].action&&(f.edits.pop(),i[c].action="update"):(f.edits.push({action:"insert",index:a,elemId:c}),i[c]={action:"insert",visibleOps:[],hasChild:!1})),0===s&&(i[c]?"insert"===i[c].action&&(f.edits.pop(),i[c].action="update"):(f.edits.push({action:"remove",index:a}),i[c]={action:"remove",visibleOps:[],hasChild:!1})),!f.props[a]&&i[c]&&["insert","update"].includes(i[c].action)&&(f.props[a]={})):f.props[r[4]]||(f.props[r[4]]={}),!l&&(i[c]||(i[c]={visibleOps:[],hasChild:!1}),i[c].visibleOps.push(r),i[c].hasChild=i[c].hasChild||r[8]%2==0,i[c].hasChild)){var h,d={},p=o(i[c].visibleOps);try{for(p.s();!(h=p.n()).done;){var y=h.value,v="".concat(y[6],"@").concat(n.actorIds[y[5]]);if("set"===O[y[8]])d[v]=K(y[9],y[10]);else if(y[8]%2==0){var g=y[8]<O.length?R[O[y[8]]]:null;d[v]={objectId:v,type:g,props:{}}}}}catch(t){p.e(t)}finally{p.f()}V(n.objectMeta,[u,"children",c],d)}var b="".concat(r[6],"@").concat(n.actorIds[r[5]]),m=null!==r[4]?r[4]:a;if(l&&"set"===O[r[8]]&&(15&r[9])===A.COUNTER){i[c]||(i[c]={visibleOps:[],hasChild:!1}),i[c].counterStates||(i[c].counterStates={});for(var _=i[c].counterStates,w={opId:b,value:K(r[9],r[10]).value,succs:{}},I=0;I<r[13];I++){var k="".concat(r[15][I],"@").concat(n.actorIds[r[14][I]]);_[k]=w,w.succs[k]=!0}}else if("inc"===O[r[8]]){if(!i[c]||!i[c].counterStates||!i[c].counterStates[b])throw new RangeError("increment operation ".concat(b," for unknown counter"));var E=i[c].counterStates[b];E.value+=K(r[9],r[10]).value,delete E.succs[b],0===Object.keys(E.succs).length&&f.props[m]&&(f.props[m][E.opId]={datatype:"counter",value:E.value})}else if(f.props[m]&&!l)if("set"===O[r[8]])f.props[m][b]=K(r[9],r[10]);else if(r[8]%2==0){if(!t[b]){var j=r[8]<O.length?R[O[r[8]]]:null;t[b]={objectId:b,type:j,props:{}}}f.props[m][b]=t[b]}}},{key:"mergeDocChangeOps",value:function(t,e,r,n,o,i){if(o.opsCols[0].columnId!==U.objActor||n[0].columnId!==T.objActor||o.opsCols[1].columnId!==U.objCtr||n[1].columnId!==T.objCtr||o.opsCols[2].columnId!==U.keyActor||n[2].columnId!==T.keyActor||o.opsCols[3].columnId!==U.keyCtr||n[3].columnId!==T.keyCtr||o.opsCols[4].columnId!==U.keyStr||n[4].columnId!==T.keyStr||o.opsCols[5].columnId!==U.idActor||n[5].columnId!==T.idActor||o.opsCols[6].columnId!==U.idCtr||n[6].columnId!==T.idCtr||o.opsCols[7].columnId!==U.insert||n[7].columnId!==T.insert||o.opsCols[8].columnId!==U.action||n[8].columnId!==T.action||o.opsCols[9].columnId!==U.valLen||n[9].columnId!==T.valLen||o.opsCols[10].columnId!==U.valRaw||n[10].columnId!==T.valRaw||o.opsCols[13].columnId!==U.succNum||n[13].columnId!==T.predNum||o.opsCols[14].columnId!==U.succActor||n[14].columnId!==T.predActor||o.opsCols[15].columnId!==U.succCtr||n[15].columnId!==T.predCtr)throw new RangeError("unexpected columnId");for(var a=r.consecutiveOps,s=0,u=r.idCtr,c=!1,l=!1,f={},h=o.opsCols[8].decoder.done?null:kt(o.opsCols),d=null===h?0:1,p=null===h?0:h[13],y=null,v=null,g=[],b=[];;){if(0===g.length)for(c=!1;0===g.length||r.insert||null!==v[4]&&v[4]===g[0][4]||null===v[4]&&v[2]===g[0][2]&&v[3]===g[0][3];){if(null!==v&&(g.push(v),b.push(new Array(v[13]))),0===a){v=null;break}(v=kt(n,o.actorTable))[5]=r.idActorIndex,v[6]=u,a--,u++}g.length>0&&(y=g[0]);var m=h&&h[0]===y[0]&&h[1]===y[1],_=h&&null!==h[4]&&h[4]===y[4],w=h&&null===h[4]&&null===y[4]&&(!h[7]&&h[2]===y[2]&&h[3]===y[3]||h[7]&&h[5]===y[2]&&h[6]===y[3]);if(0===g.length&&(!m||!_&&!w))break;var I=!1,k=0;if(r.insert||!m||null===h[4]&&null!==y[4]||null!==h[4]&&null!==y[4]&&y[4]<h[4]){if(k=g.length,!m&&!c&&null===y[4]&&!y[7])throw new RangeError("could not find list element with ID: "+"".concat(y[3],"@").concat(o.actorIds[y[2]]))}else if(_||w||c){for(var E=0;E<g.length;E++)for(var j=g[E],x=0;x<j[13];x++)if(j[14][x]===h[5]&&j[15][x]===h[6]){for(var S=0;S<h[13]&&(h[15][S]<j[6]||h[15][S]===j[6]&&o.actorIds[h[14][S]]<r.idActor);)S++;h[15].splice(S,0,j[6]),h[14].splice(S,0,r.idActorIndex),h[13]++,b[E][x]=!0;break}if(w&&(c=!0),c&&!w)k=g.length;else if(0===g.length||h[6]<y[6]||h[6]===y[6]&&o.actorIds[h[5]]<r.idActor){I=!0,this.updatePatchProperty(t,r,h,o,f,i,p);for(var A=g.length-1;A>=0;A--){for(var R=!0,C=0;C<g[A][13];C++)b[A][C]||(R=!1);"del"===O[g[A][8]]&&R&&(g.splice(A,1),b.splice(A,1))}}else{if(h[6]===y[6]&&o.actorIds[h[5]]===r.idActor)throw new RangeError("duplicate operation ID: ".concat(y[6],"@").concat(r.idActor));k=1}}else I=!0;if(I&&(Et(e,o.opsCols,h),h[7]&&l&&(l=!1,i++),0===h[13]&&(l=!0),s++,null!==(h=o.opsCols[8].decoder.done?null:kt(o.opsCols))&&(d++,p=h[13])),k>0){for(var z=0;z<k;z++){for(var L=g[z],V=0;V<L[13];V++)if(!b[z][V])throw new RangeError("no matching operation for pred: ".concat(L[15][V],"@").concat(o.actorIds[L[14][V]]));this.updatePatchProperty(t,r,L,o,f,i),Et(e,n,L),L[7]?(l=!1,i++):l=!0}k===g.length?(g.length=0,b.length=0):(g.splice(0,k),b.splice(0,k)),s+=k}}return h&&(Et(e,o.opsCols,h),s++),{opsAppended:s,docOpsConsumed:d}}},{key:"applyOps",value:function(t,e,r,n){var i,a=o(n.opsCols);try{for(a.s();!(i=a.n()).done;)i.value.decoder.reset()}catch(t){a.e(t)}finally{a.f()}var s=wt(e,n.opsCols,n.actorIds),u=s.skipCount,c=s.visibleCount;if(n.lastIndex[e.objId]&&c<n.lastIndex[e.objId])throw new RangeError("list element accesses must occur in ascending order");n.lastIndex[e.objId]=c;var l,f=o(n.opsCols);try{for(f.s();!(l=f.n()).done;)l.value.decoder.reset()}catch(t){f.e(t)}finally{f.f()}var h=n.allCols.map((function(t){return{columnId:t,encoder:Y(t)}}));It(h,n.opsCols,u);var d=this.mergeDocChangeOps(t,h,e,r,n,c),p=d.opsAppended,y=d.docOpsConsumed;It(h,n.opsCols,n.numOps-u-y);var v,g=o(n.opsCols);try{for(g.s();!(v=g.n()).done;){var b=v.value;if(!b.decoder.done)throw new RangeError("excess ops in ".concat(b.columnName," column"))}}catch(t){g.e(t)}finally{g.f()}n.opsCols=h.map((function(t){var e=$(t.columnId,t.encoder.buffer);return{columnId:t.columnId,columnName:z[t.columnId],decoder:e}})),n.numOps=n.numOps+p-y}},{key:"getAllColumns",value:function(t){for(var e=["objActor","objCtr","keyActor","keyCtr","keyStr","idActor","idCtr","insert","action","valLen","valRaw","chldActor","chldCtr","predNum","predActor","predCtr"],r={},n=0;n<e.length;n++)if(t[n].columnName!==e[n])throw new RangeError("Expected column ".concat(e[n]," at index ").concat(n,", got ").concat(t[n].columnName));var i,a=o(t);try{for(a.s();!(i=a.n()).done;)r[i.value.columnId]=!0}catch(t){a.e(t)}finally{a.f()}for(var s=0,u=Object.values(U);s<u.length;s++)r[u[s]]=!0;return delete r[T.predNum],delete r[T.predActor],delete r[T.predCtr],Object.keys(r).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}))}},{key:"getActorTable",value:function(t,e){if(t.indexOf(e.actorIds[0])<0){if(1!==e.seq)throw new RangeError("Seq ".concat(e.seq," is the first change for actor ").concat(e.actorIds[0]));t=t.concat([e.actorIds[0]])}var r,n=[],i=o(e.actorIds);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=t.indexOf(a);if(s<0)throw new RangeError("actorId ".concat(a," is not known to document"));n.push(s)}}catch(t){i.e(t)}finally{i.f()}return{actorIds:t,actorTable:n}}},{key:"setupPatches",value:function(t,e,r){var n,a=o(e);try{for(a.s();!(n=a.n()).done;)for(var s=n.value,u=r.objectMeta[s],c=null,l=!1;;){if(t[s]||(t[s]={objectId:s,type:u.type,props:{}}),c){var h=c.parentKey;if("list"===u.type||"text"===u.type){var d=f(s),p=f(h);h=wt({objActor:d.actorId,objCtr:d.counter,keyActor:p.actorId,keyCtr:p.counter,keyStr:null,insert:!1},r.opsCols,r.actorIds).visibleCount}t[s].props[h]||(t[s].props[h]={});for(var y=t[s].props[h],v=0,g=Object.entries(u.children[c.parentKey]);v<g.length;v++){var b=i(g[v],2),m=b[0],_=b[1];y[m]?l=!0:_.objectId?(t[_.objectId]||(t[_.objectId]=Object.assign({},_,{props:{}})),y[m]=t[_.objectId]):y[m]=_}if(!y[c.opId])throw new RangeError("object metadata did not contain child entry for ".concat(c.opId))}if(l||!u.parentObj)break;c=u,s=u.parentObj,u=r.objectMeta[s]}}catch(t){a.e(t)}finally{a.f()}return t}},{key:"applyChanges",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={_root:{objectId:"_root",type:"map",props:{}}},i={actorIds:this.actorIds,opsCols:this.docColumns,numOps:this.numOps,objectMeta:Object.assign({},this.objectMeta),lastIndex:{}},a={},s=Object.assign({},this.changeByHash),u=this.maxOp,c={},l=Object.assign({},this.clock),f=o(this.heads);try{for(f.s();!(e=f.n()).done;){var h=e.value;c[h]=!0}}catch(t){f.e(t)}finally{f.f()}var d,p=[],y=o(t);try{for(y.s();!(d=y.n()).done;){var v=d.value,g=at(v);p.push(g);var b,m=o(g.deps);try{for(m.s();!(b=m.n()).done;){var _=b.value;if(!s[_])throw new RangeError("missing dependency ".concat(_));delete c[_]}}catch(t){m.e(t)}finally{m.f()}s[g.hash]=v,c[g.hash]=!0;var w=(l[g.actor]||0)+1;if(g.seq!==w)throw new RangeError("Expected seq ".concat(w,", got seq ").concat(g.seq," from actor ").concat(g.actor));l[g.actor]=g.seq;var I=X(g.columns,T);i.allCols=this.getAllColumns(I),Object.assign(i,this.getActorTable(i.actorIds,g));var k,E=i.actorIds.indexOf(g.actorIds[0]),j=jt(g,I,i.objectMeta),x=j.opSequences,S=j.objectIds,A=o(S);try{for(A.s();!(k=A.n()).done;){var O=k.value;a[O]=!0}}catch(t){A.e(t)}finally{A.f()}var R=x[x.length-1];R&&(u=Math.max(u,R.idCtr+R.consecutiveOps-1));var C,U=o(I);try{for(U.s();!(C=U.n()).done;){var z=C.value;z.decoder.reset()}}catch(t){U.e(t)}finally{U.f()}var L,V=o(x);try{for(V.s();!(L=V.n()).done;){var B=L.value;B.idActorIndex=E,this.applyOps(n,B,I,i)}}catch(t){V.e(t)}finally{V.f()}}}catch(t){y.e(t)}finally{y.f()}this.setupPatches(n,Object.keys(a),i),this.maxOp=u,this.changes=this.changes.concat(t),this.changeByHash=s,this.actorIds=i.actorIds,this.heads=Object.keys(c).sort(),this.clock=l,this.docColumns=i.opsCols,this.numOps=i.numOps,this.objectMeta=i.objectMeta;for(var N=0,M=p;N<M.length;N++){var D=M[N];1===D.seq&&(this.hashesByActor[D.actor]=[]),this.hashesByActor[D.actor].push(D.hash)}var P={maxOp:u,clock:l,deps:this.heads,diffs:n._root};return r&&1===p.length&&(P.actor=p[0].actor,P.seq=p[0].seq),P}},{key:"getChanges",value:function(t){var e,r={},n=this.changes.map(at),i=o(t);try{for(i.s();!(e=i.n()).done;)r[e.value]=!0}catch(t){i.e(t)}finally{i.f()}for(var a=n.length-1;a>=0;a--)if(r[n[a].hash]){var s,u=o(n[a].deps);try{for(u.s();!(s=u.n()).done;)r[s.value]=!0}catch(t){u.e(t)}finally{u.f()}}for(var c=[],l=0;l<n.length;l++)r[n[l].hash]||c.push(this.changes[l]);return c}},{key:"getMissingDeps",value:function(){return[]}},{key:"save",value:function(){return ht(this.changes)}}],r&&n(e.prototype,r),a&&n(e,a),t}();t.exports={COLUMN_TYPE:S,VALUE_TYPE:A,ACTIONS:O,DOC_OPS_COLUMNS:U,CHANGE_COLUMNS:T,DOCUMENT_COLUMNS:L,splitContainers:ct,encodeChange:it,decodeChange:st,decodeChangeMeta:function(t,e){2===t[8]&&(t=ut(t));var r=ot(new b(t),e);if(1!==r.chunkType)throw new RangeError("Buffer chunk type is not a change");var n=rt(new b(r.chunkData));return n.change=t,e&&(n.hash=r.hash),n},decodeChanges:lt,encodeDocument:ht,decodeDocument:pt,getChangeChecksum:function(t){if(t[0]!==x[0]||t[1]!==x[1]||t[2]!==x[2]||t[3]!==x[3])throw new RangeError("Data does not begin with magic bytes 85 6f 4a 83");return(t[4]<<24|t[5]<<16|t[6]<<8|t[7])>>>0},appendEdit:mt,constructPatch:function(t){for(var e=dt(t),r=e.opsColumns,n=e.actorIds,o=X(r,U).reduce((function(t,e){return Object.assign(t,function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},e.columnName,e.decoder))}),{}),i={_root:{objectId:"_root",type:"map",props:{}}},a=null;!o.idActor.done;){var s="".concat(o.idCtr.readValue(),"@").concat(n[o.idActor.readValue()]),u=o.action.readValue(),c=O[u];if(u%2==0){var l=R[c]||"unknown";i[s]="list"===l||"text"===l?{objectId:s,type:l,edits:[]}:{objectId:s,type:l,props:{}}}var f=o.objActor.readValue(),h=o.objCtr.readValue(),d=null===f?"_root":"".concat(h,"@").concat(n[f]),p=i[d];if(!p)throw new RangeError("Operation for nonexistent object: ".concat(d));for(var y=o.keyActor.readValue(),v=o.keyCtr.readValue(),g=o.keyStr.readValue(),b=!!o.insert.readValue(),m=o.chldActor.readValue(),_=o.chldCtr.readValue(),w=null===m?null:"".concat(_,"@").concat(n[m]),I=o.valLen.readValue(),k=K(I,o.valRaw.readRawBytes(I>>4)),E=o.succNum.readValue(),j=[],x=0;x<E;x++)j.push("".concat(o.succCtr.readValue(),"@").concat(n[o.succActor.readValue()]));if(c&&"unknown"!==p.type){var S=void 0;if("list"===p.type||"text"===p.type){if(null===v||0===v&&!b)throw new RangeError("Operation ".concat(s," on ").concat(p.type," object has no key"));S=b?s:"".concat(v,"@").concat(n[y])}else{if(null===g)throw new RangeError("Operation ".concat(s," on ").concat(p.type," object has no key"));S=g}if(!a||a.objId!==d||a.key!==S){var A=0;a&&(A=a.index,gt(i,a)&&(A+=1),a.objId!==d&&(A=0)),a={objId:d,key:S,index:A,ops:[]}}a.ops.push({opId:s,actionName:c,value:k,childId:w,succ:j})}}return a&&gt(i,a),bt(i._root),i._root},BackendDoc:xt}},"./backend/encoding.js":
/*!*****************************!*\
  !*** ./backend/encoding.js ***!
  \*****************************/(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e,r){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},o(t,e,r||t)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}function d(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y,v;if("function"==typeof TextEncoder&&"function"==typeof TextDecoder){var g=new TextEncoder,b=new TextDecoder("utf-8");y=function(t){return g.encode(t)},v=function(t){return b.decode(t)}}else{if("function"!=typeof Buffer)throw new Error("Platform does not provide UTF-8 encoding/decoding feature");var m=new(0,r(/*! string_decoder */"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder)("utf8");y=function(t){return Buffer.from(t,"utf8")},v=function(t){return m.end(Buffer.from(t))}}function _(t){if("string"!=typeof t)throw new TypeError("value is not a string");if(!/^([0-9a-f][0-9a-f])*$/.test(t))throw new RangeError("value is not hexadecimal");return""===t?new Uint8Array(0):new Uint8Array(t.match(/../g).map((function(t){return parseInt(t,16)})))}function w(t){var e,r=[],n=d(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o<0||o>255)throw new RangeError("value does not fit in one byte: ".concat(o));r.push(("0"+o.toString(16)).slice(-2))}}catch(t){n.e(t)}finally{n.f()}return r.join("")}var I=function(){function t(){l(this,t),this.buf=new Uint8Array(16),this.offset=0}return h(t,[{key:"buffer",get:function(){return this.finish(),this.buf.subarray(0,this.offset)}},{key:"grow",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=4*this.buf.byteLength;e<t;)e*=2;var r=new Uint8Array(e);return r.set(this.buf,0),this.buf=r,this}},{key:"appendByte",value:function(t){this.offset>=this.buf.byteLength&&this.grow(),this.buf[this.offset]=t,this.offset+=1}},{key:"appendUint32",value:function(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<0||t>4294967295)throw new RangeError("number out of range");var e=Math.max(1,Math.ceil((32-Math.clz32(t))/7));this.offset+e>this.buf.byteLength&&this.grow();for(var r=0;r<e;r++)this.buf[this.offset+r]=127&t|(r===e-1?0:128),t>>>=7;return this.offset+=e,e}},{key:"appendInt32",value:function(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<-2147483648||t>2147483647)throw new RangeError("number out of range");var e=Math.ceil((33-Math.clz32(t>=0?t:-t-1))/7);this.offset+e>this.buf.byteLength&&this.grow();for(var r=0;r<e;r++)this.buf[this.offset+r]=127&t|(r===e-1?0:128),t>>=7;return this.offset+=e,e}},{key:"appendUint53",value:function(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<0||t>Number.MAX_SAFE_INTEGER)throw new RangeError("number out of range");var e=Math.floor(t/4294967296),r=(4294967295&t)>>>0;return this.appendUint64(e,r)}},{key:"appendInt53",value:function(t){if(!Number.isInteger(t))throw new RangeError("value is not an integer");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new RangeError("number out of range");var e=Math.floor(t/4294967296),r=(4294967295&t)>>>0;return this.appendInt64(e,r)}},{key:"appendUint64",value:function(t,e){if(!Number.isInteger(t)||!Number.isInteger(e))throw new RangeError("value is not an integer");if(t<0||t>4294967295||e<0||e>4294967295)throw new RangeError("number out of range");if(0===t)return this.appendUint32(e);var r=Math.ceil((64-Math.clz32(t))/7);this.offset+r>this.buf.byteLength&&this.grow();for(var n=0;n<4;n++)this.buf[this.offset+n]=127&e|128,e>>>=7;this.buf[this.offset+4]=15&e|(7&t)<<4|(5===r?0:128),t>>>=3;for(var o=5;o<r;o++)this.buf[this.offset+o]=127&t|(o===r-1?0:128),t>>>=7;return this.offset+=r,r}},{key:"appendInt64",value:function(t,e){if(!Number.isInteger(t)||!Number.isInteger(e))throw new RangeError("value is not an integer");if(t<-2147483648||t>2147483647||e<-2147483648||e>4294967295)throw new RangeError("number out of range");if(e>>>=0,0===t&&e<=2147483647)return this.appendInt32(e);if(-1===t&&e>=2147483648)return this.appendInt32(e-4294967296);var r=Math.ceil((65-Math.clz32(t>=0?t:-t-1))/7);this.offset+r>this.buf.byteLength&&this.grow();for(var n=0;n<4;n++)this.buf[this.offset+n]=127&e|128,e>>>=7;this.buf[this.offset+4]=15&e|(7&t)<<4|(5===r?0:128),t>>=3;for(var o=5;o<r;o++)this.buf[this.offset+o]=127&t|(o===r-1?0:128),t>>=7;return this.offset+=r,r}},{key:"appendRawBytes",value:function(t){return this.offset+t.byteLength>this.buf.byteLength&&this.grow(this.offset+t.byteLength),this.buf.set(t,this.offset),this.offset+=t.byteLength,t.byteLength}},{key:"appendRawString",value:function(t){if("string"!=typeof t)throw new TypeError("value is not a string");return this.appendRawBytes(y(t))}},{key:"appendPrefixedBytes",value:function(t){return this.appendUint53(t.byteLength),this.appendRawBytes(t),this}},{key:"appendPrefixedString",value:function(t){if("string"!=typeof t)throw new TypeError("value is not a string");return this.appendPrefixedBytes(y(t)),this}},{key:"appendHexString",value:function(t){return this.appendPrefixedBytes(_(t)),this}},{key:"finish",value:function(){}}]),t}(),k=function(){function t(e){if(l(this,t),!(e instanceof Uint8Array))throw new TypeError("Not a byte array: ".concat(e));this.buf=e,this.offset=0}return h(t,[{key:"done",get:function(){return this.offset===this.buf.byteLength}},{key:"reset",value:function(){this.offset=0}},{key:"skip",value:function(t){if(this.offset+t>this.buf.byteLength)throw new RangeError("cannot skip beyond end of buffer");this.offset+=t}},{key:"readByte",value:function(){return this.offset+=1,this.buf[this.offset-1]}},{key:"readUint32",value:function(){for(var t=0,e=0;this.offset<this.buf.byteLength;){var r=this.buf[this.offset];if(28===e&&0!=(240&r))throw new RangeError("number out of range");if(t=(t|(127&r)<<e)>>>0,e+=7,this.offset++,0==(128&r))return t}throw new RangeError("buffer ended with incomplete number")}},{key:"readInt32",value:function(){for(var t=0,e=0;this.offset<this.buf.byteLength;){var r=this.buf[this.offset];if(28===e&&0!=(128&r)||28===e&&0==(64&r)&&0!=(56&r)||28===e&&0!=(64&r)&&56!=(56&r))throw new RangeError("number out of range");if(t|=(127&r)<<e,e+=7,this.offset++,0==(128&r))return 0==(64&r)||e>28?t:t|-1<<e}throw new RangeError("buffer ended with incomplete number")}},{key:"readUint53",value:function(){var t=this.readUint64(),e=t.low32,r=t.high32;if(r<0||r>2097151)throw new RangeError("number out of range");return 4294967296*r+e}},{key:"readInt53",value:function(){var t=this.readInt64(),e=t.low32,r=t.high32;if(r<-2097152||-2097152===r&&0===e||r>2097151)throw new RangeError("number out of range");return 4294967296*r+e}},{key:"readUint64",value:function(){for(var t=0,e=0,r=0;this.offset<this.buf.byteLength&&r<=28;){var n=this.buf[this.offset];if(t=(t|(127&n)<<r)>>>0,28===r&&(e=(112&n)>>>4),r+=7,this.offset++,0==(128&n))return{high32:e,low32:t}}for(r=3;this.offset<this.buf.byteLength;){var o=this.buf[this.offset];if(31===r&&0!=(254&o))throw new RangeError("number out of range");if(e=(e|(127&o)<<r)>>>0,r+=7,this.offset++,0==(128&o))return{high32:e,low32:t}}throw new RangeError("buffer ended with incomplete number")}},{key:"readInt64",value:function(){for(var t=0,e=0,r=0;this.offset<this.buf.byteLength&&r<=28;){var n=this.buf[this.offset];if(t=(t|(127&n)<<r)>>>0,28===r&&(e=(112&n)>>>4),r+=7,this.offset++,0==(128&n))return 0!=(64&n)&&(r<32&&(t=(t|-1<<r)>>>0),e|=-1<<Math.max(r-32,0)),{high32:e,low32:t}}for(r=3;this.offset<this.buf.byteLength;){var o=this.buf[this.offset];if(31===r&&0!==o&&127!==o)throw new RangeError("number out of range");if(e|=(127&o)<<r,r+=7,this.offset++,0==(128&o))return 0!=(64&o)&&r<32&&(e|=-1<<r),{high32:e,low32:t}}throw new RangeError("buffer ended with incomplete number")}},{key:"readRawBytes",value:function(t){var e=this.offset;if(e+t>this.buf.byteLength)throw new RangeError("subarray exceeds buffer size");return this.offset+=t,this.buf.subarray(e,this.offset)}},{key:"readRawString",value:function(t){return v(this.readRawBytes(t))}},{key:"readPrefixedBytes",value:function(){return this.readRawBytes(this.readUint53())}},{key:"readPrefixedString",value:function(){return v(this.readPrefixedBytes())}},{key:"readHexString",value:function(){return w(this.readPrefixedBytes())}}]),t}(),E=function(t){i(r,t);var e=s(r);function r(t){var n;return l(this,r),(n=e.call(this)).type=t,n.state="empty",n.lastValue=void 0,n.count=0,n.literal=[],n}return h(r,[{key:"appendValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._appendValue(t,e)}},{key:"_appendValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e<=0||("empty"===this.state?(this.state=null===t?"nulls":1===e?"loneValue":"repetition",this.lastValue=t,this.count=e):"loneValue"===this.state?null===t?(this.flush(),this.state="nulls",this.count=e):t===this.lastValue?(this.state="repetition",this.count=1+e):e>1?(this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.state="literal",this.literal=[this.lastValue],this.lastValue=t):"repetition"===this.state?null===t?(this.flush(),this.state="nulls",this.count=e):t===this.lastValue?this.count+=e:e>1?(this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.flush(),this.state="loneValue",this.lastValue=t):"literal"===this.state?null===t?(this.literal.push(this.lastValue),this.flush(),this.state="nulls",this.count=e):t===this.lastValue?(this.flush(),this.state="repetition",this.count=1+e):e>1?(this.literal.push(this.lastValue),this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.literal.push(this.lastValue),this.lastValue=t):"nulls"===this.state&&(null===t?this.count+=e:e>1?(this.flush(),this.state="repetition",this.count=e,this.lastValue=t):(this.flush(),this.state="loneValue",this.lastValue=t)))}},{key:"copyFrom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.count,n=e.sumValues,o=e.sumShift;if(!(t instanceof j)||t.type!==this.type)throw new TypeError("incompatible type of decoder");var i="number"==typeof r?r:Number.MAX_SAFE_INTEGER,a=0,s=0;if(r&&i>0&&t.done)throw new RangeError("cannot copy ".concat(r," values"));if(0===i||t.done)return n?{nonNullValues:a,sum:s}:{nonNullValues:a};var u=t.readValue();if(null===u){var c=Math.min(t.count+1,i);if(i-=c,t.count-=c-1,this.appendValue(null,c),r&&i>0&&t.done)throw new RangeError("cannot copy ".concat(r," values"));if(0===i||t.done)return n?{nonNullValues:a,sum:s}:{nonNullValues:a};if(null===(u=t.readValue()))throw new RangeError("null run must be followed by non-null value")}if(this.appendValue(u),i--,a++,n&&(s+=o?u>>>o:u),r&&i>0&&t.done)throw new RangeError("cannot copy ".concat(r," values"));if(0===i||t.done)return n?{nonNullValues:a,sum:s}:{nonNullValues:a};for(var l=t.count>0;i>0&&!t.done;){l||t.readRecord();var f=Math.min(t.count,i);if(t.count-=f,"literal"===t.state){a+=f;for(var h=0;h<f;h++){if(t.done)throw new RangeError("incomplete literal");var d=t.readRawValue();if(d===t.lastValue)throw new RangeError("Repetition of values is not allowed in literal");t.lastValue=d,this._appendValue(d),n&&(s+=o?d>>>o:d)}}else if("repetition"===t.state){a+=f,n&&(s+=f*(o?t.lastValue>>>o:t.lastValue));var p=t.lastValue;if(this._appendValue(p),f>1){if(this._appendValue(p),"repetition"!==this.state)throw new RangeError("Unexpected state ".concat(this.state));this.count+=f-2}}else if("nulls"===t.state){if(this._appendValue(null),"nulls"!==this.state)throw new RangeError("Unexpected state ".concat(this.state));this.count+=f-1}l=!1,i-=f}if(r&&i>0&&t.done)throw new RangeError("cannot copy ".concat(r," values"));return n?{nonNullValues:a,sum:s}:{nonNullValues:a}}},{key:"flush",value:function(){if("loneValue"===this.state)this.appendInt32(-1),this.appendRawValue(this.lastValue);else if("repetition"===this.state)this.appendInt53(this.count),this.appendRawValue(this.lastValue);else if("literal"===this.state){this.appendInt53(-this.literal.length);var t,e=d(this.literal);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.appendRawValue(r)}}catch(t){e.e(t)}finally{e.f()}}else"nulls"===this.state&&(this.appendInt32(0),this.appendUint53(this.count));this.state="empty"}},{key:"appendRawValue",value:function(t){if("int"===this.type)this.appendInt53(t);else if("uint"===this.type)this.appendUint53(t);else{if("utf8"!==this.type)throw new RangeError("Unknown RLEEncoder datatype: ".concat(this.type));this.appendPrefixedString(t)}}},{key:"finish",value:function(){"literal"===this.state&&this.literal.push(this.lastValue),("nulls"!==this.state||this.offset>0)&&this.flush()}}]),r}(I),j=function(t){i(r,t);var e=s(r);function r(t,n){var o;return l(this,r),(o=e.call(this,n)).type=t,o.lastValue=void 0,o.count=0,o.state=void 0,o}return h(r,[{key:"done",get:function(){return 0===this.count&&this.offset===this.buf.byteLength}},{key:"reset",value:function(){this.offset=0,this.lastValue=void 0,this.count=0,this.state=void 0}},{key:"readValue",value:function(){if(this.done)return null;if(0===this.count&&this.readRecord(),this.count-=1,"literal"===this.state){var t=this.readRawValue();if(t===this.lastValue)throw new RangeError("Repetition of values is not allowed in literal");return this.lastValue=t,t}return this.lastValue}},{key:"skipValues",value:function(t){for(;t>0&&!this.done;){0===this.count&&(this.count=this.readInt53(),this.count>0?(this.lastValue=this.count<=t?this.skipRawValues(1):this.readRawValue(),this.state="repetition"):this.count<0?(this.count=-this.count,this.state="literal"):(this.count=this.readUint53(),this.lastValue=null,this.state="nulls"));var e=Math.min(t,this.count);"literal"===this.state&&this.skipRawValues(e),t-=e,this.count-=e}}},{key:"readRecord",value:function(){if(this.count=this.readInt53(),this.count>1){var t=this.readRawValue();if(("repetition"===this.state||"literal"===this.state)&&this.lastValue===t)throw new RangeError("Successive repetitions with the same value are not allowed");this.state="repetition",this.lastValue=t}else{if(1===this.count)throw new RangeError("Repetition count of 1 is not allowed, use a literal instead");if(this.count<0){if(this.count=-this.count,"literal"===this.state)throw new RangeError("Successive literals are not allowed");this.state="literal"}else{if("nulls"===this.state)throw new RangeError("Successive null runs are not allowed");if(this.count=this.readUint53(),0===this.count)throw new RangeError("Zero-length null runs are not allowed");this.lastValue=null,this.state="nulls"}}}},{key:"readRawValue",value:function(){if("int"===this.type)return this.readInt53();if("uint"===this.type)return this.readUint53();if("utf8"===this.type)return this.readPrefixedString();throw new RangeError("Unknown RLEDecoder datatype: ".concat(this.type))}},{key:"skipRawValues",value:function(t){if("utf8"===this.type)for(var e=0;e<t;e++)this.skip(this.readUint53());else{for(;t>0&&this.offset<this.buf.byteLength;)0==(128&this.buf[this.offset])&&t--,this.offset++;if(t>0)throw new RangeError("cannot skip beyond end of buffer")}}}]),r}(k),x=function(t){i(r,t);var e=s(r);function r(){var t;return l(this,r),(t=e.call(this,"int")).absoluteValue=0,t}return h(r,[{key:"appendValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e<=0||("number"==typeof t?(o(c(r.prototype),"appendValue",this).call(this,t-this.absoluteValue,1),this.absoluteValue=t,e>1&&o(c(r.prototype),"appendValue",this).call(this,0,e-1)):o(c(r.prototype),"appendValue",this).call(this,t,e))}},{key:"copyFrom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.sumValues)throw new RangeError("unsupported options for DeltaEncoder.copyFrom()");if(!(t instanceof S))throw new TypeError("incompatible type of decoder");var n=e.count;if(n>0&&t.done)throw new RangeError("cannot copy ".concat(n," values"));if(0!==n&&!t.done){var i=t.readValue(),a=0;if(this.appendValue(i),null===i){if(a=t.count+1,void 0!==n&&n<a&&(a=n),t.count-=a-1,this.count+=a-1,n>a&&t.done)throw new RangeError("cannot copy ".concat(n," values"));if(n===a||t.done)return;0===t.count&&this.appendValue(t.readValue())}void 0!==n&&(n-=a+1);var s=o(c(r.prototype),"copyFrom",this).call(this,t,{count:n,sumValues:!0}),u=s.nonNullValues,l=s.sum;u>0&&(this.absoluteValue=l,t.absoluteValue=l)}}}]),r}(E),S=function(t){i(r,t);var e=s(r);function r(t){var n;return l(this,r),(n=e.call(this,"int",t)).absoluteValue=0,n}return h(r,[{key:"reset",value:function(){this.offset=0,this.lastValue=void 0,this.count=0,this.state=void 0,this.absoluteValue=0}},{key:"readValue",value:function(){var t=o(c(r.prototype),"readValue",this).call(this);return null===t?null:(this.absoluteValue+=t,this.absoluteValue)}},{key:"skipValues",value:function(t){for(;t>0&&!this.done;){0===this.count&&this.readRecord();var e=Math.min(t,this.count);if("literal"===this.state)for(var r=0;r<e;r++)this.lastValue=this.readRawValue(),this.absoluteValue+=this.lastValue;else"repetition"===this.state&&(this.absoluteValue+=e*this.lastValue);t-=e,this.count-=e}}}]),r}(j),A=function(t){i(r,t);var e=s(r);function r(){var t;return l(this,r),(t=e.call(this)).lastValue=!1,t.count=0,t}return h(r,[{key:"appendValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!1!==t&&!0!==t)throw new RangeError("Unsupported value for BooleanEncoder: ".concat(t));e<=0||(this.lastValue===t?this.count+=e:(this.appendUint53(this.count),this.lastValue=t,this.count=e))}},{key:"copyFrom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t instanceof O))throw new TypeError("incompatible type of decoder");var r=e.count,n="number"==typeof r?r:Number.MAX_SAFE_INTEGER;if(r&&n>0&&t.done)throw new RangeError("cannot copy ".concat(r," values"));if(0!==n&&!t.done){this.appendValue(t.readValue()),n--;var o=Math.min(t.count,n);for(this.count+=o,t.count-=o,n-=o;n>0&&!t.done;){if(t.count=t.readUint53(),0===t.count)throw new RangeError("Zero-length runs are not allowed");t.lastValue=!t.lastValue,this.appendUint53(this.count);var i=Math.min(t.count,n);this.count=i,this.lastValue=t.lastValue,t.count-=i,n-=i}if(r&&n>0&&t.done)throw new RangeError("cannot copy ".concat(r," values"))}}},{key:"finish",value:function(){this.count>0&&(this.appendUint53(this.count),this.count=0)}}]),r}(I),O=function(t){i(r,t);var e=s(r);function r(t){var n;return l(this,r),(n=e.call(this,t)).lastValue=!0,n.firstRun=!0,n.count=0,n}return h(r,[{key:"done",get:function(){return 0===this.count&&this.offset===this.buf.byteLength}},{key:"reset",value:function(){this.offset=0,this.lastValue=!0,this.firstRun=!0,this.count=0}},{key:"readValue",value:function(){if(this.done)return!1;for(;0===this.count;){if(this.count=this.readUint53(),this.lastValue=!this.lastValue,0===this.count&&!this.firstRun)throw new RangeError("Zero-length runs are not allowed");this.firstRun=!1}return this.count-=1,this.lastValue}},{key:"skipValues",value:function(t){for(;t>0&&!this.done;){if(0===this.count&&(this.count=this.readUint53(),this.lastValue=!this.lastValue,0===this.count))throw new RangeError("Zero-length runs are not allowed");this.count<t?(t-=this.count,this.count=0):(this.count-=t,t=0)}}}]),r}(k);t.exports={stringToUtf8:y,utf8ToString:v,hexStringToBytes:_,bytesToHexString:w,Encoder:I,Decoder:k,RLEEncoder:E,RLEDecoder:j,DeltaEncoder:x,DeltaDecoder:S,BooleanEncoder:A,BooleanDecoder:O}},"./backend/index.js":
/*!**************************!*\
  !*** ./backend/index.js ***!
  \**************************/(t,e,r)=>{var n=r(/*! ./backend */"./backend/backend.js"),o=n.init,i=n.clone,a=n.free,s=n.applyChanges,u=n.applyLocalChange,c=n.save,l=n.load,f=n.loadChanges,h=n.getPatch,d=n.getHeads,p=n.getAllChanges,y=n.getChanges,v=n.getChangeByHash,g=n.getMissingDeps,b=r(/*! ./sync */"./backend/sync.js"),m=b.receiveSyncMessage,_=b.generateSyncMessage,w=b.encodeSyncMessage,I=b.decodeSyncMessage,k=b.encodeSyncState,E=b.decodeSyncState,j=b.initSyncState;t.exports={init:o,clone:i,free:a,applyChanges:s,applyLocalChange:u,save:c,load:l,loadChanges:f,getPatch:h,getHeads:d,getAllChanges:p,getChanges:y,getChangeByHash:v,getMissingDeps:g,receiveSyncMessage:m,generateSyncMessage:_,encodeSyncMessage:w,decodeSyncMessage:I,encodeSyncState:k,decodeSyncState:E,initSyncState:j}},"./backend/op_set.js":
/*!***************************!*\
  !*** ./backend/op_set.js ***!
  \***************************/(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=r(/*! immutable */"./node_modules/immutable/dist/immutable.js"),u=s.Map,c=s.List,l=s.Set,f=s.fromJS,h=r(/*! ./skip_list */"./backend/skip_list.js").SkipList,d=r(/*! ./columnar */"./backend/columnar.js"),p=d.decodeChange,y=d.decodeChangeMeta,v=d.appendEdit,g=r(/*! ../src/common */"./src/common.js").parseOpId;function b(t,e){var r,n=o(e.deps);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!t.hasIn(["hashes",i]))return!1}}catch(t){n.e(t)}finally{n.f()}return!0}function m(t,e){if("_root"===e)return"map";var r=t.getIn(["byObject",e,"_init","action"]),n={makeMap:"map",makeTable:"table",makeList:"list",makeText:"text"}[r];if(!n)throw new RangeError("Unknown object type ".concat(r," for ").concat(e));return n}function _(t,e,r){var n=I(e),o=e.get("action");if(t.hasIn(["byObject",n,"_keys"]))throw new Error("Duplicate creation of object ".concat(n));var i=u({_init:e,_inbound:l(),_keys:u()});return"makeList"!==o&&"makeText"!==o||(i=i.set("_elemIds",new h)),t=t.setIn(["byObject",n],i),r&&(r.objectId=n,r.type=m(t,n),r.props={},"list"!==r.type&&"text"!==r.type||(r.edits=[])),t}function w(t){var e=t.get("action");return e.startsWith("make")||"link"===e}function I(t){return t.get("child",t.get("opId"))}function k(t){var e=t.get("key");if(e)return e;var r=t.get("insert")?t.get("opId"):t.get("elemId");if(!r)throw new RangeError("operation has no key: ".concat(t));return r}function E(t,e,r){var n=e.get("obj"),i=e.get("action"),a=k(e);if(!t.get("byObject").has(n))throw new RangeError("Modification of unknown object ".concat(n));var s=m(t,n);if(r){if(r.objectId=r.objectId||n,r.objectId!==n)throw new RangeError("objectId mismatch in patch: ".concat(r.objectId," != ").concat(n));if(r.type=r.type||s,r.type!==s)throw new RangeError("object type mismatch in patch: ".concat(r.type," != ").concat(s));"list"===s||"text"===s||r.props[a]||(r.props[a]={})}if(i.startsWith("make"))if(r){var u={};t=_(t,e,u),"map"!==s&&"table"!==s||(r.props[a][e.get("opId")]=u)}else t=_(t,e);"link"===i&&r&&(r.props[a][e.get("opId")]=D(t,I(e)));var f,h,d=T(t,n,a);if("inc"===i)f=c(),h=d.map((function(t){return"set"===t.get("action")&&"number"==typeof t.get("value")&&"counter"===t.get("datatype")&&e.get("pred").includes(t.get("opId"))?t.set("value",t.get("value")+e.get("value")):t}));else{var p=d.groupBy((function(t){return e.get("pred").includes(t.get("opId"))}));f=p.get(!0,c()),h=p.get(!1,c())}var y,v=o(f.filter(w));try{var g=function(){var e=y.value;t=t.updateIn(["byObject",I(e),"_inbound"],(function(t){return t.remove(e)}))};for(v.s();!(y=v.n()).done;)g()}catch(t){v.e(t)}finally{v.f()}return w(e)&&(t=t.updateIn(["byObject",I(e),"_inbound"],l(),(function(t){return t.add(e)}))),("set"===i||w(e))&&(h=h.push(e)),h=h.sort(z).reverse(),t=t.setIn(["byObject",n,"_keys",a],h),"list"===s||"text"===s?t=function(t,e,r,n){var o=T(t,e,r),i=t.getIn(["byObject",e,"_elemIds"]),a=i.indexOf(r);if(a>=0)i=o.isEmpty()?i.removeIndex(a):i.setValue(r,o.first().get("value")),A(t,e,r,a,!1,n);else{if(o.isEmpty())return t;for(var s=r;a=-1,(s=N(t,e,s))&&!((a=i.indexOf(s))>=0););a+=1,i=i.insertIndex(a,r,o.first().get("value")),A(t,e,r,a,!0,n)}return t.setIn(["byObject",e,"_elemIds"],i)}(t,n,a,r):S(t,n,a,r),t}function j(t,e,r){var n=e.get("obj"),o=e.get("opId"),i=k(e),a=m(t,n);if(r.objectId=r.objectId||n,r.type=r.type||a,r.objectId!==n)throw new RangeError("objectId mismatch in path: ".concat(r.objectId," != ").concat(n));if(r.type!==a)throw new RangeError("object type mismatch in path: ".concat(r.type," != ").concat(a));if(!r.props[i]||!r.props[i][o])if("list"===a||"text"===a){var s=t.getIn(["byObject",n,"_elemIds"]).indexOf(i);A(t,n,i,s,!1,r)}else S(t,n,i,r);if(void 0===r.props[i][o])throw new RangeError("field ops for ".concat(i," did not contain opId ").concat(o));return r.props[i][o]}function x(t,e){if("set"===e.get("action")){var r={type:"value",value:e.get("value")};return e.get("datatype")&&(r.datatype=e.get("datatype")),r}if(w(e)){var n=I(e),o=m(t,n);return"list"===o||"text"===o?{objectId:n,type:o,props:{},edits:[]}:{objectId:n,type:o,props:{}}}throw new RangeError("Unexpected operation in field ops: ".concat(e.get("action")))}function S(t,e,r,n){if(n){n.props[r]||(n.props[r]={});var i,a={},s=o(T(t,e,r));try{for(s.s();!(i=s.n()).done;){var u=i.value,c=u.get("opId");a[c]=!0,w(u)&&n.props[r][c]||(n.props[r][c]=x(t,u))}}catch(t){s.e(t)}finally{s.f()}for(var l=0,f=Object.keys(n.props[r]);l<f.length;l++){var h=f[l];a[h]||delete n.props[r][h]}}}function A(t,e,r,n,i,a){if(a)if(S(t,e,r,a),0!==Object.keys(a.props[r]).length){for(;!i&&a.edits.length>0&&a.edits[a.edits.length-1].index===n&&["insert","update"].includes(a.edits[a.edits.length-1].action);)i="insert"===a.edits.pop().action;var s,u=o(Object.keys(a.props[r]).sort(L));try{for(u.s();!(s=u.n()).done;){var c=s.value,l=a.props[r][c];v(a.edits,i?{action:"insert",index:n,elemId:r,opId:c,value:l}:{action:"update",index:n,opId:c,value:l}),i=!1}}catch(t){u.e(t)}finally{u.f()}}else v(a.edits,{action:"remove",index:n,count:1})}function O(t,e,r){var n=e.get("actor"),i=e.get("startOp"),a=l();return e.get("ops").forEach((function(e,s){var u,f=e.get("action"),h=e.get("obj"),d=e.get("insert");if(!["set","del","inc","link","makeMap","makeList","makeText","makeTable"].includes(f))throw new RangeError("Unknown operation action: ".concat(f));if(!e.get("pred"))throw new RangeError("Missing 'pred' field in operation ".concat(e));if(r){var p=function(t,e){for(var r=[];"_root"!==e;){var n=t.getIn(["byObject",e,"_inbound"],l()).first();if(!n)return null;r.unshift(n),e=n.get("obj")}return r}(t,h);if(null!==p){u=r;var y,v=o(p);try{for(v.s();!(y=v.n()).done;){var g=y.value;u=j(t,g,u)}}catch(t){v.e(t)}finally{v.f()}}}var b=e.merge({opId:"".concat(i+s,"@").concat(n)});d&&(t=function(t,e){var r=e.get("obj"),n=e.get("opId");if(!t.get("byObject").has(r))throw new Error("Modification of unknown object ".concat(r));if(t.hasIn(["byObject",r,"_insertion",n]))throw new Error("Duplicate list element ID ".concat(n));if(!e.get("elemId"))throw new RangeError("insert operation has no key");return t.updateIn(["byObject",r,"_following",e.get("elemId")],c(),(function(t){return t.push(e)})).setIn(["byObject",r,"_insertion",n],e)}(t,b)),f.startsWith("make")&&(a=a.add(I(b))),t=E(t,b,u)})),t}function R(t,e,r){var n=f(p(e)),i=n.get("actor"),a=n.get("seq"),s=n.get("startOp"),h=n.get("hash");if("string"!=typeof i||"number"!=typeof a||"number"!=typeof s)throw new TypeError("Missing change metadata: actor = ".concat(i,", seq = ").concat(a,", startOp = ").concat(s));if(t.hasIn(["hashes",h]))return t;var d=t.getIn(["states",i],c()).size+1;if(a!==d)throw new RangeError("Expected change ".concat(d," by ").concat(i,", got change ").concat(a));var y,v=0,g=o(n.get("deps"));try{for(g.s();!(y=g.n()).done;){var b=y.value,m=t.getIn(["hashes",b,"maxOpId"]);if(void 0===m)throw new RangeError("Unknown dependency hash ".concat(b));v=Math.max(v,m),t=t.updateIn(["hashes",b,"depsFuture"],l(),(function(t){return t.add(h)}))}}catch(t){g.e(t)}finally{g.f()}if(s!==v+1)throw new RangeError("Expected startOp to be ".concat(v+1,", was ").concat(s));for(var _=n.get("deps"),w=1===a;!w&&!_.isEmpty();){var I=t.getIn(["hashes",_.first()]);_=_.shift(),I.get("actor")===i&&I.get("seq")===a-1?w=!0:_=_.concat(I.get("depsPast"))}if(!w)throw new RangeError("Change lacks dependency on prior sequence number by the same actor");var k=u({actor:i,seq:a,startOp:s,change:e,maxOpId:s+n.get("ops").size-1,depsPast:n.get("deps").toSet(),depsFuture:l()});return(t=O(t,n,r)).setIn(["hashes",h],k).updateIn(["states",i],c(),(function(t){return t.push(h)})).update("deps",(function(t){return t.subtract(n.get("deps")).add(h)})).update("maxOp",(function(t){return Math.max(t,k.get("maxOpId"))})).update("history",(function(t){return t.push(h)}))}function C(t,e){return t.getIn(["hashes",e,"change"])}function T(t,e,r){return t.getIn(["byObject",e,"_keys",r],c())}function U(t,e,r){if("_head"!==r){var n=t.getIn(["byObject",e,"_insertion",r]);if(!n)throw new TypeError("Missing index entry for list element ".concat(r));return n.get("elemId")}}function z(t,e){return L(t.get("opId"),e.get("opId"))}function L(t,e){var r=g(t),n=g(e);return r.counter<n.counter?-1:r.counter>n.counter?1:r.actorId<n.actorId?-1:r.actorId>n.actorId?1:0}function V(t,e,r,n){var o=null;return n&&(o=u({opId:n})),t.getIn(["byObject",e,"_following",r],c()).filter((function(t){return t.get("insert")&&(!o||z(t,o)<0)})).sort(z).reverse().map((function(t){return t.get("opId")}))}function B(t,e,r){var n,o=V(t,e,r);if(!o.isEmpty())return o.first();for(;;){if(!(n=U(t,e,r)))return;var i=V(t,e,n,r);if(!i.isEmpty())return i.first();r=n}}function N(t,e,r){var n,i=U(t,e,r),a=V(t,e,i);if(a.first()===r)return"_head"===i?null:i;var s,u=o(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c===r)break;n=c}}catch(t){u.e(t)}finally{u.f()}for(;;){if((a=V(t,e,n)).isEmpty())return n;n=a.last()}}function M(t,e){if(w(e))return D(t,I(e));if("set"===e.get("action")){var r={value:e.get("value")};return e.get("datatype")&&(r.datatype=e.get("datatype")),r}throw new TypeError("Unexpected operation action: ".concat(e.get("action")))}function D(t,e){var r=m(t,e);if("map"===r||"table"===r)return function(t,e,r){var i,a={objectId:e,type:r,props:{}},s=o(t.getIn(["byObject",e,"_keys"]).entries());try{for(s.s();!(i=s.n()).done;){var u=n(i.value,2),c=u[0],l=u[1];if(!l.isEmpty()){a.props[c]={};var f,h=o(l);try{for(h.s();!(f=h.n()).done;){var d=f.value;a.props[c][d.get("opId")]=M(t,d)}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){s.e(t)}finally{s.f()}return a}(t,e,r);if("list"===r||"text"===r)return function(t,e,r){for(var n={objectId:e,type:r,props:{},edits:[]},i="_head",a=0,s=0;;){if(!(i=B(t,e,i)))return n;s=Math.max(s,g(i).counter);var u=T(t,e,i);if(!u.isEmpty()){n.props[a]={};var c,l=o(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;n.props[a][f.get("opId")]=M(t,f)}}catch(t){l.e(t)}finally{l.f()}a+=1}}}(t,e,r);throw new RangeError("Unknown object type: ".concat(r))}t.exports={init:function(){return u().set("states",u()).set("history",c()).set("byObject",u().set("_root",u().set("_keys",u()))).set("hashes",u()).set("deps",l()).set("maxOp",0).set("queue",c())},addChange:function(t,e,r){return function(t,e){for(var r=c();;){var n,i=o(t.get("queue"));try{for(i.s();!(n=i.n()).done;){var a=n.value;b(t,y(a,!1))?t=R(t,a,e):r=r.push(a)}}catch(t){i.e(t)}finally{i.f()}if(r.count()===t.get("queue").count())return t;t=t.set("queue",r),r=c()}}(t=t.update("queue",(function(t){return t.push(e)})),r)},addLocalChange:function(t,e,r){return R(t,e,r)},getHeads:function(t){return t.get("deps").toJSON().sort()},getChangeByHash:C,getMissingChanges:function(t,e){if(e.isEmpty())return t.get("history").toJSON().map((function(e){return C(t,e)}));var r,n=c(),i={},a=[],s=o(e);try{for(s.s();!(r=s.n()).done;){var u=r.value;i[u]=!0;var l=t.getIn(["hashes",u,"depsFuture"]);if(!l)throw new RangeError("hash not found: ".concat(u));n=n.concat(l)}}catch(t){s.e(t)}finally{s.f()}for(;!n.isEmpty();){var f=n.last();if(i[f]=!0,a.push(f),!t.getIn(["hashes",f,"depsPast"]).every((function(t){return i[t]})))break;n=n.pop().concat(t.getIn(["hashes",f,"depsFuture"]))}if(n.isEmpty()&&t.get("deps").every((function(t){return i[t]})))return a.map((function(e){return C(t,e)}));for(n=e,i={};!n.isEmpty();){var h=n.last(),d=t.getIn(["hashes",h,"depsPast"]);if(!d)throw new RangeError("hash not found: ".concat(h));n=n.pop().concat(d),i[h]=!0}return t.get("history").filter((function(t){return!i[t]})).map((function(e){return C(t,e)})).toJSON()},getMissingDeps:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},i={},a=o(t.get("queue"));try{for(a.s();!(e=a.n()).done;){var s=e.value,u=y(s,!0);i[u.hash]=!0;var c,l=o(u.deps);try{for(l.s();!(c=l.n()).done;){var f=c.value;t.hasIn(["hashes",f])||(n[f]=!0)}}catch(t){l.e(t)}finally{l.f()}}}catch(t){a.e(t)}finally{a.f()}var h,d=o(r);try{for(d.s();!(h=d.n()).done;){var p=h.value;t.hasIn(["hashes",p])||(n[p]=!0)}}catch(t){d.e(t)}finally{d.f()}return Object.keys(n).filter((function(t){return!i[t]})).sort()},constructObject:D,getFieldOps:T,getOperationKey:k,finalizePatch:function t(e){if(e)if("list"===e.type||"text"===e.type){delete e.props;var r,n=o(e.edits);try{for(n.s();!(r=n.n()).done;)t(r.value.value)}catch(t){n.e(t)}finally{n.f()}}else if("map"===e.type||"table"===e.type)for(var i=0,a=Object.keys(e.props);i<a.length;i++)for(var s=a[i],u=0,c=Object.keys(e.props[s]);u<c.length;u++){var l=c[u];t(e.props[s][l])}}}},"./backend/skip_list.js":
/*!******************************!*\
  !*** ./backend/skip_list.js ***!
  \******************************/(t,e,r)=>{function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}var a=r(/*! immutable */"./node_modules/immutable/dist/immutable.js").Map,s=function(){function t(e,r,o,i,a,s,u){n(this,t),this.key=e,this.value=r,this.level=o,this.prevKey=i,this.nextKey=a,this.prevCount=s,this.nextCount=u}return i(t,[{key:"setValue",value:function(e){return new t(this.key,e,this.level,this.prevKey,this.nextKey,this.prevCount,this.nextCount)}},{key:"insertAfter",value:function(e,r,n,o){if(r>this.level&&null!==this.key)throw new RangeError("Cannot increase the level of a non-head node");for(var i=Math.max(this.level,r),a=this.nextKey.slice(),s=this.nextCount.slice(),u=n;u<i;u++)u<r?(a[u]=e,s[u]=o):s[u]+=1;return new t(this.key,this.value,i,this.prevKey,a,this.prevCount,s)}},{key:"insertBefore",value:function(e,r,n,o){if(r>this.level)throw new RangeError("Cannot increase node level");for(var i=this.prevKey.slice(),a=this.prevCount.slice(),s=n;s<this.level;s++)s<r?(i[s]=e,a[s]=o):a[s]+=1;return new t(this.key,this.value,this.level,i,this.nextKey,a,this.nextCount)}},{key:"removeAfter",value:function(e,r,n,o){for(var i=this.nextKey.slice(),a=this.nextCount.slice(),s=e;s<this.level;s++)s<r?(i[s]=n[s],a[s]=o[s]):a[s]-=1;return new t(this.key,this.value,this.level,this.prevKey,i,this.prevCount,a)}},{key:"removeBefore",value:function(e,r,n,o){for(var i=this.prevKey.slice(),a=this.prevCount.slice(),s=e;s<this.level;s++)s<r?(i[s]=n[s],a[s]=o[s]):a[s]-=1;return new t(this.key,this.value,this.level,i,this.nextKey,a,this.nextCount)}}]),t}(),u=function(){function t(e){n(this,t);var r=new s(null,null,1,[],[null],[],[null]),o=e?e():{next:function(){for(var t=Math.floor(4294967296*Math.random()),e=1;t<1<<32-2*e&&e<16;)e+=1;return{value:e,done:!1}}};return c(0,a().set(null,r),o)}return i(t,[{key:"headNode",get:function(){return this._nodes.get(null)}},{key:"predecessors",value:function(t,e){for(var r=[t],n=[1],o=1;o<e;o++){for(var i=r[o-1],a=n[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.prevCount[o-1],i=s.prevKey[o-1]}r[o]=i,n[o]=a}return{preKeys:r,preCounts:n}}},{key:"successors",value:function(t,e){for(var r=[t],n=[1],o=1;o<e;o++){for(var i=r[o-1],a=n[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.nextCount[o-1],i=s.nextKey[o-1]}r[o]=i,n[o]=a}return{sucKeys:r,sucCounts:n}}},{key:"insertAfter",value:function(t,e,r){if("string"!=typeof e||""===e)throw new RangeError("Key must be a nonempty string");if(!this._nodes.has(t))throw new RangeError("The referenced predecessor key does not exist");if(this._nodes.has(e))throw new RangeError("Cannot insert a key that already exists");var n=this._randomSource.next().value,o=Math.max(n,this.headNode.level),i=this._nodes.get(t).nextKey[0]||null,a=this.predecessors(t,o),u=a.preKeys,l=a.preCounts,f=this.successors(i,o),h=f.sucKeys,d=f.sucCounts;return c(this.length+1,this._nodes.withMutations((function(t){for(var i=0,a=0,c=function(r){var s=Math.min(r,n);r!==o&&u[r]===u[i]||(t.update(u[i],(function(t){return t.insertAfter(e,s,i,l[i])})),i=r),!h[a]||r!==o&&h[r]===h[a]||(t.update(h[a],(function(t){return t.insertBefore(e,s,a,d[a])})),a=r)},f=1;f<=o;f++)c(f);t.set(e,new s(e,r,n,u.slice(0,n),h.slice(0,n),l.slice(0,n),d.slice(0,n)))})),this._randomSource)}},{key:"insertIndex",value:function(t,e,r){if("number"!=typeof t||t<0)throw new RangeError("Index must be a non-negative integer");return 0===t?this.insertAfter(null,e,r):this.insertAfter(this.keyOf(t-1),e,r)}},{key:"removeKey",value:function(t){if("string"!=typeof t||!this._nodes.has(t))throw new RangeError("The given key cannot be removed because it does not exist");for(var e=this._nodes.get(t),r=this.headNode.level,n=this.predecessors(e.prevKey[0],r),o=n.preKeys,i=n.preCounts,a=this.successors(e.nextKey[0],r),s=a.sucKeys,u=a.sucCounts,l=new Array(r),f=0;f<r;f++)l[f]=i[f]+u[f]-1;return c(this.length-1,this._nodes.withMutations((function(n){n.remove(t);for(var i=0,a=0,u=function(t){var u=Math.min(t,e.level);t!==r&&o[t]===o[i]||(n.update(o[i],(function(t){return t.removeAfter(i,u,s,l)})),i=t),!s[a]||t!==r&&s[t]===s[a]||(n.update(s[a],(function(t){return t.removeBefore(a,u,o,l)})),a=t)},c=1;c<=r;c++)u(c)})),this._randomSource)}},{key:"removeIndex",value:function(t){return this.removeKey(this.keyOf(t))}},{key:"indexOf",value:function(t){if("string"!=typeof t||""===t||!this._nodes.has(t))return-1;for(var e=this._nodes.get(t),r=0;e&&e.key;)r+=e.prevCount[e.level-1],e=this._nodes.get(e.prevKey[e.level-1]);return r-1}},{key:"keyOf",value:function(t){if("number"!=typeof t)return null;if(t<0&&(t+=this.length),t<0||t>=this.length)return null;for(var e=this._nodes.get(null),r=e.level-1,n=0;;){if(n===t+1)return e.key;n+e.nextCount[r]>t+1?r-=1:(n+=e.nextCount[r],e=this._nodes.get(e.nextKey[r]))}}},{key:"getValue",value:function(t){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");var e=this._nodes.get(t);return e&&e.value}},{key:"setValue",value:function(t,e){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");var r=this._nodes.get(t);if(!r)throw new RangeError("The referenced key does not exist");return r=r.setValue(e),c(this.length,this._nodes.set(t,r),this._randomSource)}},{key:"iterator",value:function(t){var e=this,r=this._nodes,n=r.get(null).nextKey[0];return function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({next:function(){if(!n)return{value:void 0,done:!0};var e=r.get(n),o=void 0;switch(t){case"keys":o={value:n,done:!1};break;case"values":o={value:e.value,done:!1};break;case"entries":o={value:[n,e.value],done:!1}}return n=e.nextKey[0],o}},Symbol.iterator,(function(){return e.iterator(t)}))}},{key:Symbol.iterator,value:function(){return this.iterator("values")}}]),t}();function c(t,e,r){var n=Object.create(u.prototype);return n.length=t,n._nodes=e,n._randomSource=r,n}t.exports={SkipList:u}},"./backend/sync.js":
/*!*************************!*\
  !*** ./backend/sync.js ***!
  \*************************/(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=a(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=r(/*! immutable */"./node_modules/immutable/dist/immutable.js").List,l=r(/*! ./util */"./backend/util.js").backendState,f=r(/*! ./backend */"./backend/backend.js"),h=r(/*! ./op_set */"./backend/op_set.js"),d=r(/*! ./encoding */"./backend/encoding.js"),p=d.hexStringToBytes,y=d.bytesToHexString,v=d.Encoder,g=d.Decoder,b=r(/*! ./columnar */"./backend/columnar.js").decodeChangeMeta,m=r(/*! ../src/common */"./src/common.js").copyObject,_=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(e)){this.numEntries=e.length,this.numBitsPerEntry=10,this.numProbes=7,this.bits=new Uint8Array(Math.ceil(this.numEntries*this.numBitsPerEntry/8));var r,n=i(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;this.addHash(o)}}catch(t){n.e(t)}finally{n.f()}}else{if(!(e instanceof Uint8Array))throw new TypeError("invalid argument");if(0===e.byteLength)this.numEntries=0,this.numBitsPerEntry=0,this.numProbes=0,this.bits=e;else{var a=new g(e);this.numEntries=a.readUint32(),this.numBitsPerEntry=a.readUint32(),this.numProbes=a.readUint32(),this.bits=a.readRawBytes(Math.ceil(this.numEntries*this.numBitsPerEntry/8))}}}var e,r,n;return e=t,(r=[{key:"bytes",get:function(){if(0===this.numEntries)return new Uint8Array(0);var t=new v;return t.appendUint32(this.numEntries),t.appendUint32(this.numBitsPerEntry),t.appendUint32(this.numProbes),t.appendRawBytes(this.bits),t.buffer}},{key:"getProbes",value:function(t){var e=p(t),r=8*this.bits.byteLength;if(32!==e.byteLength)throw new RangeError("Not a 256-bit hash: ".concat(t));for(var n=((e[0]|e[1]<<8|e[2]<<16|e[3]<<24)>>>0)%r,o=((e[4]|e[5]<<8|e[6]<<16|e[7]<<24)>>>0)%r,i=((e[8]|e[9]<<8|e[10]<<16|e[11]<<24)>>>0)%r,a=[n],s=1;s<this.numProbes;s++)n=(n+o)%r,o=(o+i)%r,a.push(n);return a}},{key:"addHash",value:function(t){var e,r=i(this.getProbes(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;this.bits[n>>>3]|=1<<(7&n)}}catch(t){r.e(t)}finally{r.f()}}},{key:"containsHash",value:function(t){if(0===this.numEntries)return!1;var e,r=i(this.getProbes(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;if(0==(this.bits[n>>>3]&1<<(7&n)))return!1}}catch(t){r.e(t)}finally{r.f()}return!0}}])&&u(e.prototype,r),n&&u(e,n),t}();function w(t,e){if(!Array.isArray(e))throw new TypeError("hashes must be an array");t.appendUint32(e.length);for(var r=0;r<e.length;r++){if(r>0&&e[r-1]>=e[r])throw new RangeError("hashes must be sorted");var n=p(e[r]);if(32!==n.byteLength)throw new TypeError("heads hashes must be 256 bits");t.appendRawBytes(n)}}function I(t){for(var e=t.readUint32(),r=[],n=0;n<e;n++)r.push(y(t.readRawBytes(32)));return r}function k(t){var e=new v;e.appendByte(66),w(e,t.heads),w(e,t.need),e.appendUint32(t.have.length);var r,n=i(t.have);try{for(n.s();!(r=n.n()).done;){var o=r.value;w(e,o.lastSync),e.appendPrefixedBytes(o.bloom)}}catch(t){n.e(t)}finally{n.f()}e.appendUint32(t.changes.length);var a,s=i(t.changes);try{for(s.s();!(a=s.n()).done;){var u=a.value;e.appendPrefixedBytes(u)}}catch(t){s.e(t)}finally{s.f()}return e.buffer}function E(t){var e=new g(t),r=e.readByte();if(66!==r)throw new RangeError("Unexpected message type: ".concat(r));for(var n=I(e),o=I(e),i=e.readUint32(),a={heads:n,need:o,have:[],changes:[]},s=0;s<i;s++){var u=I(e),c=e.readPrefixedBytes(e);a.have.push({lastSync:u,bloom:c})}for(var l=e.readUint32(),f=0;f<l;f++){var h=e.readPrefixedBytes();a.changes.push(h)}return a}function j(t,e){var r=h.getMissingChanges(t.get("opSet"),c(e)).map((function(t){return b(t,!0).hash}));return{lastSync:e,bloom:new _(r).bytes}}function x(){return{sharedHeads:[],lastSentHeads:[],theirHeads:null,theirNeed:null,theirHave:null,sentHashes:{}}}function S(t,e){return t.length===e.length&&t.every((function(t,r){return t===e[r]}))}t.exports={receiveSyncMessage:function(t,e,r){if(!t)throw new Error("generateSyncMessage called with no Automerge document");if(!e)throw new Error("generateSyncMessage requires a syncState, which can be created with initSyncState()");var i,a,s,u,c,l=e.sharedHeads,h=e.lastSentHeads,d=null,p=E(r),y=f.getHeads(t);if(p.changes.length>0){var v=n(f.applyChanges(t,p.changes),2);t=v[0],d=v[1],i=y,a=f.getHeads(t),s=l,u=a.filter((function(t){return!i.includes(t)})),c=s.filter((function(t){return a.includes(t)})),l=o(new Set([].concat(o(u),o(c)))).sort()}0===p.changes.length&&S(p.heads,y)&&(h=p.heads);var g=p.heads.filter((function(e){return f.getChangeByHash(t,e)})),b={sharedHeads:l=g.length===p.heads.length?p.heads:o(new Set(g.concat(l))).sort(),lastSentHeads:h,theirHave:p.have,theirHeads:p.heads,theirNeed:p.need,sentHashes:e.sentHashes};return[t,b,d]},generateSyncMessage:function(t,e){if(!t)throw new Error("generateSyncMessage called with no Automerge document");if(!e)throw new Error("generateSyncMessage requires a syncState, which can be created with initSyncState()");var r=e,n=r.sharedHeads,o=r.lastSentHeads,a=r.theirHeads,s=r.theirNeed,u=r.theirHave,d=r.sentHashes,p=f.getHeads(t),y=l(t),v=f.getMissingDeps(t,a||[]),g=[];if(v.every((function(t){return a.includes(t)}))&&(g=[j(y,n)]),u&&u.length>0&&!u[0].lastSync.every((function(e){return f.getChangeByHash(t,e)})))return[e,k({heads:p,need:[],have:[{lastSync:[],bloom:new Uint8Array(0)}],changes:[]})];var w=Array.isArray(u)&&Array.isArray(s)?function(t,e,r){var n=t.get("opSet");if(0===e.length)return r.map((function(t){return h.getChangeByHash(n,t)}));var o,a={},s=[],u=i(e);try{for(u.s();!(o=u.n()).done;){var l,f=o.value,d=i(f.lastSync);try{for(d.s();!(l=d.n()).done;)a[l.value]=!0}catch(t){d.e(t)}finally{d.f()}s.push(new _(f.bloom))}}catch(t){u.e(t)}finally{u.f()}var p,y=h.getMissingChanges(n,c(Object.keys(a))).map((function(t){return b(t,!0)})),v={},g={},m={},w=i(y);try{var I=function(){var t=p.value;v[t.hash]=!0;var e,r=i(t.deps);try{for(r.s();!(e=r.n()).done;){var n=e.value;g[n]||(g[n]=[]),g[n].push(t.hash)}}catch(t){r.e(t)}finally{r.f()}s.every((function(e){return!e.containsHash(t.hash)}))&&(m[t.hash]=!0)};for(w.s();!(p=w.n()).done;)I()}catch(t){w.e(t)}finally{w.f()}for(var k=Object.keys(m);k.length>0;){var E=k.pop();if(g[E]){var j,x=i(g[E]);try{for(x.s();!(j=x.n()).done;){var S=j.value;m[S]||(m[S]=!0,k.push(S))}}catch(t){x.e(t)}finally{x.f()}}}var A,O=[],R=i(r);try{for(R.s();!(A=R.n()).done;){var C=A.value;if(m[C]=!0,!v[C]){var T=h.getChangeByHash(n,C);T&&O.push(T)}}}catch(t){R.e(t)}finally{R.f()}var U,z=i(y);try{for(z.s();!(U=z.n()).done;){var L=U.value;m[L.hash]&&O.push(L.change)}}catch(t){z.e(t)}finally{z.f()}return O}(y,u,s):[],I=Array.isArray(o)&&S(p,o),E=Array.isArray(a)&&S(p,a);if(I&&E&&0===w.length&&0===v.length)return[e,null];w=w.filter((function(t){return!d[b(t,!0).hash]}));var x={heads:p,have:g,need:v,changes:w};if(w.length>0){d=m(d);var A,O=i(w);try{for(O.s();!(A=O.n()).done;){var R=A.value;d[b(R,!0).hash]=!0}}catch(t){O.e(t)}finally{O.f()}}return[e=Object.assign({},e,{lastSentHeads:p,sentHashes:d}),k(x)]},encodeSyncMessage:k,decodeSyncMessage:E,initSyncState:x,encodeSyncState:function(t){var e=new v;return e.appendByte(67),w(e,t.sharedHeads),e.buffer},decodeSyncState:function(t){var e=new g(t),r=e.readByte();if(67!==r)throw new RangeError("Unexpected record type: ".concat(r));var n=I(e);return Object.assign({sharedHeads:[],lastSentHeads:[],theirHeads:null,theirNeed:null,theirHave:null,sentHashes:{}},{sharedHeads:n})},BloomFilter:_}},"./backend/util.js":
/*!*************************!*\
  !*** ./backend/util.js ***!
  \*************************/t=>{t.exports={backendState:function(t){if(t.frozen)throw new Error("Attempting to use an outdated Automerge document that has already been updated. Please use the latest document state, or call Automerge.clone() if you really need to use this old document state.");return t.state}}},"./frontend/apply_patch.js":
/*!*********************************!*\
  !*** ./frontend/apply_patch.js ***!
  \*********************************/(t,e,r)=>{function n(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=a(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=r(/*! ../src/common */"./src/common.js"),c=u.isObject,l=u.copyObject,f=u.parseOpId,h=r(/*! ./constants */"./frontend/constants.js"),d=h.OBJECT_ID,p=h.CONFLICTS,y=h.ELEM_IDS,v=r(/*! ./text */"./frontend/text.js").instantiateText,g=r(/*! ./table */"./frontend/table.js").instantiateTable,b=r(/*! ./counter */"./frontend/counter.js").Counter;function m(t,e,r){if(t.objectId)return e&&e[d]!==t.objectId&&(e=void 0),E(t,e,r);if("timestamp"===t.datatype)return new Date(t.value);if("counter"===t.datatype)return new b(t.value);if(void 0!==t.datatype)throw new TypeError("Unknown datatype: ".concat(t.datatype));return t.value}function _(t,e){var r=/^(\d+)@(.*)$/,n=r.test(t)?f(t):{counter:0,actorId:t},o=r.test(e)?f(e):{counter:0,actorId:e};return n.counter<o.counter?-1:n.counter>o.counter?1:n.actorId<o.actorId?-1:n.actorId>o.actorId?1:0}function w(t,e){var r=l(t),n=l(t?t[p]:void 0);return Object.defineProperty(r,d,{value:e}),Object.defineProperty(r,p,{value:n}),r}function I(t,e,r){var n=t.objectId;r[n]||(r[n]=w(e,n));var o=r[n];return function(t,e,r,n){if(t)for(var o=0,a=Object.keys(t);o<a.length;o++){var s,u=a[o],c={},l=Object.keys(t[u]).sort(_).reverse(),f=i(l);try{for(f.s();!(s=f.n()).done;){var h=s.value,d=t[u][h];r[u]&&r[u][h]?c[h]=m(d,r[u][h],n):c[h]=m(d,void 0,n)}}catch(t){f.e(t)}finally{f.f()}0===l.length?(delete e[u],delete r[u]):(e[u]=c[l[0]],r[u]=c)}}(t.props,o,o[p],r),o}function k(t,e,r){var n=t.objectId;r[n]||(r[n]=function(t,e){var r=t?t.slice():[],n=t&&t[p]?t[p].slice():[],o=t&&t[y]?t[y].slice():[];return Object.defineProperty(r,d,{value:e}),Object.defineProperty(r,p,{value:n}),Object.defineProperty(r,y,{value:o}),r}(e,n));for(var i=r[n],a=i[p],s=i[y],u=0;u<t.edits.length;u++){var c=t.edits[u];if("insert"===c.action||"update"===c.action){for(var l=a[c.index]&&a[c.index][c.opId],h=m(c.value,l,r),v=o({},c.opId,h);u<t.edits.length-1&&t.edits[u+1].index===c.index&&"update"===t.edits[u+1].action;){u++;var g=t.edits[u],b=a[g.index]&&a[g.index][g.opId];h=m(g.value,b,r),v[g.opId]=h}"insert"===c.action?(i.splice(c.index,0,h),a.splice(c.index,0,v),s.splice(c.index,0,c.elemId)):(i[c.index]=h,a[c.index]=v)}else"multi-insert"===c.action?function(){var t=f(c.elemId),e=[],r=[],n=[];c.values.forEach((function(i,a){var s="".concat(t.counter+a,"@").concat(t.actorId);r.push(i),n.push(o({},s,{value:i,type:"value"})),e.push(s)})),i.splice.apply(i,[c.index,0].concat(r)),a.splice.apply(a,[c.index,0].concat(n)),s.splice.apply(s,[c.index,0].concat(e))}():"remove"===c.action&&(i.splice(c.index,c.count),a.splice(c.index,c.count),s.splice(c.index,c.count))}return i}function E(t,e,r){if(c(e)&&(!t.props||0===Object.keys(t.props).length)&&(!t.edits||0===t.edits.length)&&!r[t.objectId])return e;if("map"===t.type)return I(t,e,r);if("table"===t.type)return function(t,e,r){var n=t.objectId;r[n]||(r[n]=e?e._clone():g(n));for(var o=r[n],i=0,a=Object.keys(t.props||{});i<a.length;i++){var s=a[i],u=Object.keys(t.props[s]);if(0===u.length)o.remove(s);else{if(1!==u.length)throw new RangeError("Conflicts are not supported on properties of a table");var c=t.props[s][u[0]];o._set(s,m(c,o.byId(s),r),u[0])}}return o}(t,e,r);if("list"===t.type)return k(t,e,r);if("text"===t.type)return function(t,e,r){var o,a=t.objectId;o=r[a]?r[a].elems:e?e.elems.slice():[];var s,u=i(t.edits);try{for(u.s();!(s=u.n()).done;){var c=s.value;if("insert"===c.action){var l=m(c.value,void 0,r),h={elemId:c.elemId,pred:[c.opId],value:l};o.splice(c.index,0,h)}else if("multi-insert"===c.action)!function(){var t,e=f(c.elemId),r=c.values.map((function(t,r){var n="".concat(e.counter+r,"@").concat(e.actorId);return{elemId:n,pred:[n],value:t}}));(t=o).splice.apply(t,[c.index,0].concat(n(r)))}();else if("update"===c.action){var d=o[c.index].elemId,p=m(c.value,o[c.index].value,r);o[c.index]={elemId:d,pred:[c.opId],value:p}}else"remove"===c.action&&o.splice(c.index,c.count)}}catch(t){u.e(t)}finally{u.f()}return r[a]=v(a,o),r[a]}(t,e,r);throw new TypeError("Unknown object type: ".concat(t.type))}t.exports={interpretPatch:E,cloneRootObject:function(t){if("_root"!==t[d])throw new RangeError("Not the root object: ".concat(t[d]));return w(t,"_root")}}},"./frontend/constants.js":
/*!*******************************!*\
  !*** ./frontend/constants.js ***!
  \*******************************/t=>{var e=Symbol("_options"),r=Symbol("_cache"),n=Symbol("_state"),o=Symbol("_objectId"),i=Symbol("_conflicts"),a=Symbol("_change"),s=Symbol("_elemIds");t.exports={OPTIONS:e,CACHE:r,STATE:n,OBJECT_ID:o,CONFLICTS:i,CHANGE:a,ELEM_IDS:s}},"./frontend/context.js":
/*!*****************************!*\
  !*** ./frontend/context.js ***!
  \*****************************/(t,e,r)=>{function n(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=s(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=r(/*! ./constants */"./frontend/constants.js"),f=l.CACHE,h=l.OBJECT_ID,d=l.CONFLICTS,p=l.ELEM_IDS,y=l.STATE,v=r(/*! ./apply_patch */"./frontend/apply_patch.js").interpretPatch,g=r(/*! ./text */"./frontend/text.js").Text,b=r(/*! ./table */"./frontend/table.js").Table,m=r(/*! ./counter */"./frontend/counter.js"),_=m.Counter,w=m.getWriteableCounter,I=r(/*! ../src/common */"./src/common.js"),k=I.isObject,E=I.parseOpId,j=r(/*! ../src/uuid */"./src/uuid.js"),x=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actorId=r,this.maxOp=e[y].maxOp,this.cache=e[f],this.updated={},this.ops=[],this.applyPatch=n||v}var e,r,s;return e=t,(r=[{key:"addOp",value:function(t){this.ops.push(t)}},{key:"nextOpId",value:function(){var t,e=this.maxOp+1,r=a(this.ops);try{for(r.s();!(t=r.n()).done;){var n=t.value;"set"===n.action&&n.values?e+=n.values.length:"del"===n.action&&n.multiOp?e+=n.multiOp:e+=1}}catch(t){r.e(t)}finally{r.f()}return"".concat(e,"@").concat(this.actorId)}},{key:"getValueDescription",value:function(t){if(!["object","boolean","number","string"].includes(i(t)))throw new TypeError("Unsupported type of value: ".concat(i(t)));if(k(t)){if(t instanceof Date)return{type:"value",value:t.getTime(),datatype:"timestamp"};if(t instanceof _)return{type:"value",value:t.value,datatype:"counter"};var e=t[h],r=this.getObjectType(e);if(!e)throw new RangeError("Object ".concat(JSON.stringify(t)," has no objectId"));return"list"===r||"text"===r?{objectId:e,type:r,edits:[]}:{objectId:e,type:r,props:{}}}return{type:"value",value:t}}},{key:"getValuesDescriptions",value:function(t,e,r){if(e instanceof b){var n=e.byId(r);return n?o({},r,this.getValueDescription(n)):{}}if(e instanceof g){var i=e.get(r),a=e.getElemId(r);return i?o({},a,this.getValueDescription(i)):{}}var s=e[d][r],u={};if(!s)throw new RangeError("No children at key ".concat(r," of path ").concat(JSON.stringify(t)));for(var c=0,l=Object.keys(s);c<l.length;c++){var f=l[c];u[f]=this.getValueDescription(s[f])}return u}},{key:"getPropertyValue",value:function(t,e,r){return t instanceof b?t.byId(e):t instanceof g?t.get(e):t[d][e][r]}},{key:"getSubpatch",value:function(t,e){if(0==e.length)return t;var r,n=t,o=this.getObject("_root"),i=a(e);try{for(i.s();!(r=i.n()).done;){var s=r.value,u=this.getValuesDescriptions(e,o,s.key);if(n.props)n.props[s.key]||(n.props[s.key]=u);else if(n.edits)for(var c=0,l=Object.keys(u);c<l.length;c++){var f=l[c];n.edits.push({action:"update",index:s.key,opId:f,value:u[f]})}for(var h=null,d=0,p=Object.keys(u);d<p.length;d++){var y=p[d];u[y].objectId===s.objectId&&(h=y)}if(!h)throw new RangeError("Cannot find path object with objectId ".concat(s.objectId));n=u[h],o=this.getPropertyValue(o,s.key,h)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"getObject",value:function(t){var e=this.updated[t]||this.cache[t];if(!e)throw new RangeError("Target object does not exist: ".concat(t));return e}},{key:"getObjectType",value:function(t){if("_root"===t)return"map";var e=this.getObject(t);return e instanceof g?"text":e instanceof b?"table":Array.isArray(e)?"list":"map"}},{key:"getObjectField",value:function(t,e,r){if(["string","number"].includes(i(r))){var n=this.getObject(e);if(n[r]instanceof _)return w(n[r].value,this,t,e,r);if(k(n[r])){var o=n[r][h],a=t.concat([{key:r,objectId:o}]);return this.instantiateObject(a,o)}return n[r]}}},{key:"createNestedObjects",value:function(t,e,r,i,s,u){if(r[h])throw new RangeError("Cannot create a reference to an existing document object");var c=this.nextOpId();if(r instanceof g){this.addOp(u?{action:"makeText",obj:t,elemId:u,insert:i,pred:s}:{action:"makeText",obj:t,key:e,insert:i,pred:s});var l={objectId:c,type:"text",edits:[]};return this.insertListItems(l,0,n(r),!0),l}if(r instanceof b){if(r.count>0)throw new RangeError("Assigning a non-empty Table object is not supported");return this.addOp(u?{action:"makeTable",obj:t,elemId:u,insert:i,pred:s}:{action:"makeTable",obj:t,key:e,insert:i,pred:s}),{objectId:c,type:"table",props:{}}}if(Array.isArray(r)){this.addOp(u?{action:"makeList",obj:t,elemId:u,insert:i,pred:s}:{action:"makeList",obj:t,key:e,insert:i,pred:s});var f={objectId:c,type:"list",edits:[]};return this.insertListItems(f,0,r,!0),f}this.addOp(u?{action:"makeMap",obj:t,elemId:u,insert:i,pred:s}:{action:"makeMap",obj:t,key:e,insert:i,pred:s});var d,p={},y=a(Object.keys(r).sort());try{for(y.s();!(d=y.n()).done;){var v=d.value,m=this.nextOpId(),_=this.setValue(c,v,r[v],!1,[]);p[v]=o({},m,_)}}catch(t){y.e(t)}finally{y.f()}return{objectId:c,type:"map",props:p}}},{key:"setValue",value:function(t,e,r,n,o,i){if(!t)throw new RangeError("setValue needs an objectId");if(""===e)throw new RangeError("The key of a map entry must not be an empty string");if(!k(r)||r instanceof Date||r instanceof _){var a=this.getValueDescription(r),s={action:"set",obj:t,insert:n,value:a.value,pred:o};return i?s.elemId=i:s.key=e,a.datatype&&(s.datatype=a.datatype),this.addOp(s),a}return this.createNestedObjects(t,e,r,n,o,i)}},{key:"applyAtPath",value:function(t,e){var r={objectId:"_root",type:"map",props:{}};e(this.getSubpatch(r,t)),this.applyPatch(r,this.cache._root,this.updated)}},{key:"setMapKey",value:function(t,e,r){var n=this;if("string"!=typeof e)throw new RangeError("The key of a map entry must be a string, not ".concat(i(e)));var a=0===t.length?"_root":t[t.length-1].objectId,s=this.getObject(a);if(s[e]instanceof _)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");(s[e]!==r||Object.keys(s[d][e]||{}).length>1||void 0===r)&&this.applyAtPath(t,(function(t){var i=S(s,e),u=n.nextOpId(),c=n.setValue(a,e,r,!1,i);t.props[e]=o({},u,c)}))}},{key:"deleteMapKey",value:function(t,e){var r=0===t.length?"_root":t[t.length-1].objectId,n=this.getObject(r);if(void 0!==n[e]){var o=S(n,e);this.addOp({action:"del",obj:r,key:e,insert:!1,pred:o}),this.applyAtPath(t,(function(t){t.props[e]={}}))}}},{key:"insertListItems",value:function(t,e,r,n){var o=n?[]:this.getObject(t.objectId);if(e<0||e>o.length)throw new RangeError("List index ".concat(e," is out of bounds for list of length ").concat(o.length));var i=A(o,e,!0);if(r.every((function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||null===t}))&&r.length>1){var a=this.nextOpId();this.addOp({action:"set",obj:t.objectId,elemId:i,insert:!0,values:r,pred:[]}),t.edits.push({action:"multi-insert",elemId:a,index:e,values:r})}else for(var s=0;s<r.length;s++){var u=this.nextOpId(),c=this.setValue(t.objectId,e+s,r[s],!0,[],i);i=u,t.edits.push({action:"insert",index:e+s,elemId:i,opId:i,value:c})}}},{key:"setListIndex",value:function(t,e,r){var n=this,o=0===t.length?"_root":t[t.length-1].objectId,i=this.getObject(o);if(e===i.length)return this.splice(t,e,0,[r]);if(e<0||e>i.length)throw new RangeError("List index ".concat(e," is out of bounds for list of length ").concat(i.length));if(i[e]instanceof _)throw new RangeError("Cannot overwrite a Counter object; use .increment() or .decrement() to change its value.");(i[e]!==r||Object.keys(i[d][e]||{}).length>1||void 0===r)&&this.applyAtPath(t,(function(t){var a=S(i,e),s=n.nextOpId(),u=n.setValue(o,e,r,!1,a,A(i,e));t.edits.push({action:"update",index:e,opId:s,value:u})}))}},{key:"splice",value:function(t,e,r,n){var o=0===t.length?"_root":t[t.length-1].objectId,i=this.getObject(o);if(e<0||r<0||e>i.length-r)throw new RangeError("".concat(r," deletions starting at index ").concat(e," are out of bounds for list of length ").concat(i.length));if(0!==r||0!==n.length){var a={objectId:"_root",type:"map",props:{}},s=this.getSubpatch(a,t);if(r>0){for(var u,c,l,f=0;f<r;f++){if(this.getObjectField(t,o,e+f)instanceof _)throw new TypeError("Unsupported operation: deleting a counter from a list");var h=A(i,e+f),d=E(h),p=S(i,e+f),y=1===p.length?E(p[0]):void 0;u&&c&&l&&y&&c.actorId===d.actorId&&c.counter+1===d.counter&&l.actorId===y.actorId&&l.counter+1===y.counter?u.multiOp=(u.multiOp||1)+1:(u&&this.addOp(u),u={action:"del",obj:o,elemId:h,insert:!1,pred:p}),c=d,l=y}this.addOp(u),s.edits.push({action:"remove",index:e,count:r})}n.length>0&&this.insertListItems(s,e,n,!1),this.applyPatch(a,this.cache._root,this.updated)}}},{key:"addTableRow",value:function(t,e){if(!k(e)||Array.isArray(e))throw new TypeError("A table row must be an object");if(e[h])throw new TypeError("Cannot reuse an existing object as table row");if(e.id)throw new TypeError('A table row must not have an "id" property; it is generated automatically');var r=j(),n=this.setValue(t[t.length-1].objectId,r,e,!1,[]);return this.applyAtPath(t,(function(t){t.props[r]=o({},n.objectId,n)})),r}},{key:"deleteTableRow",value:function(t,e,r){var n=t[t.length-1].objectId;this.getObject(n).byId(e)&&(this.addOp({action:"del",obj:n,key:e,insert:!1,pred:[r]}),this.applyAtPath(t,(function(t){t.props[e]={}})))}},{key:"increment",value:function(t,e,r){var n=0===t.length?"_root":t[t.length-1].objectId,i=this.getObject(n);if(!(i[e]instanceof _))throw new TypeError("Only counter values can be incremented");var a=this.getObjectType(n),s=i[e].value+r,u=this.nextOpId(),c=S(i,e);if("list"===a||"text"===a){var l=A(i,e,!1);this.addOp({action:"inc",obj:n,elemId:l,value:r,insert:!1,pred:c})}else this.addOp({action:"inc",obj:n,key:e,value:r,insert:!1,pred:c});this.applyAtPath(t,(function(t){"list"===a||"text"===a?t.edits.push({action:"update",index:e,opId:u,value:{value:s,datatype:"counter"}}):t.props[e]=o({},u,{value:s,datatype:"counter"})}))}}])&&c(e.prototype,r),s&&c(e,s),t}();function S(t,e){return t instanceof b?[t.opIds[e]]:t instanceof g?t.elems[e].pred:t[d]&&t[d][e]?Object.keys(t[d][e]):[]}function A(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r){if(0===e)return"_head";e-=1}if(t[p])return t[p][e];if(t.getElemId)return t.getElemId(e);throw new RangeError("Cannot find elemId at list index ".concat(e))}t.exports={Context:x}},"./frontend/counter.js":
/*!*****************************!*\
  !*** ./frontend/counter.js ***!
  \*****************************/t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=i(t);if(e){var a=i(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}var c=function(){function t(e){a(this,t),this.value=e||0,Object.freeze(this)}return u(t,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.valueOf().toString()}},{key:"toJSON",value:function(){return this.value}}]),t}(),l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,t);var e=n(o);function o(){return a(this,o),e.apply(this,arguments)}return u(o,[{key:"increment",value:function(t){return t="number"==typeof t?t:1,this.context.increment(this.path,this.key,t),this.value+=t,this.value}},{key:"decrement",value:function(t){return this.increment("number"==typeof t?-t:-1)}}]),o}(c);t.exports={Counter:c,getWriteableCounter:function(t,e,r,n,o){var i=Object.create(l.prototype);return i.value=t,i.context=e,i.path=r,i.objectId=n,i.key=o,i}}},"./frontend/index.js":
/*!***************************!*\
  !*** ./frontend/index.js ***!
  \***************************/(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var s=r(/*! ./constants */"./frontend/constants.js"),u=s.OPTIONS,c=s.CACHE,l=s.STATE,f=s.OBJECT_ID,h=s.CONFLICTS,d=s.CHANGE,p=s.ELEM_IDS,y=r(/*! ../src/common */"./src/common.js"),v=y.isObject,g=y.copyObject,b=r(/*! ../src/uuid */"./src/uuid.js"),m=r(/*! ./apply_patch */"./frontend/apply_patch.js"),_=m.interpretPatch,w=m.cloneRootObject,I=r(/*! ./proxies */"./frontend/proxies.js").rootObjectProxy,k=r(/*! ./context */"./frontend/context.js").Context,E=r(/*! ./text */"./frontend/text.js").Text,j=r(/*! ./table */"./frontend/table.js").Table,x=r(/*! ./counter */"./frontend/counter.js").Counter,S=r(/*! ./observable */"./frontend/observable.js").Observable;function A(t){if("string"!=typeof t)throw new TypeError("Unsupported type of actorId: ".concat(a(t)));if(!/^[0-9a-f]+$/.test(t))throw new RangeError("actorId must consist only of lowercase hex digits");if(t.length%2!=0)throw new RangeError("actorId must consist of an even number of digits")}function O(t,e,r){var n=e._root;if(n||(n=w(t[c]._root),e._root=n),Object.defineProperty(n,u,{value:t[u]}),Object.defineProperty(n,c,{value:e}),Object.defineProperty(n,l,{value:r}),t[u].freeze)for(var o=0,i=Object.keys(e);o<i.length;o++){var a=i[o];e[a]instanceof j?e[a]._freeze():e[a]instanceof E?(Object.freeze(e[a].elems),Object.freeze(e[a])):(Object.freeze(e[a]),Object.freeze(e[a][h]))}for(var s=0,f=Object.keys(t[c]);s<f.length;s++){var d=f[s];e[d]||(e[d]=t[c][d])}return t[u].freeze&&Object.freeze(e),n}function R(t,e,r){var i=z(t);if(!i)throw new Error("Actor ID must be initialized with setActorId() before making a change");var a=g(t[l]);a.seq+=1;var s={actor:i,seq:a.seq,startOp:a.maxOp+1,deps:a.deps,time:r&&"number"==typeof r.time?r.time:Math.round((new Date).getTime()/1e3),message:r&&"string"==typeof r.message?r.message:"",ops:e.ops};if(t[u].backend){var c=n(t[u].backend.applyLocalChange(a.backendState,s),3),f=c[0],h=c[1],d=c[2];a.backendState=f,a.lastLocalChange=d;var p=C(t,h,a,!0),y=r&&r.patchCallback||t[u].patchCallback;return y&&y(h,t,p,!0,[d]),[p,s]}var v={actor:i,seq:s.seq,before:t};return a.requests=a.requests.concat([v]),a.maxOp=a.maxOp+function(t){var e,r=0,n=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=o(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;"set"===i.action&&i.values?r+=i.values.length:r+=1}}catch(t){n.e(t)}finally{n.f()}return r}(s.ops),a.deps=[],[O(t,e?e.updated:{},a),s]}function C(t,e,r,n){var o=z(t),i={};if(_(e.diffs,t,i),n){if(!e.clock)throw new RangeError("patch is missing clock field");e.clock[o]&&e.clock[o]>r.seq&&(r.seq=e.clock[o]),r.clock=e.clock,r.deps=e.deps,r.maxOp=Math.max(r.maxOp,e.maxOp)}return O(t,i,r)}function T(t){if("string"==typeof t)t={actorId:t};else if(void 0===t)t={};else if(!v(t))throw new TypeError("Unsupported value for init() options: ".concat(t));if(t.deferActorId||(void 0===t.actorId&&(t.actorId=b()),A(t.actorId)),t.observable){var e=t.patchCallback,r=t.observable;t.patchCallback=function(t,n,o,i,a){e&&e(t,n,o,i,a),r.patchCallback(t,n,o,i,a)}}var n={},o={_root:n},i={seq:0,maxOp:0,requests:[],clock:{},deps:[]};return t.backend&&(i.backendState=t.backend.init(),i.lastLocalChange=null),Object.defineProperty(n,f,{value:"_root"}),Object.defineProperty(n,u,{value:Object.freeze(t)}),Object.defineProperty(n,h,{value:Object.freeze({})}),Object.defineProperty(n,c,{value:Object.freeze(o)}),Object.defineProperty(n,l,{value:Object.freeze(i)}),Object.freeze(n)}function U(t,e,r){if("_root"!==t[f])throw new TypeError("The first argument to Automerge.change must be the document root");if(t[d])throw new TypeError("Calls to Automerge.change cannot be nested");if("function"==typeof e&&void 0===r){var n=[r,e];e=n[0],r=n[1]}if("string"==typeof e&&(e={message:e}),void 0!==e&&!v(e))throw new TypeError("Unsupported type of options");var o=z(t);if(!o)throw new Error("Actor ID must be initialized with setActorId() before making a change");var i=new k(t,o);return r(I(i)),0===Object.keys(i.updated).length?[t,null]:R(t,i,e)}function z(t){return t[l].actorId||t[u].actorId}t.exports={init:T,from:function(t,e){return U(T(e),"Initialization",(function(e){return Object.assign(e,t)}))},change:U,emptyChange:function(t,e){if("string"==typeof e&&(e={message:e}),void 0!==e&&!v(e))throw new TypeError("Unsupported type of options");var r=z(t);if(!r)throw new Error("Actor ID must be initialized with setActorId() before making a change");return R(t,new k(t,r),e)},applyPatch:function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=g(t[l]);if(t[u].backend){if(!n)throw new RangeError("applyPatch must be called with the updated backend state");return o.backendState=n,C(t,e,o,!0)}if(o.requests.length>0)if(r=o.requests[0].before,e.actor===z(t)){if(o.requests[0].seq!==e.seq)throw new RangeError("Mismatched sequence number: patch ".concat(e.seq," does not match next request ").concat(o.requests[0].seq));o.requests=o.requests.slice(1)}else o.requests=o.requests.slice();else r=t,o.requests=[];var i=C(r,e,o,!0);return 0===o.requests.length?i:(o.requests[0]=g(o.requests[0]),o.requests[0].before=i,O(t,{},o))},getObjectId:function(t){return t[f]},getObjectById:function(t,e){if(t[d])throw new TypeError("Cannot use getObjectById in a change callback");return t[c][e]},getActorId:z,setActorId:function(t,e){return A(e),O(t,{},Object.assign({},t[l],{actorId:e}))},getConflicts:function(t,e){if(t[h]&&t[h][e]&&Object.keys(t[h][e]).length>1)return t[h][e]},getLastLocalChange:function(t){return t[l]&&t[l].lastLocalChange?t[l].lastLocalChange:null},getBackendState:function(t){return t[l].backendState},getElementIds:function(t){return t instanceof E?t.elems.map((function(t){return t.elemId})):t[p]},Text:E,Table:j,Counter:x,Observable:S}},"./frontend/observable.js":
/*!********************************!*\
  !*** ./frontend/observable.js ***!
  \********************************/(t,e,r)=>{function n(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=r(/*! ./constants */"./frontend/constants.js"),s=a.OBJECT_ID,u=a.CONFLICTS,c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers={}}var e,r,o;return e=t,(r=[{key:"patchCallback",value:function(t,e,r,n,o){this._objectUpdate(t.diffs,e,r,n,o)}},{key:"_objectUpdate",value:function(t,e,r,o,i){if(t.objectId){if(this.observers[t.objectId]){var a,s=n(this.observers[t.objectId]);try{for(s.s();!(a=s.n()).done;)(0,a.value)(t,e,r,o,i)}catch(t){s.e(t)}finally{s.f()}}if("map"===t.type&&t.props)for(var c=0,l=Object.keys(t.props);c<l.length;c++)for(var f=l[c],h=0,d=Object.keys(t.props[f]);h<d.length;h++){var p=d[h];this._objectUpdate(t.props[f][p],e&&e[u]&&e[u][f]&&e[u][f][p],r&&r[u]&&r[u][f]&&r[u][f][p],o,i)}else if("table"===t.type&&t.props)for(var y=0,v=Object.keys(t.props);y<v.length;y++)for(var g=v[y],b=0,m=Object.keys(t.props[g]);b<m.length;b++){var _=m[b];this._objectUpdate(t.props[g][_],e&&e.byId(g),r&&r.byId(g),o,i)}else if("list"===t.type&&t.edits){var w,I=0,k=n(t.edits);try{for(k.s();!(w=k.n()).done;){var E=w.value;"insert"===E.action?(I-=1,this._objectUpdate(E.value,void 0,r&&r[u]&&r[u][E.index]&&r[u][E.index][E.elemId],o,i)):"multi-insert"===E.action?I-=E.values.length:"update"===E.action?this._objectUpdate(E.value,e&&e[u]&&e[u][E.index+I]&&e[u][E.index+I][E.opId],r&&r[u]&&r[u][E.index]&&r[u][E.index][E.opId],o,i):"remove"===E.action&&(I+=E.count)}}catch(t){k.e(t)}finally{k.f()}}else if("text"===t.type&&t.edits){var j,x=0,S=n(t.edits);try{for(S.s();!(j=S.n()).done;){var A=j.value;"insert"===A.action?(x-=1,this._objectUpdate(A.value,void 0,r&&r.get(A.index),o,i)):"multi-insert"===A.action?x-=A.values.length:"update"===A.action?this._objectUpdate(A.value,e&&e.get(A.index+x),r&&r.get(A.index),o,i):"remove"===A.action&&(x+=A.count)}}catch(t){S.e(t)}finally{S.f()}}}}},{key:"observe",value:function(t,e){var r=t[s];if(!r)throw new TypeError("The observed object must be part of an Automerge document");this.observers[r]||(this.observers[r]=[]),this.observers[r].push(e)}}])&&i(e.prototype,r),o&&i(e,o),t}();t.exports={Observable:c}},"./frontend/proxies.js":
/*!*****************************!*\
  !*** ./frontend/proxies.js ***!
  \*****************************/(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=r(/*! ./constants */"./frontend/constants.js"),a=i.OBJECT_ID,s=i.CHANGE,u=i.STATE,c=r(/*! ./text */"./frontend/text.js").Text,l=r(/*! ./table */"./frontend/table.js").Table;function f(t){if("string"==typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t,10)),"number"!=typeof t)throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(t));if(t<0||isNaN(t)||t===1/0||t===-1/0)throw new RangeError("A list index must be positive, but you passed "+t);return t}var h={get:function(t,e){var r=t.context,n=t.objectId,o=t.path;return e===a?n:e===s?r:e===u?{actorId:r.actorId}:r.getObjectField(o,n,e)},set:function(t,e,r){var n=t.context,o=t.path,i=t.readonly;if(Array.isArray(i)&&i.indexOf(e)>=0)throw new RangeError('Object property "'.concat(e,'" cannot be modified'));return n.setMapKey(o,e,r),!0},deleteProperty:function(t,e){var r=t.context,n=t.path,o=t.readonly;if(Array.isArray(o)&&o.indexOf(e)>=0)throw new RangeError('Object property "'.concat(e,'" cannot be modified'));return r.deleteMapKey(n,e),!0},has:function(t,e){var r=t.context,n=t.objectId;return[a,s].includes(e)||e in r.getObject(n)},getOwnPropertyDescriptor:function(t,e){var r=t.context,n=t.objectId;if(e in r.getObject(n))return{configurable:!0,enumerable:!0,value:r.getObjectField(n,e)}},ownKeys:function(t){var e=t.context,r=t.objectId;return Object.keys(e.getObject(r))}},d={get:function(t,e){var r=n(t,3),o=r[0],i=r[1],u=r[2];return e===Symbol.iterator?o.getObject(i)[Symbol.iterator]:e===a?i:e===s?o:"length"===e?o.getObject(i).length:"string"==typeof e&&/^[0-9]+$/.test(e)?o.getObjectField(u,i,f(e)):function(t,e,r){for(var n={deleteAt:function(e,n){return t.splice(r,f(e),n||1,[]),this},fill:function(n,o,i){for(var a=t.getObject(e),s=f(o||0);s<f(i||a.length);s++)t.setListIndex(r,s,n);return this},indexOf:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=r[a];if(o){for(var i=t.getObject(e),s=n;s<i.length;s++)if(i[s][a]===o)return s;return-1}return t.getObject(e).indexOf(r,n)},insertAt:function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.splice(r,f(e),0,o),this},pop:function(){var n=t.getObject(e);if(0!=n.length){var o=t.getObjectField(r,e,n.length-1);return t.splice(r,n.length-1,1,[]),o}},push:function(){for(var n=t.getObject(e),o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t.splice(r,n.length,0,i),t.getObject(e).length},shift:function(){if(0!=t.getObject(e).length){var n=t.getObjectField(r,e,0);return t.splice(r,0,1,[]),n}},splice:function(n,o){var i=t.getObject(e);n=f(n),(void 0===o||o>i.length-n)&&(o=i.length-n);for(var a=[],s=0;s<o;s++)a.push(t.getObjectField(r,e,n+s));for(var u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];return t.splice(r,n,o,c),a},unshift:function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.splice(r,0,0,o),t.getObject(e).length}},o=function(){var r=s[i],o=t.getObject(e);n[r]=function(){return o[r]()}},i=0,s=["entries","keys","values"];i<s.length;i++)o();for(var u=function(){var o=l[c];n[o]=function(){var n=t.getObject(e).map((function(n,o){return t.getObjectField(r,e,o)}));return n[o].apply(n,arguments)}},c=0,l=["concat","every","filter","find","findIndex","forEach","includes","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"];c<l.length;c++)u();return n}(o,i,u)[e]},set:function(t,e,r){var o=n(t,3),i=o[0],a=o[2];return i.setListIndex(a,f(e),r),!0},deleteProperty:function(t,e){var r=n(t,3),o=r[0],i=r[2];return o.splice(i,f(e),1,[]),!0},has:function(t,e){var r=n(t,2),o=r[0],i=r[1];return"string"==typeof e&&/^[0-9]+$/.test(e)?f(e)<o.getObject(i).length:["length",a,s].includes(e)},getOwnPropertyDescriptor:function(t,e){var r=n(t,2),o=r[0],i=r[1],s=o.getObject(i);if("length"===e)return{writable:!0,value:s.length};if(e===a)return{configurable:!1,enumerable:!1,value:i};if("string"==typeof e&&/^[0-9]+$/.test(e)){var u=f(e);if(u<s.length)return{configurable:!0,enumerable:!0,value:o.getObjectField(i,u)}}},ownKeys:function(t){for(var e=n(t,2),r=e[0],o=e[1],i=r.getObject(o),a=["length"],s=0,u=Object.keys(i);s<u.length;s++){var c=u[s];a.push(c)}return a}};function p(t,e,r,n){return new Proxy({context:t,objectId:e,path:r,readonly:n},h)}function y(t,e,r){var n=this.getObject(e);return Array.isArray(n)?function(t,e,r){return new Proxy([t,e,r],d)}(this,e,t):n instanceof c||n instanceof l?n.getWriteable(this,t):p(this,e,t,r)}t.exports={rootObjectProxy:function(t){return t.instantiateObject=y,p(t,"_root",[])}}},"./frontend/table.js":
/*!***************************!*\
  !*** ./frontend/table.js ***!
  \***************************/(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return a(this,r)}}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}function f(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d=r(/*! ./constants */"./frontend/constants.js"),p=d.OBJECT_ID,y=d.CONFLICTS,v=r(/*! ../src/common */"./src/common.js"),g=v.isObject,b=v.copyObject;function m(t,e,r){var n,o=f(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(e[i]!==r[i]){if("number"==typeof e[i]&&"number"==typeof r[i])return e[i]-r[i];var a=""+e[i],s=""+r[i];if(a!==s)return a<s?-1:1}}}catch(t){o.e(t)}finally{o.f()}return 0}var _=function(){function t(){u(this,t),this.entries=Object.freeze({}),this.opIds=Object.freeze({}),Object.freeze(this)}return l(t,[{key:"byId",value:function(t){return this.entries[t]}},{key:"ids",get:function(){var t=this;return Object.keys(this.entries).filter((function(e){var r=t.entries[e];return g(r)&&r.id===e}))}},{key:"count",get:function(){return this.ids.length}},{key:"rows",get:function(){var t=this;return this.ids.map((function(e){return t.byId(e)}))}},{key:"filter",value:function(t,e){return this.rows.filter(t,e)}},{key:"find",value:function(t,e){return this.rows.find(t,e)}},{key:"map",value:function(t,e){return this.rows.map(t,e)}},{key:"sort",value:function(t){if("function"==typeof t)return this.rows.sort(t);if("string"==typeof t)return this.rows.sort((function(e,r){return m([t],e,r)}));if(Array.isArray(t))return this.rows.sort((function(e,r){return m(t,e,r)}));if(void 0===t)return this.rows.sort((function(t,e){return m(["id"],t,e)}));throw new TypeError("Unsupported sorting argument: ".concat(t))}},{key:Symbol.iterator,value:function(){var t=this.rows,e=-1;return{next:function(){return(e+=1)<t.length?{done:!1,value:t[e]}:{done:!0}}}}},{key:"_clone",value:function(){if(!this[p])throw new RangeError("clone() requires the objectId to be set");return I(this[p],b(this.entries),b(this.opIds))}},{key:"_set",value:function(t,e,r){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");g(e)&&!Array.isArray(e)&&Object.defineProperty(e,"id",{value:t,enumerable:!0}),this.entries[t]=e,this.opIds[t]=r}},{key:"remove",value:function(t){if(Object.isFrozen(this.entries))throw new Error("A table can only be modified in a change function");delete this.entries[t],delete this.opIds[t]}},{key:"_freeze",value:function(){Object.freeze(this.entries),Object.freeze(this.opIds),Object.freeze(this)}},{key:"getWriteable",value:function(t,e){if(!this[p])throw new RangeError("getWriteable() requires the objectId to be set");var r=Object.create(w.prototype);return r[p]=this[p],r.context=t,r.entries=this.entries,r.opIds=this.opIds,r.path=e,r}},{key:"toJSON",value:function(){var t,e={},r=f(this.ids);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n]=this.byId(n)}}catch(t){r.e(t)}finally{r.f()}return e}}]),t}(),w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,t);var e=i(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"byId",value:function(t){if(g(this.entries[t])&&this.entries[t].id===t){var e=this.entries[t][p],r=this.path.concat([{key:t,objectId:e}]);return this.context.instantiateObject(r,e,["id"])}}},{key:"add",value:function(t){return this.context.addTableRow(this.path,t)}},{key:"remove",value:function(t){if(!g(this.entries[t])||this.entries[t].id!==t)throw new RangeError("There is no row with ID ".concat(t," in this table"));this.context.deleteTableRow(this.path,t,this.opIds[t])}}]),r}(_);function I(t,e,r){var n=Object.create(_.prototype);if(!t)throw new RangeError("instantiateTable requires an objectId to be given");return n[p]=t,n[y]=Object.freeze({}),n.entries=e||{},n.opIds=r||{},n}t.exports={Table:_,instantiateTable:I}},"./frontend/text.js":
/*!**************************!*\
  !*** ./frontend/text.js ***!
  \**************************/(t,e,r)=>{function n(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}for(var u=r(/*! ./constants */"./frontend/constants.js").OBJECT_ID,c=r(/*! ../src/common */"./src/common.js").isObject,l=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)return p(void 0,o(e).map((function(t){return{value:t}})));if(Array.isArray(e))return p(void 0,e.map((function(t){return{value:t}})));if(void 0===e)return p(void 0,[]);throw new TypeError("Unsupported initial value for Text: ".concat(e))}var e,r,i;return e=t,r=[{key:"length",get:function(){return this.elems.length}},{key:"get",value:function(t){var e=this.elems[t].value;if(this.context&&c(e)){var r=e[u],n=this.path.concat([{key:t,objectId:r}]);return this.context.instantiateObject(n,r)}return e}},{key:"getElemId",value:function(t){return this.elems[t].elemId}},{key:Symbol.iterator,value:function(){var t=this.elems,e=-1;return{next:function(){return(e+=1)<t.length?{done:!1,value:t[e].value}:{done:!0}}}}},{key:"toString",value:function(){var t,e="",r=n(this.elems);try{for(r.s();!(t=r.n()).done;){var o=t.value;"string"==typeof o.value&&(e+=o.value)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"toSpans",value:function(){var t,e=[],r="",o=n(this.elems);try{for(o.s();!(t=o.n()).done;){var i=t.value;"string"==typeof i.value?r+=i.value:(r.length>0&&(e.push(r),r=""),e.push(i.value))}}catch(t){o.e(t)}finally{o.f()}return r.length>0&&e.push(r),e}},{key:"toJSON",value:function(){return this.toString()}},{key:"getWriteable",value:function(t,e){if(!this[u])throw new RangeError("getWriteable() requires the objectId to be set");var r=p(this[u],this.elems);return r.context=t,r.path=e,r}},{key:"set",value:function(t,e){if(this.context)this.context.setListIndex(this.path,t,e);else{if(this[u])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems[t].value=e}return this}},{key:"insertAt",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(this.context)this.context.splice(this.path,t,0,r);else{if(this[u])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");var i;(i=this.elems).splice.apply(i,[t,0].concat(o(r.map((function(t){return{value:t}})))))}return this}},{key:"deleteAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.context)this.context.splice(this.path,t,e,[]);else{if(this[u])throw new TypeError("Automerge.Text object cannot be modified outside of a change block");this.elems.splice(t,e)}return this}}],r&&s(e.prototype,r),i&&s(e,i),t}(),f=function(){var t=d[h];l.prototype[t]=function(){var e=o(this);return e[t].apply(e,arguments)}},h=0,d=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString"];h<d.length;h++)f();function p(t,e){var r=Object.create(l.prototype);return r[u]=t,r.elems=e,r}t.exports={Text:l,instantiateText:p}},"./src/automerge.js":
/*!**************************!*\
  !*** ./src/automerge.js ***!
  \**************************/(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=r(/*! ./uuid */"./src/uuid.js"),a=r(/*! ../frontend */"./frontend/index.js"),s=r(/*! ../frontend/constants */"./frontend/constants.js").OPTIONS,u=r(/*! ../backend/columnar */"./backend/columnar.js"),c=u.encodeChange,l=u.decodeChange,f=r(/*! ./common */"./src/common.js").isObject,h=r(/*! ../backend */"./backend/index.js");function d(t){if("string"==typeof t)t={actorId:t};else if(void 0===t)t={};else if(!f(t))throw new TypeError("Unsupported options for init(): ".concat(t));return a.init(Object.assign({backend:h},t))}function p(t,e,r){return n(a.change(t,e,r),1)[0]}function y(t){return h.getAllChanges(a.getBackendState(t))}function v(t,e,r,n,o){var i=a.applyPatch(t,e,r),u=o.patchCallback||t[s].patchCallback;return u&&u(e,t,i,!1,n),i}function g(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.getBackendState(t),i=h.applyChanges(o,e),s=n(i,2),u=s[0],c=s[1];return[v(t,c,u,e,r),c]}t.exports={init:d,from:function(t,e){return p(d(e),{message:"Initialization"},(function(e){return Object.assign(e,t)}))},change:p,emptyChange:function(t,e){return n(a.emptyChange(t,e),1)[0]},clone:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h.clone(a.getBackendState(t));return v(d(e),h.getPatch(r),r,[],e)},free:function(t){h.free(a.getBackendState(t))},load:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h.load(t);return v(d(e),h.getPatch(r),r,[t],e)},save:function(t){return h.save(a.getBackendState(t))},merge:function(t,e){if(a.getActorId(t)===a.getActorId(e))throw new RangeError("Cannot merge an actor with itself");return n(g(t,y(e)),1)[0]},getChanges:function(t,e){var r=a.getBackendState(t),n=a.getBackendState(e);return h.getChanges(n,h.getHeads(r))},getAllChanges:y,applyChanges:g,encodeChange:c,decodeChange:l,equals:function t(e,r){if(!f(e)||!f(r))return e===r;var n=Object.keys(e).sort(),o=Object.keys(r).sort();if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++){if(n[i]!==o[i])return!1;if(!t(e[n[i]],r[o[i]]))return!1}return!0},getHistory:function(t){var e=a.getActorId(t),r=y(t);return r.map((function(t,n){return{get change(){return l(t)},get snapshot(){var t=h.loadChanges(h.init(),r.slice(0,n+1));return a.applyPatch(d(e),h.getPatch(t),t)}}}))},uuid:i,Frontend:a,setDefaultBackend:function(t){h=t},generateSyncMessage:function(t,e){return h.generateSyncMessage(a.getBackendState(t),e)},receiveSyncMessage:function(t,e,r){var o=n(h.receiveSyncMessage(a.getBackendState(t),e,r),3),i=o[0],u=o[1],c=o[2];if(!c)return[t,u,c];var l=null;return t[s].patchCallback&&(l=h.decodeSyncMessage(r).changes),[v(t,c,i,l,{}),u,c]},initSyncState:function(){return h.initSyncState()},get Backend(){return h}};for(var b=0,m=["getObjectId","getObjectById","getActorId","setActorId","getConflicts","getLastLocalChange","Text","Table","Counter","Observable"];b<m.length;b++){var _=m[b];t.exports[_]=a[_]}},"./src/common.js":
/*!***********************!*\
  !*** ./src/common.js ***!
  \***********************/t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t){return"object"===e(t)&&null!==t}t.exports={isObject:r,copyObject:function(t){if(!r(t))return{};for(var e={},n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];e[i]=t[i]}return e},parseOpId:function(t){var e=/^(\d+)@(.*)$/.exec(t||"");if(!e)throw new RangeError("Not a valid opId: ".concat(t));return{counter:parseInt(e[1],10),actorId:e[2]}},equalBytes:function(t,e){if(!(t instanceof Uint8Array&&e instanceof Uint8Array))throw new TypeError("equalBytes can only compare Uint8Arrays");if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}}},"./src/uuid.js":
/*!*********************!*\
  !*** ./src/uuid.js ***!
  \*********************/(t,e,r)=>{var n=r(/*! uuid/v4 */"./node_modules/uuid/v4.js");function o(){return n().replace(/-/g,"")}var i=o;function a(){return i()}a.setFactory=function(t){i=t},a.reset=function(){i=o},t.exports=a},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=u(t),a=i[0],s=i[1],c=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===s&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e),1===s&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=16383,s=0,u=n-o;s<u;s+=a)i.push(c(t,s,s+a>u?u:s+a));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/(t,e,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(/*! base64-js */"./node_modules/base64-js/index.js"),o=r(/*! ieee754 */"./node_modules/ieee754/index.js"),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|y(t,e),n=s(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(P(t,Uint8Array)){var e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(P(t,ArrayBuffer)||t&&P(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(P(t,SharedArrayBuffer)||t&&P(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var o=function(t){if(u.isBuffer(t)){var e=0|p(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||q(t.length)?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),s(t<0?0:0|p(t))}function h(t){for(var e=t.length<0?0:0|p(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||P(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(t).length;default:if(o)return n?-1:N(t).length;e=(""+e).toLowerCase(),o=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return x(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return j(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),q(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function _(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(q(s))return a;t[r+a]=s}return a}function w(t,e,r,n){return D(N(e,t.length-r),t,r,n)}function I(t,e,r,n){return D(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function k(t,e,r,n){return D(M(e),t,r,n)}function E(t,e,r,n){return D(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function j(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function x(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(P(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),P(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(P(i,Uint8Array))o+i.length>n.length?u.from(i).copy(n,o):Uint8Array.prototype.set.call(n,i,o);else{if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o)}o+=i.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):v.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,o){if(P(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return I(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function O(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=H[t[i]];return o}function C(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function T(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,r,n,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function z(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,i){return e=+e,r>>>=0,i||z(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,i){return e=+e,r>>>=0,i||z(t,0,r,8),o.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||T(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||T(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||T(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||T(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||T(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||T(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||U(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||U(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);U(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);U(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=u.isBuffer(t)?t:u.from(t,n),s=a.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var B=/[^+/0-9A-Za-z-_]/g;function N(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function M(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function D(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function P(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function q(t){return t!=t}var H=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)e[n+o]=t[r]+t[o];return e}()},"./node_modules/fast-sha256/sha256.js":
/*!********************************************!*\
  !*** ./node_modules/fast-sha256/sha256.js ***!
  \********************************************/function(t,e,r){var n;!function(e,o){var i={};!function(t){"use strict";t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,o,i){for(var a,s,u,c,l,f,h,d,p,y,v,g,b;i>=64;){for(a=r[0],s=r[1],u=r[2],c=r[3],l=r[4],f=r[5],h=r[6],d=r[7],y=0;y<16;y++)v=o+4*y,t[y]=(255&n[v])<<24|(255&n[v+1])<<16|(255&n[v+2])<<8|255&n[v+3];for(y=16;y<64;y++)g=((p=t[y-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,b=((p=t[y-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,t[y]=(g+t[y-7]|0)+(b+t[y-16]|0);for(y=0;y<64;y++)g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&f^~l&h)|0)+(d+(e[y]+t[y]|0)|0)|0,b=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&s^a&u^s&u)|0,d=h,h=f,f=l,l=c+g|0,c=u,u=s,s=a,a=g+b|0;r[0]+=a,r[1]+=s,r[2]+=u,r[3]+=c,r[4]+=l,r[5]+=f,r[6]+=h,r[7]+=d,o+=64,i-=64}return o}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,o=e/536870912|0,i=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var s=n+1;s<a-8;s++)this.buffer[s]=0;this.buffer[a-8]=o>>>24&255,this.buffer[a-7]=o>>>16&255,this.buffer[a-6]=o>>>8&255,this.buffer[a-5]=o>>>0&255,this.buffer[a-4]=i>>>24&255,this.buffer[a-3]=i>>>16&255,this.buffer[a-2]=i>>>8&255,this.buffer[a-1]=i>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(s=0;s<8;s++)t[4*s+0]=this.state[s]>>>24&255,t[4*s+1]=this.state[s]>>>16&255,t[4*s+2]=this.state[s]>>>8&255,t[4*s+3]=this.state[s]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e]},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0},e}();t.Hash=n;var o=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;for(this.inner.update(e),r=0;r<e.length;r++)e[r]^=106;for(this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),r=0;r<e.length;r++)e[r]=0}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean()},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function i(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new o(t).update(e),n=r.digest();return r.clean(),n}function s(t,e,r,n){var o=n[0];if(0===o)throw new Error("hkdf: cannot expand more");e.reset(),o>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++}t.HMAC=o,t.hash=i,t.default=i,t.hmac=a;var u=new Uint8Array(t.digestLength);function c(t,e,r,n){void 0===e&&(e=u),void 0===n&&(n=32);for(var i=new Uint8Array([1]),c=a(e,t),l=new o(c),f=new Uint8Array(l.digestLength),h=f.length,d=new Uint8Array(n),p=0;p<n;p++)h===f.length&&(s(f,l,r,i),h=0),d[p]=f[h++];return l.clean(),f.fill(0),i.fill(0),d}function l(t,e,r,n){for(var i=new o(t),a=i.digestLength,s=new Uint8Array(4),u=new Uint8Array(a),c=new Uint8Array(a),l=new Uint8Array(n),f=0;f*a<n;f++){var h=f+1;s[0]=h>>>24&255,s[1]=h>>>16&255,s[2]=h>>>8&255,s[3]=h>>>0&255,i.reset(),i.update(e),i.update(s),i.finish(c);for(var d=0;d<a;d++)u[d]=c[d];for(d=2;d<=r;d++){i.reset(),i.update(c).finish(c);for(var p=0;p<a;p++)u[p]^=c[p]}for(d=0;d<a&&f*a+d<n;d++)l[f*a+d]=u[d]}for(f=0;f<a;f++)u[f]=c[f]=0;for(f=0;f<4;f++)s[f]=0;return i.clean(),l}t.hkdf=c,t.pbkdf2=l}(i);var a=i.default;for(var s in i)a[s]=i[s];"object"==typeof t.exports?t.exports=a:void 0===(n=function(){return a}.call(i,r,i,t))||(t.exports=n)}()},"./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,h=r?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*y}},"./node_modules/immutable/dist/immutable.js":
/*!**************************************************!*\
  !*** ./node_modules/immutable/dist/immutable.js ***!
  \**************************************************/function(t){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return a(t)?t:W(t)}function n(t){return s(t)?t:J(t)}function o(t){return u(t)?t:G(t)}function i(t){return a(t)&&!c(t)?t:Y(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[h])}function u(t){return!(!t||!t[d])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[p])}e(n,r),e(o,r),e(i,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=u,r.isAssociative=c,r.isOrdered=l,r.Keyed=n,r.Indexed=o,r.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",y="delete",v=5,g=1<<v,b=g-1,m={},_={value:!1},w={value:!1};function I(t){return t.value=!1,t}function k(t){t&&(t.value=!0)}function E(){}function j(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),o=0;o<r;o++)n[o]=t[o+e];return n}function x(t){return void 0===t.size&&(t.size=t.__iterate(A)),t.size}function S(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?x(t)+e:e}function A(){return!0}function O(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function R(t,e){return T(t,e,0)}function C(t,e){return T(t,e,e)}function T(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var U=0,z=1,L=2,V="function"==typeof Symbol&&Symbol.iterator,B="@@iterator",N=V||B;function M(t){this.next=t}function D(t,e,r,n){var o=0===t?e:1===t?r:[e,r];return n?n.value=o:n={value:o,done:!1},n}function P(){return{value:void 0,done:!0}}function q(t){return!!K(t)}function H(t){return t&&"function"==typeof t.next}function F(t){var e=K(t);return e&&e.call(t)}function K(t){var e=t&&(V&&t[V]||t[B]);if("function"==typeof e)return e}function Z(t){return t&&"number"==typeof t.length}function W(t){return null==t?at():a(t)?t.toSeq():ct(t)}function J(t){return null==t?at().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():st(t)}function G(t){return null==t?at():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():ut(t)}function Y(t){return(null==t?at():a(t)?s(t)?t.entrySeq():t:ut(t)).toSetSeq()}M.prototype.toString=function(){return"[Iterator]"},M.KEYS=U,M.VALUES=z,M.ENTRIES=L,M.prototype.inspect=M.prototype.toSource=function(){return this.toString()},M.prototype[N]=function(){return this},e(W,r),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return ft(this,t,e,!0)},W.prototype.__iterator=function(t,e){return ht(this,t,e,!0)},e(J,W),J.prototype.toKeyedSeq=function(){return this},e(G,W),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(t,e){return ft(this,t,e,!1)},G.prototype.__iterator=function(t,e){return ht(this,t,e,!1)},e(Y,W),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},W.isSeq=it,W.Keyed=J,W.Set=Y,W.Indexed=G;var $,X,Q,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function rt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function ot(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[tt])}function at(){return $||($=new et([]))}function st(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():H(t)?new ot(t).fromEntrySeq():q(t)?new nt(t).fromEntrySeq():"object"==typeof t?new rt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ut(t){var e=lt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ct(t){var e=lt(t)||"object"==typeof t&&new rt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function lt(t){return Z(t)?new et(t):H(t)?new ot(t):q(t)?new nt(t):void 0}function ft(t,e,r,n){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[r?i-a:a];if(!1===e(s[1],n?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,r)}function ht(t,e,r,n){var o=t._cache;if(o){var i=o.length-1,a=0;return new M((function(){var t=o[r?i-a:a];return a++>i?P():D(e,n?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,r)}function dt(t,e){return e?pt(e,t,"",{"":t}):yt(t)}function pt(t,e,r,n){return Array.isArray(e)?t.call(n,r,G(e).map((function(r,n){return pt(t,r,n,e)}))):vt(e)?t.call(n,r,J(e).map((function(r,n){return pt(t,r,n,e)}))):e}function yt(t){return Array.isArray(t)?G(t).map(yt).toList():vt(t)?J(t).map(yt).toMap():t}function vt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function gt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function bt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!c(t);if(l(t)){var n=t.entries();return e.every((function(t,e){var o=n.next().value;return o&&gt(o[1],t)&&(r||gt(o[0],e))}))&&n.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var f=!0,h=e.__iterate((function(e,n){if(r?!t.has(e):o?!gt(e,t.get(n,m)):!gt(t.get(n,m),e))return f=!1,!1}));return f&&t.size===h}function mt(t,e){if(!(this instanceof mt))return new mt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(X)return X;X=this}}function _t(t,e){if(!t)throw new Error(e)}function wt(t,e,r){if(!(this instanceof wt))return new wt(t,e,r);if(_t(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Q)return Q;Q=this}}function It(){throw TypeError("Abstract")}function kt(){}function Et(){}function jt(){}W.prototype[tt]=!0,e(et,G),et.prototype.get=function(t,e){return this.has(t)?this._array[S(this,t)]:e},et.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(!1===t(r[e?n-o:o],o,this))return o+1;return o},et.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,o=0;return new M((function(){return o>n?P():D(t,o,r[e?n-o++:o++])}))},e(rt,J),rt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},rt.prototype.has=function(t){return this._object.hasOwnProperty(t)},rt.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,o=n.length-1,i=0;i<=o;i++){var a=n[e?o-i:i];if(!1===t(r[a],a,this))return i+1}return i},rt.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,o=n.length-1,i=0;return new M((function(){var a=n[e?o-i:i];return i++>o?P():D(t,a,r[a])}))},rt.prototype[p]=!0,e(nt,G),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=F(this._iterable),n=0;if(H(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,n++,this););return n},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=F(this._iterable);if(!H(r))return new M(P);var n=0;return new M((function(){var e=r.next();return e.done?e:D(t,n++,e.value)}))},e(ot,G),ot.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(r=n.next()).done;){var a=r.value;if(o[i]=a,!1===t(a,i++,this))break}return i},ot.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,o=0;return new M((function(){if(o>=n.length){var e=r.next();if(e.done)return e;n[o]=e.value}return D(t,o,n[o++])}))},e(mt,G),mt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},mt.prototype.get=function(t,e){return this.has(t)?this._value:e},mt.prototype.includes=function(t){return gt(this._value,t)},mt.prototype.slice=function(t,e){var r=this.size;return O(t,e,r)?this:new mt(this._value,C(e,r)-R(t,r))},mt.prototype.reverse=function(){return this},mt.prototype.indexOf=function(t){return gt(this._value,t)?0:-1},mt.prototype.lastIndexOf=function(t){return gt(this._value,t)?this.size:-1},mt.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},mt.prototype.__iterator=function(t,e){var r=this,n=0;return new M((function(){return n<r.size?D(t,n++,r._value):P()}))},mt.prototype.equals=function(t){return t instanceof mt?gt(this._value,t._value):bt(t)},e(wt,G),wt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},wt.prototype.get=function(t,e){return this.has(t)?this._start+S(this,t)*this._step:e},wt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},wt.prototype.slice=function(t,e){return O(t,e,this.size)?this:(t=R(t,this.size),(e=C(e,this.size))<=t?new wt(0,0):new wt(this.get(t,this._end),this.get(e,this._end),this._step))},wt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},wt.prototype.lastIndexOf=function(t){return this.indexOf(t)},wt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,o=e?this._start+r*n:this._start,i=0;i<=r;i++){if(!1===t(o,i,this))return i+1;o+=e?-n:n}return i},wt.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,o=e?this._start+r*n:this._start,i=0;return new M((function(){var a=o;return o+=e?-n:n,i>r?P():D(t,i++,a)}))},wt.prototype.equals=function(t){return t instanceof wt?this._start===t._start&&this._end===t._end&&this._step===t._step:bt(this,t)},e(It,r),e(kt,It),e(Et,It),e(jt,It),It.Keyed=kt,It.Indexed=Et,It.Set=jt;var xt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function St(t){return t>>>1&1073741824|3221225471&t}function At(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return St(r)}if("string"===e)return t.length>Mt?Ot(t):Rt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return Ct(t);if("function"==typeof t.toString)return Rt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Ot(t){var e=qt[t];return void 0===e&&(e=Rt(t),Pt===Dt&&(Pt=0,qt={}),Pt++,qt[t]=e),e}function Rt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return St(e)}function Ct(t){var e;if(Vt&&void 0!==(e=Lt.get(t)))return e;if(void 0!==(e=t[Nt]))return e;if(!Ut){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Nt]))return e;if(void 0!==(e=zt(t)))return e}if(e=++Bt,1073741824&Bt&&(Bt=0),Vt)Lt.set(t,e);else{if(void 0!==Tt&&!1===Tt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ut)Object.defineProperty(t,Nt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Nt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Nt]=e}}return e}var Tt=Object.isExtensible,Ut=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function zt(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Lt,Vt="function"==typeof WeakMap;Vt&&(Lt=new WeakMap);var Bt=0,Nt="__immutablehash__";"function"==typeof Symbol&&(Nt=Symbol(Nt));var Mt=16,Dt=255,Pt=0,qt={};function Ht(t){_t(t!==1/0,"Cannot perform this action with an infinite size.")}function Ft(t){return null==t?oe():Kt(t)&&!l(t)?t:oe().withMutations((function(e){var r=n(t);Ht(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function Kt(t){return!(!t||!t[Wt])}e(Ft,kt),Ft.of=function(){var e=t.call(arguments,0);return oe().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},Ft.prototype.toString=function(){return this.__toString("Map {","}")},Ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Ft.prototype.set=function(t,e){return ie(this,t,e)},Ft.prototype.setIn=function(t,e){return this.updateIn(t,m,(function(){return e}))},Ft.prototype.remove=function(t){return ie(this,t,m)},Ft.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return m}))},Ft.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Ft.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=ve(this,wr(t),e,r);return n===m?void 0:n},Ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):oe()},Ft.prototype.merge=function(){return he(this,void 0,arguments)},Ft.prototype.mergeWith=function(e){return he(this,e,t.call(arguments,1))},Ft.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,oe(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]}))},Ft.prototype.mergeDeep=function(){return he(this,de,arguments)},Ft.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return he(this,pe(e),r)},Ft.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,oe(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]}))},Ft.prototype.sort=function(t){return qe(lr(this,t))},Ft.prototype.sortBy=function(t,e){return qe(lr(this,e,t))},Ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},Ft.prototype.asImmutable=function(){return this.__ensureOwner()},Ft.prototype.wasAltered=function(){return this.__altered},Ft.prototype.__iterator=function(t,e){return new te(this,t,e)},Ft.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],r)}),e),n},Ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?ne(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ft.isMap=Kt;var Zt,Wt="@@__IMMUTABLE_MAP__@@",Jt=Ft.prototype;function Gt(t,e){this.ownerID=t,this.entries=e}function Yt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function $t(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Xt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Qt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function te(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&re(t._root)}function ee(t,e){return D(t,e[0],e[1])}function re(t,e){return{node:t,index:0,__prev:e}}function ne(t,e,r,n){var o=Object.create(Jt);return o.size=t,o._root=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function oe(){return Zt||(Zt=ne(0))}function ie(t,e,r){var n,o;if(t._root){var i=I(_),a=I(w);if(n=ae(t._root,t.__ownerID,0,void 0,e,r,i,a),!a.value)return t;o=t.size+(i.value?r===m?-1:1:0)}else{if(r===m)return t;o=1,n=new Gt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=o,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?ne(o,n):oe()}function ae(t,e,r,n,o,i,a,s){return t?t.update(e,r,n,o,i,a,s):i===m?t:(k(s),k(a),new Qt(e,n,[o,i]))}function se(t){return t.constructor===Qt||t.constructor===Xt}function ue(t,e,r,n,o){if(t.keyHash===n)return new Xt(e,n,[t.entry,o]);var i,a=(0===r?t.keyHash:t.keyHash>>>r)&b,s=(0===r?n:n>>>r)&b;return new Yt(e,1<<a|1<<s,a===s?[ue(t,e,r+v,n,o)]:(i=new Qt(e,n,o),a<s?[t,i]:[i,t]))}function ce(t,e,r,n){t||(t=new E);for(var o=new Qt(t,At(r),[r,n]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}function le(t,e,r,n){for(var o=0,i=0,a=new Array(r),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==n&&(o|=u,a[i++]=l)}return new Yt(t,o,a)}function fe(t,e,r,n,o){for(var i=0,a=new Array(g),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[i++]:void 0;return a[n]=o,new $t(t,i+1,a)}function he(t,e,r){for(var o=[],i=0;i<r.length;i++){var s=r[i],u=n(s);a(s)||(u=u.map((function(t){return dt(t)}))),o.push(u)}return ye(t,e,o)}function de(t,e,r){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):gt(t,e)?t:e}function pe(t){return function(e,r,n){if(e&&e.mergeDeepWith&&a(r))return e.mergeDeepWith(t,r);var o=t(e,r,n);return gt(e,o)?e:o}}function ye(t,e,r){return 0===(r=r.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var n=e?function(r,n){t.update(n,m,(function(t){return t===m?r:e(t,r,n)}))}:function(e,r){t.set(r,e)},o=0;o<r.length;o++)r[o].forEach(n)})):t.constructor(r[0])}function ve(t,e,r,n){var o=t===m,i=e.next();if(i.done){var a=o?r:t,s=n(a);return s===a?t:s}_t(o||t&&t.set,"invalid keyPath");var u=i.value,c=o?m:t.get(u,m),l=ve(c,e,r,n);return l===c?t:l===m?t.remove(u):(o?oe():t).set(u,l)}function ge(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function be(t,e,r,n){var o=n?t:j(t);return o[e]=r,o}function me(t,e,r,n){var o=t.length+1;if(n&&e+1===o)return t[e]=r,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=r,a=-1):i[s]=t[s+a];return i}function _e(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var o=new Array(n),i=0,a=0;a<n;a++)a===e&&(i=1),o[a]=t[a+i];return o}Jt[Wt]=!0,Jt[y]=Jt.remove,Jt.removeIn=Jt.deleteIn,Gt.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(gt(r,o[i][0]))return o[i][1];return n},Gt.prototype.update=function(t,e,r,n,o,i,a){for(var s=o===m,u=this.entries,c=0,l=u.length;c<l&&!gt(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(k(a),(s||!f)&&k(i),!s||1!==u.length){if(!f&&!s&&u.length>=we)return ce(t,u,n,o);var h=t&&t===this.ownerID,d=h?u:j(u);return f?s?c===l-1?d.pop():d[c]=d.pop():d[c]=[n,o]:d.push([n,o]),h?(this.entries=d,this):new Gt(t,d)}},Yt.prototype.get=function(t,e,r,n){void 0===e&&(e=At(r));var o=1<<((0===t?e:e>>>t)&b),i=this.bitmap;return 0==(i&o)?n:this.nodes[ge(i&o-1)].get(t+v,e,r,n)},Yt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=At(n));var s=(0===e?r:r>>>e)&b,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&o===m)return this;var f=ge(c&u-1),h=this.nodes,d=l?h[f]:void 0,p=ae(d,t,e+v,r,n,o,i,a);if(p===d)return this;if(!l&&p&&h.length>=Ie)return fe(t,h,c,s,p);if(l&&!p&&2===h.length&&se(h[1^f]))return h[1^f];if(l&&p&&1===h.length&&se(p))return p;var y=t&&t===this.ownerID,g=l?p?c:c^u:c|u,_=l?p?be(h,f,p,y):_e(h,f,y):me(h,f,p,y);return y?(this.bitmap=g,this.nodes=_,this):new Yt(t,g,_)},$t.prototype.get=function(t,e,r,n){void 0===e&&(e=At(r));var o=(0===t?e:e>>>t)&b,i=this.nodes[o];return i?i.get(t+v,e,r,n):n},$t.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=At(n));var s=(0===e?r:r>>>e)&b,u=o===m,c=this.nodes,l=c[s];if(u&&!l)return this;var f=ae(l,t,e+v,r,n,o,i,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<ke)return le(t,c,h,s)}else h++;var d=t&&t===this.ownerID,p=be(c,s,f,d);return d?(this.count=h,this.nodes=p,this):new $t(t,h,p)},Xt.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(gt(r,o[i][0]))return o[i][1];return n},Xt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=At(n));var s=o===m;if(r!==this.keyHash)return s?this:(k(a),k(i),ue(this,t,e,r,[n,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!gt(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(k(a),(s||!f)&&k(i),s&&2===l)return new Qt(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,d=h?u:j(u);return f?s?c===l-1?d.pop():d[c]=d.pop():d[c]=[n,o]:d.push([n,o]),h?(this.entries=d,this):new Xt(t,this.keyHash,d)},Qt.prototype.get=function(t,e,r,n){return gt(r,this.entry[0])?this.entry[1]:n},Qt.prototype.update=function(t,e,r,n,o,i,a){var s=o===m,u=gt(n,this.entry[0]);return(u?o===this.entry[1]:s)?this:(k(a),s?void k(i):u?t&&t===this.ownerID?(this.entry[1]=o,this):new Qt(t,this.keyHash,[n,o]):(k(i),ue(this,t,e,At(n),[n,o])))},Gt.prototype.iterate=Xt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===t(r[e?o-n:n]))return!1},Yt.prototype.iterate=$t.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[e?o-n:n];if(i&&!1===i.iterate(t,e))return!1}},Qt.prototype.iterate=function(t,e){return t(this.entry)},e(te,M),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,o=e.index++;if(n.entry){if(0===o)return ee(t,n.entry)}else if(n.entries){if(o<=(r=n.entries.length-1))return ee(t,n.entries[this._reverse?r-o:o])}else if(o<=(r=n.nodes.length-1)){var i=n.nodes[this._reverse?r-o:o];if(i){if(i.entry)return ee(t,i.entry);e=this._stack=re(i,e)}continue}e=this._stack=this._stack.__prev}return P()};var we=g/4,Ie=g/2,ke=g/4;function Ee(t){var e=ze();if(null==t)return e;if(je(t))return t;var r=o(t),n=r.size;return 0===n?e:(Ht(n),n>0&&n<g?Ue(0,n,v,null,new Ae(r.toArray())):e.withMutations((function(t){t.setSize(n),r.forEach((function(e,r){return t.set(r,e)}))})))}function je(t){return!(!t||!t[xe])}e(Ee,Et),Ee.of=function(){return this(arguments)},Ee.prototype.toString=function(){return this.__toString("List [","]")},Ee.prototype.get=function(t,e){if((t=S(this,t))>=0&&t<this.size){var r=Ne(this,t+=this._origin);return r&&r.array[t&b]}return e},Ee.prototype.set=function(t,e){return Le(this,t,e)},Ee.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Ee.prototype.insert=function(t,e){return this.splice(t,0,e)},Ee.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ze()},Ee.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){Me(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])}))},Ee.prototype.pop=function(){return Me(this,0,-1)},Ee.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Me(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},Ee.prototype.shift=function(){return Me(this,1)},Ee.prototype.merge=function(){return De(this,void 0,arguments)},Ee.prototype.mergeWith=function(e){return De(this,e,t.call(arguments,1))},Ee.prototype.mergeDeep=function(){return De(this,de,arguments)},Ee.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return De(this,pe(e),r)},Ee.prototype.setSize=function(t){return Me(this,0,t)},Ee.prototype.slice=function(t,e){var r=this.size;return O(t,e,r)?this:Me(this,R(t,r),C(e,r))},Ee.prototype.__iterator=function(t,e){var r=0,n=Te(this,e);return new M((function(){var e=n();return e===Ce?P():D(t,r++,e)}))},Ee.prototype.__iterate=function(t,e){for(var r,n=0,o=Te(this,e);(r=o())!==Ce&&!1!==t(r,n++,this););return n},Ee.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ue(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Ee.isList=je;var xe="@@__IMMUTABLE_LIST__@@",Se=Ee.prototype;function Ae(t,e){this.array=t,this.ownerID=e}Se[xe]=!0,Se[y]=Se.remove,Se.setIn=Jt.setIn,Se.deleteIn=Se.removeIn=Jt.removeIn,Se.update=Jt.update,Se.updateIn=Jt.updateIn,Se.mergeIn=Jt.mergeIn,Se.mergeDeepIn=Jt.mergeDeepIn,Se.withMutations=Jt.withMutations,Se.asMutable=Jt.asMutable,Se.asImmutable=Jt.asImmutable,Se.wasAltered=Jt.wasAltered,Ae.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&b;if(n>=this.array.length)return new Ae([],t);var o,i=0===n;if(e>0){var a=this.array[n];if((o=a&&a.removeBefore(t,e-v,r))===a&&i)return this}if(i&&!o)return this;var s=Be(this,t);if(!i)for(var u=0;u<n;u++)s.array[u]=void 0;return o&&(s.array[n]=o),s},Ae.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,o=r-1>>>e&b;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((n=i&&i.removeAfter(t,e-v,r))===i&&o===this.array.length-1)return this}var a=Be(this,t);return a.array.splice(o+1),n&&(a.array[o]=n),a};var Oe,Re,Ce={};function Te(t,e){var r=t._origin,n=t._capacity,o=Pe(n),i=t._tail;return a(t._root,t._level,0);function a(t,e,r){return 0===e?s(t,r):u(t,e,r)}function s(t,a){var s=a===o?i&&i.array:t&&t.array,u=a>r?0:r-a,c=n-a;return c>g&&(c=g),function(){if(u===c)return Ce;var t=e?--c:u++;return s&&s[t]}}function u(t,o,i){var s,u=t&&t.array,c=i>r?0:r-i>>o,l=1+(n-i>>o);return l>g&&(l=g),function(){for(;;){if(s){var t=s();if(t!==Ce)return t;s=null}if(c===l)return Ce;var r=e?--l:c++;s=a(u&&u[r],o-v,i+(r<<o))}}}}function Ue(t,e,r,n,o,i,a){var s=Object.create(Se);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function ze(){return Oe||(Oe=Ue(0,0,v))}function Le(t,e,r){if((e=S(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Me(t,e).set(0,r):Me(t,0,e+1).set(e,r)}));e+=t._origin;var n=t._tail,o=t._root,i=I(w);return e>=Pe(t._capacity)?n=Ve(n,t.__ownerID,0,e,r,i):o=Ve(o,t.__ownerID,t._level,e,r,i),i.value?t.__ownerID?(t._root=o,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Ue(t._origin,t._capacity,t._level,o,n):t}function Ve(t,e,r,n,o,i){var a,s=n>>>r&b,u=t&&s<t.array.length;if(!u&&void 0===o)return t;if(r>0){var c=t&&t.array[s],l=Ve(c,e,r-v,n,o,i);return l===c?t:((a=Be(t,e)).array[s]=l,a)}return u&&t.array[s]===o?t:(k(i),a=Be(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Be(t,e){return e&&t&&e===t.ownerID?t:new Ae(t?t.array.slice():[],e)}function Ne(t,e){if(e>=Pe(t._capacity))return t._tail;if(e<1<<t._level+v){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&b],n-=v;return r}}function Me(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new E,o=t._origin,i=t._capacity,a=o+e,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new Ae(c&&c.array.length?[void 0,c]:[],n),l+=1<<(u+=v);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=Pe(i),h=Pe(s);h>=1<<u+v;)c=new Ae(c&&c.array.length?[c]:[],n),u+=v;var d=t._tail,p=h<f?Ne(t,s-1):h>f?new Ae([],n):d;if(d&&h>f&&a<i&&d.array.length){for(var y=c=Be(c,n),g=u;g>v;g-=v){var m=f>>>g&b;y=y.array[m]=Be(y.array[m],n)}y.array[f>>>v&b]=d}if(s<i&&(p=p&&p.removeAfter(n,0,s)),a>=h)a-=h,s-=h,u=v,c=null,p=p&&p.removeBefore(n,0,a);else if(a>o||h<f){for(l=0;c;){var _=a>>>u&b;if(_!==h>>>u&b)break;_&&(l+=(1<<u)*_),u-=v,c=c.array[_]}c&&a>o&&(c=c.removeBefore(n,u,a-l)),c&&h<f&&(c=c.removeAfter(n,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=p,t.__hash=void 0,t.__altered=!0,t):Ue(a,s,u,c,p)}function De(t,e,r){for(var n=[],i=0,s=0;s<r.length;s++){var u=r[s],c=o(u);c.size>i&&(i=c.size),a(u)||(c=c.map((function(t){return dt(t)}))),n.push(c)}return i>t.size&&(t=t.setSize(i)),ye(t,e,n)}function Pe(t){return t<g?0:t-1>>>v<<v}function qe(t){return null==t?Ke():He(t)?t:Ke().withMutations((function(e){var r=n(t);Ht(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}function He(t){return Kt(t)&&l(t)}function Fe(t,e,r,n){var o=Object.create(qe.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=r,o.__hash=n,o}function Ke(){return Re||(Re=Fe(oe(),ze()))}function Ze(t,e,r){var n,o,i=t._map,a=t._list,s=i.get(e),u=void 0!==s;if(r===m){if(!u)return t;a.size>=g&&a.size>=2*i.size?(n=(o=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(n.__ownerID=o.__ownerID=t.__ownerID)):(n=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(r===a.get(s)[1])return t;n=i,o=a.set(s,[e,r])}else n=i.set(e,a.size),o=a.set(a.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=o,t.__hash=void 0,t):Fe(n,o)}function We(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Je(t){this._iter=t,this.size=t.size}function Ge(t){this._iter=t,this.size=t.size}function Ye(t){this._iter=t,this.size=t.size}function $e(t){var e=br(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=mr,e.__iterateUncached=function(e,r){var n=this;return t.__iterate((function(t,r){return!1!==e(r,t,n)}),r)},e.__iteratorUncached=function(e,r){if(e===L){var n=t.__iterator(e,r);return new M((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===z?U:z,r)},e}function Xe(t,e,r){var n=br(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,o){var i=t.get(n,m);return i===m?o:e.call(r,i,n,t)},n.__iterateUncached=function(n,o){var i=this;return t.__iterate((function(t,o,a){return!1!==n(e.call(r,t,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=t.__iterator(L,o);return new M((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return D(n,s,e.call(r,a[1],s,t),o)}))},n}function Qe(t,e){var r=br(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=$e(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=mr,r.__iterate=function(e,r){var n=this;return t.__iterate((function(t,r){return e(t,r,n)}),!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function tr(t,e,r,n){var o=br(t);return n&&(o.has=function(n){var o=t.get(n,m);return o!==m&&!!e.call(r,o,n,t)},o.get=function(n,o){var i=t.get(n,m);return i!==m&&e.call(r,i,n,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate((function(t,i,u){if(e.call(r,t,i,u))return s++,o(t,n?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(L,i),s=0;return new M((function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(e.call(r,l,c,t))return D(o,n?c:s++,l,i)}}))},o}function er(t,e,r){var n=Ft().asMutable();return t.__iterate((function(o,i){n.update(e.call(r,o,i,t),0,(function(t){return t+1}))})),n.asImmutable()}function rr(t,e,r){var n=s(t),o=(l(t)?qe():Ft()).asMutable();t.__iterate((function(i,a){o.update(e.call(r,i,a,t),(function(t){return(t=t||[]).push(n?[a,i]:i),t}))}));var i=gr(t);return o.map((function(e){return pr(t,i(e))}))}function nr(t,e,r,n){var o=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r===1/0?r=o:r|=0),O(e,r,o))return t;var i=R(e,o),a=C(r,o);if(i!=i||a!=a)return nr(t.toSeq().cacheResult(),e,r,n);var s,u=a-i;u==u&&(s=u<0?0:u);var c=br(t);return c.size=0===s?s:t.size&&s||void 0,!n&&it(t)&&s>=0&&(c.get=function(e,r){return(e=S(this,e))>=0&&e<s?t.get(e+i,r):r}),c.__iterateUncached=function(e,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var a=0,u=!0,c=0;return t.__iterate((function(t,r){if(!u||!(u=a++<i))return c++,!1!==e(t,n?r:c-1,o)&&c!==s})),c},c.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var o=0!==s&&t.__iterator(e,r),a=0,u=0;return new M((function(){for(;a++<i;)o.next();if(++u>s)return P();var t=o.next();return n||e===z?t:D(e,u-1,e===U?void 0:t.value[1],t)}))},c}function or(t,e,r){var n=br(t);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return t.__iterate((function(t,o,s){return e.call(r,t,o,s)&&++a&&n(t,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=t.__iterator(L,o),s=!0;return new M((function(){if(!s)return P();var t=a.next();if(t.done)return t;var o=t.value,u=o[0],c=o[1];return e.call(r,c,u,i)?n===L?t:D(n,u,c,t):(s=!1,P())}))},n}function ir(t,e,r,n){var o=br(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return t.__iterate((function(t,i,c){if(!s||!(s=e.call(r,t,i,c)))return u++,o(t,n?i:u-1,a)})),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(L,i),u=!0,c=0;return new M((function(){var t,i,l;do{if((t=s.next()).done)return n||o===z?t:D(o,c++,o===U?void 0:t.value[1],t);var f=t.value;i=f[0],l=f[1],u&&(u=e.call(r,l,i,a))}while(u);return o===L?t:D(o,i,l,t)}))},o}function ar(t,e){var r=s(t),o=[t].concat(e).map((function(t){return a(t)?r&&(t=n(t)):t=r?st(t):ut(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||r&&s(i)||u(t)&&u(i))return i}var c=new et(o);return r?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),c}function sr(t,e,r){var n=br(t);return n.__iterateUncached=function(n,o){var i=0,s=!1;function u(t,c){var l=this;t.__iterate((function(t,o){return(!e||c<e)&&a(t)?u(t,c+1):!1===n(t,r?o:i++,l)&&(s=!0),!s}),o)}return u(t,0),i},n.__iteratorUncached=function(n,o){var i=t.__iterator(n,o),s=[],u=0;return new M((function(){for(;i;){var t=i.next();if(!1===t.done){var c=t.value;if(n===L&&(c=c[1]),e&&!(s.length<e)||!a(c))return r?t:D(n,u++,c,t);s.push(i),i=c.__iterator(n,o)}else i=s.pop()}return P()}))},n}function ur(t,e,r){var n=gr(t);return t.toSeq().map((function(o,i){return n(e.call(r,o,i,t))})).flatten(!0)}function cr(t,e){var r=br(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return t.__iterate((function(t,n){return(!i||!1!==r(e,i++,o))&&!1!==r(t,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=t.__iterator(z,n),a=0;return new M((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?D(r,a++,e):D(r,a++,o.value,o)}))},r}function lr(t,e,r){e||(e=_r);var n=s(t),o=0,i=t.toSeq().map((function(e,n){return[n,e,o++,r?r(e,n,t):e]})).toArray();return i.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(n?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),n?J(i):u(t)?G(i):Y(i)}function fr(t,e,r){if(e||(e=_r),r){var n=t.toSeq().map((function(e,n){return[e,r(e,n,t)]})).reduce((function(t,r){return hr(e,t[1],r[1])?r:t}));return n&&n[0]}return t.reduce((function(t,r){return hr(e,t,r)?r:t}))}function hr(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function dr(t,e,n){var o=br(t);return o.size=new et(n).map((function(t){return t.size})).min(),o.__iterate=function(t,e){for(var r,n=this.__iterator(z,e),o=0;!(r=n.next()).done&&!1!==t(r.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=n.map((function(t){return t=r(t),F(o?t.reverse():t)})),a=0,s=!1;return new M((function(){var r;return s||(r=i.map((function(t){return t.next()})),s=r.some((function(t){return t.done}))),s?P():D(t,a++,e.apply(null,r.map((function(t){return t.value}))))}))},o}function pr(t,e){return it(t)?e:t.constructor(e)}function yr(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function vr(t){return Ht(t.size),x(t)}function gr(t){return s(t)?n:u(t)?o:i}function br(t){return Object.create((s(t)?J:u(t)?G:Y).prototype)}function mr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function _r(t,e){return t>e?1:t<e?-1:0}function wr(t){var e=F(t);if(!e){if(!Z(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(r(t))}return e}function Ir(t,e){var r,n=function(i){if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var a=Object.keys(t);xr(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=Ft(i)},o=n.prototype=Object.create(kr);return o.constructor=n,n}e(qe,Ft),qe.of=function(){return this(arguments)},qe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qe.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ke()},qe.prototype.set=function(t,e){return Ze(this,t,e)},qe.prototype.remove=function(t){return Ze(this,t,m)},qe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qe.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},qe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?Fe(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},qe.isOrderedMap=He,qe.prototype[p]=!0,qe.prototype[y]=qe.prototype.remove,e(We,J),We.prototype.get=function(t,e){return this._iter.get(t,e)},We.prototype.has=function(t){return this._iter.has(t)},We.prototype.valueSeq=function(){return this._iter.valueSeq()},We.prototype.reverse=function(){var t=this,e=Qe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},We.prototype.map=function(t,e){var r=this,n=Xe(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},We.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?vr(this):0,function(o){return t(o,e?--r:r++,n)}),e)},We.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(z,e),n=e?vr(this):0;return new M((function(){var o=r.next();return o.done?o:D(t,e?--n:n++,o.value,o)}))},We.prototype[p]=!0,e(Je,G),Je.prototype.includes=function(t){return this._iter.includes(t)},Je.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate((function(e){return t(e,n++,r)}),e)},Je.prototype.__iterator=function(t,e){var r=this._iter.__iterator(z,e),n=0;return new M((function(){var e=r.next();return e.done?e:D(t,n++,e.value,e)}))},e(Ge,Y),Ge.prototype.has=function(t){return this._iter.includes(t)},Ge.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},Ge.prototype.__iterator=function(t,e){var r=this._iter.__iterator(z,e);return new M((function(){var e=r.next();return e.done?e:D(t,e.value,e.value,e)}))},e(Ye,J),Ye.prototype.entrySeq=function(){return this._iter.toSeq()},Ye.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){yr(e);var n=a(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}}),e)},Ye.prototype.__iterator=function(t,e){var r=this._iter.__iterator(z,e);return new M((function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){yr(n);var o=a(n);return D(t,o?n.get(0):n[0],o?n.get(1):n[1],e)}}}))},Je.prototype.cacheResult=We.prototype.cacheResult=Ge.prototype.cacheResult=Ye.prototype.cacheResult=mr,e(Ir,kt),Ir.prototype.toString=function(){return this.__toString(jr(this)+" {","}")},Ir.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Ir.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},Ir.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Er(this,oe()))},Ir.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+jr(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Er(this,r)},Ir.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Er(this,e)},Ir.prototype.wasAltered=function(){return this._map.wasAltered()},Ir.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterator(t,e)},Ir.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map((function(t,e){return r.get(e)})).__iterate(t,e)},Ir.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Er(this,e,t):(this.__ownerID=t,this._map=e,this)};var kr=Ir.prototype;function Er(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function jr(t){return t._name||t.constructor.name||"Record"}function xr(t,e){try{e.forEach(Sr.bind(void 0,t))}catch(t){}}function Sr(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){_t(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ar(t){return null==t?Lr():Or(t)&&!l(t)?t:Lr().withMutations((function(e){var r=i(t);Ht(r.size),r.forEach((function(t){return e.add(t)}))}))}function Or(t){return!(!t||!t[Cr])}kr[y]=kr.remove,kr.deleteIn=kr.removeIn=Jt.removeIn,kr.merge=Jt.merge,kr.mergeWith=Jt.mergeWith,kr.mergeIn=Jt.mergeIn,kr.mergeDeep=Jt.mergeDeep,kr.mergeDeepWith=Jt.mergeDeepWith,kr.mergeDeepIn=Jt.mergeDeepIn,kr.setIn=Jt.setIn,kr.update=Jt.update,kr.updateIn=Jt.updateIn,kr.withMutations=Jt.withMutations,kr.asMutable=Jt.asMutable,kr.asImmutable=Jt.asImmutable,e(Ar,jt),Ar.of=function(){return this(arguments)},Ar.fromKeys=function(t){return this(n(t).keySeq())},Ar.prototype.toString=function(){return this.__toString("Set {","}")},Ar.prototype.has=function(t){return this._map.has(t)},Ar.prototype.add=function(t){return Ur(this,this._map.set(t,!0))},Ar.prototype.remove=function(t){return Ur(this,this._map.remove(t))},Ar.prototype.clear=function(){return Ur(this,this._map.clear())},Ar.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var r=0;r<e.length;r++)i(e[r]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},Ar.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.every((function(t){return t.includes(r)}))||t.remove(r)}))}))},Ar.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var r=this;return this.withMutations((function(t){r.forEach((function(r){e.some((function(t){return t.includes(r)}))&&t.remove(r)}))}))},Ar.prototype.merge=function(){return this.union.apply(this,arguments)},Ar.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},Ar.prototype.sort=function(t){return Vr(lr(this,t))},Ar.prototype.sortBy=function(t,e){return Vr(lr(this,e,t))},Ar.prototype.wasAltered=function(){return this._map.wasAltered()},Ar.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e,n){return t(n,n,r)}),e)},Ar.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},Ar.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ar.isSet=Or;var Rr,Cr="@@__IMMUTABLE_SET__@@",Tr=Ar.prototype;function Ur(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function zr(t,e){var r=Object.create(Tr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Lr(){return Rr||(Rr=zr(oe()))}function Vr(t){return null==t?Pr():Br(t)?t:Pr().withMutations((function(e){var r=i(t);Ht(r.size),r.forEach((function(t){return e.add(t)}))}))}function Br(t){return Or(t)&&l(t)}Tr[Cr]=!0,Tr[y]=Tr.remove,Tr.mergeDeep=Tr.merge,Tr.mergeDeepWith=Tr.mergeWith,Tr.withMutations=Jt.withMutations,Tr.asMutable=Jt.asMutable,Tr.asImmutable=Jt.asImmutable,Tr.__empty=Lr,Tr.__make=zr,e(Vr,Ar),Vr.of=function(){return this(arguments)},Vr.fromKeys=function(t){return this(n(t).keySeq())},Vr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Vr.isOrderedSet=Br;var Nr,Mr=Vr.prototype;function Dr(t,e){var r=Object.create(Mr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Pr(){return Nr||(Nr=Dr(Ke()))}function qr(t){return null==t?Jr():Hr(t)?t:Jr().unshiftAll(t)}function Hr(t){return!(!t||!t[Kr])}Mr[p]=!0,Mr.__empty=Pr,Mr.__make=Dr,e(qr,Et),qr.of=function(){return this(arguments)},qr.prototype.toString=function(){return this.__toString("Stack [","]")},qr.prototype.get=function(t,e){var r=this._head;for(t=S(this,t);r&&t--;)r=r.next;return r?r.value:e},qr.prototype.peek=function(){return this._head&&this._head.value},qr.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Wr(t,e)},qr.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;Ht(t.size);var e=this.size,r=this._head;return t.reverse().forEach((function(t){e++,r={value:t,next:r}})),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Wr(e,r)},qr.prototype.pop=function(){return this.slice(1)},qr.prototype.unshift=function(){return this.push.apply(this,arguments)},qr.prototype.unshiftAll=function(t){return this.pushAll(t)},qr.prototype.shift=function(){return this.pop.apply(this,arguments)},qr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jr()},qr.prototype.slice=function(t,e){if(O(t,e,this.size))return this;var r=R(t,this.size);if(C(e,this.size)!==this.size)return Et.prototype.slice.call(this,t,e);for(var n=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=n,this._head=o,this.__hash=void 0,this.__altered=!0,this):Wr(n,o)},qr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Wr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},qr.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},qr.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new M((function(){if(n){var e=n.value;return n=n.next,D(t,r++,e)}return P()}))},qr.isStack=Hr;var Fr,Kr="@@__IMMUTABLE_STACK__@@",Zr=qr.prototype;function Wr(t,e,r,n){var o=Object.create(Zr);return o.size=t,o._head=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Jr(){return Fr||(Fr=Wr(0))}function Gr(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}Zr[Kr]=!0,Zr.withMutations=Jt.withMutations,Zr.asMutable=Jt.asMutable,Zr.asImmutable=Jt.asImmutable,Zr.wasAltered=Jt.wasAltered,r.Iterator=M,Gr(r,{toArray:function(){Ht(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,r){t[r]=e})),t},toIndexedSeq:function(){return new Je(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new We(this,!0)},toMap:function(){return Ft(this.toKeyedSeq())},toObject:function(){Ht(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t},toOrderedMap:function(){return qe(this.toKeyedSeq())},toOrderedSet:function(){return Vr(s(this)?this.valueSeq():this)},toSet:function(){return Ar(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ge(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return qr(s(this)?this.valueSeq():this)},toList:function(){return Ee(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return pr(this,ar(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return gt(e,t)}))},entries:function(){return this.__iterator(L)},every:function(t,e){Ht(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!t.call(e,n,o,i))return r=!1,!1})),r},filter:function(t,e){return pr(this,tr(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return Ht(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ht(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(U)},map:function(t,e){return pr(this,Xe(this,t,e))},reduce:function(t,e,r){var n,o;return Ht(this.size),arguments.length<2?o=!0:n=e,this.__iterate((function(e,i,a){o?(o=!1,n=e):n=t.call(r,n,e,i,a)})),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return pr(this,Qe(this,!0))},slice:function(t,e){return pr(this,nr(this,t,e,!0))},some:function(t,e){return!this.every(tn(t),e)},sort:function(t){return pr(this,lr(this,t))},values:function(){return this.__iterator(z)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return x(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return er(this,t,e)},equals:function(t){return bt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(Qr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(tn(t),e)},findEntry:function(t,e,r){var n=r;return this.__iterate((function(r,o,i){if(t.call(e,r,o,i))return n=[o,r],!1})),n},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(A)},flatMap:function(t,e){return pr(this,ur(this,t,e))},flatten:function(t){return pr(this,sr(this,t,!0))},fromEntrySeq:function(){return new Ye(this)},get:function(t,e){return this.find((function(e,r){return gt(r,t)}),void 0,e)},getIn:function(t,e){for(var r,n=this,o=wr(t);!(r=o.next()).done;){var i=r.value;if((n=n&&n.get?n.get(i,m):m)===m)return e}return n},groupBy:function(t,e){return rr(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return gt(e,t)}))},keySeq:function(){return this.toSeq().map(Xr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return fr(this,t)},maxBy:function(t,e){return fr(this,e,t)},min:function(t){return fr(this,t?en(t):on)},minBy:function(t,e){return fr(this,e?en(e):on,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return pr(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return pr(this,ir(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(tn(t),e)},sortBy:function(t,e){return pr(this,lr(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return pr(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return pr(this,or(this,t,e))},takeUntil:function(t,e){return this.takeWhile(tn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=an(this))}});var Yr=r.prototype;Yr[f]=!0,Yr[N]=Yr.values,Yr.__toJS=Yr.toArray,Yr.__toStringMapper=rn,Yr.inspect=Yr.toSource=function(){return this.toString()},Yr.chain=Yr.flatMap,Yr.contains=Yr.includes,Gr(n,{flip:function(){return pr(this,$e(this))},mapEntries:function(t,e){var r=this,n=0;return pr(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return pr(this,this.toSeq().flip().map((function(n,o){return t.call(e,n,o,r)})).flip())}});var $r=n.prototype;function Xr(t,e){return e}function Qr(t,e){return[e,t]}function tn(t){return function(){return!t.apply(this,arguments)}}function en(t){return function(){return-t.apply(this,arguments)}}function rn(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return j(arguments)}function on(t,e){return t<e?1:t>e?-1:0}function an(t){if(t.size===1/0)return 0;var e=l(t),r=s(t),n=e?1:0;return sn(t.__iterate(r?e?function(t,e){n=31*n+un(At(t),At(e))|0}:function(t,e){n=n+un(At(t),At(e))|0}:e?function(t){n=31*n+At(t)|0}:function(t){n=n+At(t)|0}),n)}function sn(t,e){return e=xt(e,3432918353),e=xt(e<<15|e>>>-15,461845907),e=xt(e<<13|e>>>-13,5),e=xt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=St((e=xt(e^e>>>13,3266489909))^e>>>16)}function un(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return $r[h]=!0,$r[N]=Yr.entries,$r.__toJS=Yr.toObject,$r.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rn(t)},Gr(o,{toKeyedSeq:function(){return new We(this,!1)},filter:function(t,e){return pr(this,tr(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return pr(this,Qe(this,!1))},slice:function(t,e){return pr(this,nr(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=R(t,t<0?this.count():this.size);var n=this.slice(0,t);return pr(this,1===r?n:n.concat(j(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return pr(this,sr(this,t,!1))},get:function(t,e){return(t=S(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=S(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return pr(this,cr(this,t))},interleave:function(){var t=[this].concat(j(arguments)),e=dr(this.toSeq(),G.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),pr(this,r)},keySeq:function(){return wt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return pr(this,ir(this,t,e,!1))},zip:function(){return pr(this,dr(this,nn,[this].concat(j(arguments))))},zipWith:function(t){var e=j(arguments);return e[0]=this,pr(this,dr(this,t,e))}}),o.prototype[d]=!0,o.prototype[p]=!0,Gr(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Yr.includes,i.prototype.contains=i.prototype.includes,Gr(J,n.prototype),Gr(G,o.prototype),Gr(Y,i.prototype),Gr(kt,n.prototype),Gr(Et,o.prototype),Gr(jt,i.prototype),{Iterable:r,Seq:W,Collection:It,Map:Ft,OrderedMap:qe,List:Ee,Stack:qr,Set:Ar,OrderedSet:Vr,Record:Ir,Range:wt,Repeat:mt,is:gt,fromJS:dt}}()},"./node_modules/pako/index.js":
/*!************************************!*\
  !*** ./node_modules/pako/index.js ***!
  \************************************/(t,e,r)=>{"use strict";const{Deflate:n,deflate:o,deflateRaw:i,gzip:a}=r(/*! ./lib/deflate */"./node_modules/pako/lib/deflate.js"),{Inflate:s,inflate:u,inflateRaw:c,ungzip:l}=r(/*! ./lib/inflate */"./node_modules/pako/lib/inflate.js"),f=r(/*! ./lib/zlib/constants */"./node_modules/pako/lib/zlib/constants.js");t.exports.Deflate=n,t.exports.deflate=o,t.exports.deflateRaw=i,t.exports.gzip=a,t.exports.Inflate=s,t.exports.inflate=u,t.exports.inflateRaw=c,t.exports.ungzip=l,t.exports.constants=f},"./node_modules/pako/lib/deflate.js":
/*!******************************************!*\
  !*** ./node_modules/pako/lib/deflate.js ***!
  \******************************************/(t,e,r)=>{"use strict";const n=r(/*! ./zlib/deflate */"./node_modules/pako/lib/zlib/deflate.js"),o=r(/*! ./utils/common */"./node_modules/pako/lib/utils/common.js"),i=r(/*! ./utils/strings */"./node_modules/pako/lib/utils/strings.js"),a=r(/*! ./zlib/messages */"./node_modules/pako/lib/zlib/messages.js"),s=r(/*! ./zlib/zstream */"./node_modules/pako/lib/zlib/zstream.js"),u=Object.prototype.toString,{Z_NO_FLUSH:c,Z_SYNC_FLUSH:l,Z_FULL_FLUSH:f,Z_FINISH:h,Z_OK:d,Z_STREAM_END:p,Z_DEFAULT_COMPRESSION:y,Z_DEFAULT_STRATEGY:v,Z_DEFLATED:g}=r(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js");function b(t){this.options=o.assign({level:y,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:v},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==d)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?i.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=n.deflateSetDictionary(this.strm,t),r!==d)throw new Error(a[r]);this._dict_set=!0}}function m(t,e){const r=new b(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}b.prototype.push=function(t,e){const r=this.strm,o=this.options.chunkSize;let a,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?h:c,"string"==typeof t?r.input=i.string2buf(t):"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(s===l||s===f)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(a=n.deflate(r,s),a===p)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=n.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===d;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===d&&(this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Deflate=b,t.exports.deflate=m,t.exports.deflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},t.exports.gzip=function(t,e){return(e=e||{}).gzip=!0,m(t,e)},t.exports.constants=r(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js")},"./node_modules/pako/lib/inflate.js":
/*!******************************************!*\
  !*** ./node_modules/pako/lib/inflate.js ***!
  \******************************************/(t,e,r)=>{"use strict";const n=r(/*! ./zlib/inflate */"./node_modules/pako/lib/zlib/inflate.js"),o=r(/*! ./utils/common */"./node_modules/pako/lib/utils/common.js"),i=r(/*! ./utils/strings */"./node_modules/pako/lib/utils/strings.js"),a=r(/*! ./zlib/messages */"./node_modules/pako/lib/zlib/messages.js"),s=r(/*! ./zlib/zstream */"./node_modules/pako/lib/zlib/zstream.js"),u=r(/*! ./zlib/gzheader */"./node_modules/pako/lib/zlib/gzheader.js"),c=Object.prototype.toString,{Z_NO_FLUSH:l,Z_FINISH:f,Z_OK:h,Z_STREAM_END:d,Z_NEED_DICT:p,Z_STREAM_ERROR:y,Z_DATA_ERROR:v,Z_MEM_ERROR:g}=r(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js");function b(t){this.options=o.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let r=n.inflateInit2(this.strm,e.windowBits);if(r!==h)throw new Error(a[r]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=i.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary),r!==h)))throw new Error(a[r])}function m(t,e){const r=new b(e);if(r.push(t),r.err)throw r.msg||a[r.err];return r.result}b.prototype.push=function(t,e){const r=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let s,u,b;if(this.ended)return!1;for(u=e===~~e?e:!0===e?f:l,"[object ArrayBuffer]"===c.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),s=n.inflate(r,u),s===p&&a&&(s=n.inflateSetDictionary(r,a),s===h?s=n.inflate(r,u):s===v&&(s=p));r.avail_in>0&&s===d&&r.state.wrap>0&&0!==t[r.next_in];)n.inflateReset(r),s=n.inflate(r,u);switch(s){case y:case v:case p:case g:return this.onEnd(s),this.ended=!0,!1}if(b=r.avail_out,r.next_out&&(0===r.avail_out||s===d))if("string"===this.options.to){let t=i.utf8border(r.output,r.next_out),e=r.next_out-t,n=i.buf2string(r.output,t);r.next_out=e,r.avail_out=o-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==h||0!==b){if(s===d)return s=n.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Inflate=b,t.exports.inflate=m,t.exports.inflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},t.exports.ungzip=m,t.exports.constants=r(/*! ./zlib/constants */"./node_modules/pako/lib/zlib/constants.js")},"./node_modules/pako/lib/utils/common.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/utils/common.js ***!
  \***********************************************/t=>{"use strict";const e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);t.exports.assign=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const n=r.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const r in n)e(n,r)&&(t[r]=n[r])}}return t},t.exports.flattenChunks=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,o=t.length;e<o;e++){let o=t[e];r.set(o,n),n+=o.length}return r}},"./node_modules/pako/lib/utils/strings.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/utils/strings.js ***!
  \************************************************/t=>{"use strict";let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){e=!1}const r=new Uint8Array(256);for(let t=0;t<256;t++)r[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;r[254]=r[254]=1,t.exports.string2buf=t=>{let e,r,n,o,i,a=t.length,s=0;for(o=0;o<a;o++)r=t.charCodeAt(o),55296==(64512&r)&&o+1<a&&(n=t.charCodeAt(o+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),i=0,o=0;i<s;o++)r=t.charCodeAt(o),55296==(64512&r)&&o+1<a&&(n=t.charCodeAt(o+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|63&r):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|63&r):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|63&r);return e},t.exports.buf2string=(t,n)=>{let o,i;const a=n||t.length,s=new Array(2*a);for(i=0,o=0;o<a;){let e=t[o++];if(e<128){s[i++]=e;continue}let n=r[e];if(n>4)s[i++]=65533,o+=n-1;else{for(e&=2===n?31:3===n?15:7;n>1&&o<a;)e=e<<6|63&t[o++],n--;n>1?s[i++]=65533:e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}}return((t,r)=>{if(r<65534&&t.subarray&&e)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let n="";for(let e=0;e<r;e++)n+=String.fromCharCode(t[e]);return n})(s,i)},t.exports.utf8border=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+r[t[n]]>e?n:e}},"./node_modules/pako/lib/zlib/adler32.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/adler32.js ***!
  \***********************************************/t=>{"use strict";t.exports=(t,e,r,n)=>{let o=65535&t|0,i=t>>>16&65535|0,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{o=o+e[n++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},"./node_modules/pako/lib/zlib/constants.js":
/*!*************************************************!*\
  !*** ./node_modules/pako/lib/zlib/constants.js ***!
  \*************************************************/t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/pako/lib/zlib/crc32.js":
/*!*********************************************!*\
  !*** ./node_modules/pako/lib/zlib/crc32.js ***!
  \*********************************************/t=>{"use strict";const e=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());t.exports=(t,r,n,o)=>{const i=e,a=o+n;t^=-1;for(let e=o;e<a;e++)t=t>>>8^i[255&(t^r[e])];return-1^t}},"./node_modules/pako/lib/zlib/deflate.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/deflate.js ***!
  \***********************************************/(t,e,r)=>{"use strict";const{_tr_init:n,_tr_stored_block:o,_tr_flush_block:i,_tr_tally:a,_tr_align:s}=r(/*! ./trees */"./node_modules/pako/lib/zlib/trees.js"),u=r(/*! ./adler32 */"./node_modules/pako/lib/zlib/adler32.js"),c=r(/*! ./crc32 */"./node_modules/pako/lib/zlib/crc32.js"),l=r(/*! ./messages */"./node_modules/pako/lib/zlib/messages.js"),{Z_NO_FLUSH:f,Z_PARTIAL_FLUSH:h,Z_FULL_FLUSH:d,Z_FINISH:p,Z_BLOCK:y,Z_OK:v,Z_STREAM_END:g,Z_STREAM_ERROR:b,Z_DATA_ERROR:m,Z_BUF_ERROR:_,Z_DEFAULT_COMPRESSION:w,Z_FILTERED:I,Z_HUFFMAN_ONLY:k,Z_RLE:E,Z_FIXED:j,Z_DEFAULT_STRATEGY:x,Z_UNKNOWN:S,Z_DEFLATED:A}=r(/*! ./constants */"./node_modules/pako/lib/zlib/constants.js"),O=258,R=262,C=103,T=113,U=666,z=(t,e)=>(t.msg=l[e],e),L=t=>(t<<1)-(t>4?9:0),V=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let B=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const N=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},M=(t,e)=>{i(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,N(t.strm)},D=(t,e)=>{t.pending_buf[t.pending++]=e},P=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},q=(t,e,r,n)=>{let o=t.avail_in;return o>n&&(o=n),0===o?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),r),1===t.state.wrap?t.adler=u(t.adler,e,o,r):2===t.state.wrap&&(t.adler=c(t.adler,e,o,r)),t.next_in+=o,t.total_in+=o,o)},H=(t,e)=>{let r,n,o=t.max_chain_length,i=t.strstart,a=t.prev_length,s=t.nice_match;const u=t.strstart>t.w_size-R?t.strstart-(t.w_size-R):0,c=t.window,l=t.w_mask,f=t.prev,h=t.strstart+O;let d=c[i+a-1],p=c[i+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,c[r+a]===p&&c[r+a-1]===d&&c[r]===c[i]&&c[++r]===c[i+1]){i+=2,r++;do{}while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<h);if(n=O-(h-i),i=h-O,n>a){if(t.match_start=e,a=n,n>=s)break;d=c[i+a-1],p=c[i+a]}}}while((e=f[e&l])>u&&0!=--o);return a<=t.lookahead?a:t.lookahead},F=t=>{const e=t.w_size;let r,n,o,i,a;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-R)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{o=t.head[--r],t.head[r]=o>=e?o-e:0}while(--n);n=e,r=n;do{o=t.prev[--r],t.prev[r]=o>=e?o-e:0}while(--n);i+=e}if(0===t.strm.avail_in)break;if(n=q(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=B(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=B(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<R&&0!==t.strm.avail_in)},K=(t,e)=>{let r,n;for(;;){if(t.lookahead<R){if(F(t),t.lookahead<R&&e===f)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=B(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-R&&(t.match_length=H(t,r)),t.match_length>=3)if(n=a(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=B(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=B(t,t.ins_h,t.window[t.strstart+1]);else n=a(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(M(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===p?(M(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?1:2},Z=(t,e)=>{let r,n,o;for(;;){if(t.lookahead<R){if(F(t),t.lookahead<R&&e===f)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=B(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-R&&(t.match_length=H(t,r),t.match_length<=5&&(t.strategy===I||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-3,n=a(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=B(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(M(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=a(t,0,t.window[t.strstart-1]),n&&M(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=a(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===p?(M(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?1:2};function W(t,e,r,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=o}const J=[new W(0,0,0,0,((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(F(t),0===t.lookahead&&e===f)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,M(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-R&&(M(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(M(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(M(t,!1),t.strm.avail_out),1)})),new W(4,4,8,4,K),new W(4,5,16,8,K),new W(4,6,32,32,K),new W(4,4,16,16,Z),new W(8,16,32,32,Z),new W(8,16,128,128,Z),new W(8,32,128,256,Z),new W(32,128,258,1024,Z),new W(32,258,258,4096,Z)];function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Y=t=>{if(!t||!t.state)return z(t,b);t.total_in=t.total_out=0,t.data_type=S;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:T,t.adler=2===e.wrap?0:1,e.last_flush=f,n(e),v},$=t=>{const e=Y(t);var r;return e===v&&((r=t.state).window_size=2*r.w_size,V(r.head),r.max_lazy_match=J[r.level].max_lazy,r.good_match=J[r.level].good_length,r.nice_match=J[r.level].nice_length,r.max_chain_length=J[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},X=(t,e,r,n,o,i)=>{if(!t)return b;let a=1;if(e===w&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||r!==A||n<8||n>15||e<0||e>9||i<0||i>j)return z(t,b);8===n&&(n=9);const s=new G;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=i,s.method=r,$(t)};t.exports.deflateInit=(t,e)=>X(t,e,A,15,8,x),t.exports.deflateInit2=X,t.exports.deflateReset=$,t.exports.deflateResetKeep=Y,t.exports.deflateSetHeader=(t,e)=>t&&t.state?2!==t.state.wrap?b:(t.state.gzhead=e,v):b,t.exports.deflate=(t,e)=>{let r,n;if(!t||!t.state||e>y||e<0)return t?z(t,b):b;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||i.status===U&&e!==p)return z(t,0===t.avail_out?_:b);i.strm=t;const u=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,D(i,31),D(i,139),D(i,8),i.gzhead?(D(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),D(i,255&i.gzhead.time),D(i,i.gzhead.time>>8&255),D(i,i.gzhead.time>>16&255),D(i,i.gzhead.time>>24&255),D(i,9===i.level?2:i.strategy>=k||i.level<2?4:0),D(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(D(i,255&i.gzhead.extra.length),D(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=c(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(D(i,0),D(i,0),D(i,0),D(i,0),D(i,0),D(i,9===i.level?2:i.strategy>=k||i.level<2?4:0),D(i,3),i.status=T);else{let e=A+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=k||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=r<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=T,P(i,e),0!==i.strstart&&(P(i,t.adler>>>16),P(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=c(t.adler,i.pending_buf,i.pending-r,r)),N(t),r=i.pending,i.pending!==i.pending_buf_size));)D(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=c(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=c(t.adler,i.pending_buf,i.pending-r,r)),N(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,D(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=c(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=c(t.adler,i.pending_buf,i.pending-r,r)),N(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,D(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=c(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=C)}else i.status=C;if(i.status===C&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&N(t),i.pending+2<=i.pending_buf_size&&(D(i,255&t.adler),D(i,t.adler>>8&255),t.adler=0,i.status=T)):i.status=T),0!==i.pending){if(N(t),0===t.avail_out)return i.last_flush=-1,v}else if(0===t.avail_in&&L(e)<=L(u)&&e!==p)return z(t,_);if(i.status===U&&0!==t.avail_in)return z(t,_);if(0!==t.avail_in||0!==i.lookahead||e!==f&&i.status!==U){let r=i.strategy===k?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(F(t),0===t.lookahead)){if(e===f)return 1;break}if(t.match_length=0,r=a(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(M(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(M(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===E?((t,e)=>{let r,n,o,i;const s=t.window;for(;;){if(t.lookahead<=O){if(F(t),t.lookahead<=O&&e===f)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(o=t.strstart-1,n=s[o],n===s[++o]&&n===s[++o]&&n===s[++o])){i=t.strstart+O;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<i);t.match_length=O-(i-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=a(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(M(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(M(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?1:2})(i,e):J[i.level].func(i,e);if(3!==r&&4!==r||(i.status=U),1===r||3===r)return 0===t.avail_out&&(i.last_flush=-1),v;if(2===r&&(e===h?s(i):e!==y&&(o(i,0,0,!1),e===d&&(V(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),N(t),0===t.avail_out))return i.last_flush=-1,v}return e!==p?v:i.wrap<=0?g:(2===i.wrap?(D(i,255&t.adler),D(i,t.adler>>8&255),D(i,t.adler>>16&255),D(i,t.adler>>24&255),D(i,255&t.total_in),D(i,t.total_in>>8&255),D(i,t.total_in>>16&255),D(i,t.total_in>>24&255)):(P(i,t.adler>>>16),P(i,65535&t.adler)),N(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?v:g)},t.exports.deflateEnd=t=>{if(!t||!t.state)return b;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==C&&e!==T&&e!==U?z(t,b):(t.state=null,e===T?z(t,m):v)},t.exports.deflateSetDictionary=(t,e)=>{let r=e.length;if(!t||!t.state)return b;const n=t.state,o=n.wrap;if(2===o||1===o&&42!==n.status||n.lookahead)return b;if(1===o&&(t.adler=u(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===o&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const i=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,F(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=B(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,F(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=i,n.wrap=o,v},t.exports.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/gzheader.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/zlib/gzheader.js ***!
  \************************************************/t=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"./node_modules/pako/lib/zlib/inffast.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/inffast.js ***!
  \***********************************************/t=>{"use strict";t.exports=function(t,e){let r,n,o,i,a,s,u,c,l,f,h,d,p,y,v,g,b,m,_,w,I,k,E,j;const x=t.state;r=t.next_in,E=t.input,n=r+(t.avail_in-5),o=t.next_out,j=t.output,i=o-(e-t.avail_out),a=o+(t.avail_out-257),s=x.dmax,u=x.wsize,c=x.whave,l=x.wnext,f=x.window,h=x.hold,d=x.bits,p=x.lencode,y=x.distcode,v=(1<<x.lenbits)-1,g=(1<<x.distbits)-1;t:do{d<15&&(h+=E[r++]<<d,d+=8,h+=E[r++]<<d,d+=8),b=p[h&v];e:for(;;){if(m=b>>>24,h>>>=m,d-=m,m=b>>>16&255,0===m)j[o++]=65535&b;else{if(!(16&m)){if(0==(64&m)){b=p[(65535&b)+(h&(1<<m)-1)];continue e}if(32&m){x.mode=12;break t}t.msg="invalid literal/length code",x.mode=30;break t}_=65535&b,m&=15,m&&(d<m&&(h+=E[r++]<<d,d+=8),_+=h&(1<<m)-1,h>>>=m,d-=m),d<15&&(h+=E[r++]<<d,d+=8,h+=E[r++]<<d,d+=8),b=y[h&g];r:for(;;){if(m=b>>>24,h>>>=m,d-=m,m=b>>>16&255,!(16&m)){if(0==(64&m)){b=y[(65535&b)+(h&(1<<m)-1)];continue r}t.msg="invalid distance code",x.mode=30;break t}if(w=65535&b,m&=15,d<m&&(h+=E[r++]<<d,d+=8,d<m&&(h+=E[r++]<<d,d+=8)),w+=h&(1<<m)-1,w>s){t.msg="invalid distance too far back",x.mode=30;break t}if(h>>>=m,d-=m,m=o-i,w>m){if(m=w-m,m>c&&x.sane){t.msg="invalid distance too far back",x.mode=30;break t}if(I=0,k=f,0===l){if(I+=u-m,m<_){_-=m;do{j[o++]=f[I++]}while(--m);I=o-w,k=j}}else if(l<m){if(I+=u+l-m,m-=l,m<_){_-=m;do{j[o++]=f[I++]}while(--m);if(I=0,l<_){m=l,_-=m;do{j[o++]=f[I++]}while(--m);I=o-w,k=j}}}else if(I+=l-m,m<_){_-=m;do{j[o++]=f[I++]}while(--m);I=o-w,k=j}for(;_>2;)j[o++]=k[I++],j[o++]=k[I++],j[o++]=k[I++],_-=3;_&&(j[o++]=k[I++],_>1&&(j[o++]=k[I++]))}else{I=o-w;do{j[o++]=j[I++],j[o++]=j[I++],j[o++]=j[I++],_-=3}while(_>2);_&&(j[o++]=j[I++],_>1&&(j[o++]=j[I++]))}break}}break}}while(r<n&&o<a);_=d>>3,r-=_,d-=_<<3,h&=(1<<d)-1,t.next_in=r,t.next_out=o,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=o<a?a-o+257:257-(o-a),x.hold=h,x.bits=d}},"./node_modules/pako/lib/zlib/inflate.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/inflate.js ***!
  \***********************************************/(t,e,r)=>{"use strict";const n=r(/*! ./adler32 */"./node_modules/pako/lib/zlib/adler32.js"),o=r(/*! ./crc32 */"./node_modules/pako/lib/zlib/crc32.js"),i=r(/*! ./inffast */"./node_modules/pako/lib/zlib/inffast.js"),a=r(/*! ./inftrees */"./node_modules/pako/lib/zlib/inftrees.js"),{Z_FINISH:s,Z_BLOCK:u,Z_TREES:c,Z_OK:l,Z_STREAM_END:f,Z_NEED_DICT:h,Z_STREAM_ERROR:d,Z_DATA_ERROR:p,Z_MEM_ERROR:y,Z_BUF_ERROR:v,Z_DEFLATED:g}=r(/*! ./constants */"./node_modules/pako/lib/zlib/constants.js"),b=12,m=30,_=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const I=t=>{if(!t||!t.state)return d;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,l},k=t=>{if(!t||!t.state)return d;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,I(t)},E=(t,e)=>{let r;if(!t||!t.state)return d;const n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?d:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,k(t))},j=(t,e)=>{if(!t)return d;const r=new w;t.state=r,r.window=null;const n=E(t,e);return n!==l&&(t.state=null),n};let x,S,A=!0;const O=t=>{if(A){x=new Int32Array(512),S=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,S,0,t.work,{bits:5}),A=!1}t.lencode=x,t.lenbits=9,t.distcode=S,t.distbits=5},R=(t,e,r,n)=>{let o;const i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>n&&(o=n),i.window.set(e.subarray(r-n,r-n+o),i.wnext),(n-=o)?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};t.exports.inflateReset=k,t.exports.inflateReset2=E,t.exports.inflateResetKeep=I,t.exports.inflateInit=t=>j(t,15),t.exports.inflateInit2=j,t.exports.inflate=(t,e)=>{let r,w,I,k,E,j,x,S,A,C,T,U,z,L,V,B,N,M,D,P,q,H,F=0;const K=new Uint8Array(4);let Z,W;const J=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return d;r=t.state,r.mode===b&&(r.mode=13),E=t.next_out,I=t.output,x=t.avail_out,k=t.next_in,w=t.input,j=t.avail_in,S=r.hold,A=r.bits,C=j,T=x,H=l;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;A<16;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(2&r.wrap&&35615===S){r.check=0,K[0]=255&S,K[1]=S>>>8&255,r.check=o(r.check,K,2,0),S=0,A=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&S)<<8)+(S>>8))%31){t.msg="incorrect header check",r.mode=m;break}if((15&S)!==g){t.msg="unknown compression method",r.mode=m;break}if(S>>>=4,A-=4,q=8+(15&S),0===r.wbits)r.wbits=q;else if(q>r.wbits){t.msg="invalid window size",r.mode=m;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&S?10:b,S=0,A=0;break;case 2:for(;A<16;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(r.flags=S,(255&r.flags)!==g){t.msg="unknown compression method",r.mode=m;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=m;break}r.head&&(r.head.text=S>>8&1),512&r.flags&&(K[0]=255&S,K[1]=S>>>8&255,r.check=o(r.check,K,2,0)),S=0,A=0,r.mode=3;case 3:for(;A<32;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}r.head&&(r.head.time=S),512&r.flags&&(K[0]=255&S,K[1]=S>>>8&255,K[2]=S>>>16&255,K[3]=S>>>24&255,r.check=o(r.check,K,4,0)),S=0,A=0,r.mode=4;case 4:for(;A<16;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}r.head&&(r.head.xflags=255&S,r.head.os=S>>8),512&r.flags&&(K[0]=255&S,K[1]=S>>>8&255,r.check=o(r.check,K,2,0)),S=0,A=0,r.mode=5;case 5:if(1024&r.flags){for(;A<16;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}r.length=S,r.head&&(r.head.extra_len=S),512&r.flags&&(K[0]=255&S,K[1]=S>>>8&255,r.check=o(r.check,K,2,0)),S=0,A=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(U=r.length,U>j&&(U=j),U&&(r.head&&(q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(w.subarray(k,k+U),q)),512&r.flags&&(r.check=o(r.check,w,U,k)),j-=U,k+=U,r.length-=U),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===j)break t;U=0;do{q=w[k+U++],r.head&&q&&r.length<65536&&(r.head.name+=String.fromCharCode(q))}while(q&&U<j);if(512&r.flags&&(r.check=o(r.check,w,U,k)),j-=U,k+=U,q)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===j)break t;U=0;do{q=w[k+U++],r.head&&q&&r.length<65536&&(r.head.comment+=String.fromCharCode(q))}while(q&&U<j);if(512&r.flags&&(r.check=o(r.check,w,U,k)),j-=U,k+=U,q)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;A<16;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(S!==(65535&r.check)){t.msg="header crc mismatch",r.mode=m;break}S=0,A=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=b;break;case 10:for(;A<32;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}t.adler=r.check=_(S),S=0,A=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=E,t.avail_out=x,t.next_in=k,t.avail_in=j,r.hold=S,r.bits=A,h;t.adler=r.check=1,r.mode=b;case b:if(e===u||e===c)break t;case 13:if(r.last){S>>>=7&A,A-=7&A,r.mode=27;break}for(;A<3;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}switch(r.last=1&S,S>>>=1,A-=1,3&S){case 0:r.mode=14;break;case 1:if(O(r),r.mode=20,e===c){S>>>=2,A-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=m}S>>>=2,A-=2;break;case 14:for(S>>>=7&A,A-=7&A;A<32;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if((65535&S)!=(S>>>16^65535)){t.msg="invalid stored block lengths",r.mode=m;break}if(r.length=65535&S,S=0,A=0,r.mode=15,e===c)break t;case 15:r.mode=16;case 16:if(U=r.length,U){if(U>j&&(U=j),U>x&&(U=x),0===U)break t;I.set(w.subarray(k,k+U),E),j-=U,k+=U,x-=U,E+=U,r.length-=U;break}r.mode=b;break;case 17:for(;A<14;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(r.nlen=257+(31&S),S>>>=5,A-=5,r.ndist=1+(31&S),S>>>=5,A-=5,r.ncode=4+(15&S),S>>>=4,A-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=m;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;A<3;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}r.lens[J[r.have++]]=7&S,S>>>=3,A-=3}for(;r.have<19;)r.lens[J[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Z={bits:r.lenbits},H=a(0,r.lens,0,19,r.lencode,0,r.work,Z),r.lenbits=Z.bits,H){t.msg="invalid code lengths set",r.mode=m;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;F=r.lencode[S&(1<<r.lenbits)-1],V=F>>>24,B=F>>>16&255,N=65535&F,!(V<=A);){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(N<16)S>>>=V,A-=V,r.lens[r.have++]=N;else{if(16===N){for(W=V+2;A<W;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(S>>>=V,A-=V,0===r.have){t.msg="invalid bit length repeat",r.mode=m;break}q=r.lens[r.have-1],U=3+(3&S),S>>>=2,A-=2}else if(17===N){for(W=V+3;A<W;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}S>>>=V,A-=V,q=0,U=3+(7&S),S>>>=3,A-=3}else{for(W=V+7;A<W;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}S>>>=V,A-=V,q=0,U=11+(127&S),S>>>=7,A-=7}if(r.have+U>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=m;break}for(;U--;)r.lens[r.have++]=q}}if(r.mode===m)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=m;break}if(r.lenbits=9,Z={bits:r.lenbits},H=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,Z),r.lenbits=Z.bits,H){t.msg="invalid literal/lengths set",r.mode=m;break}if(r.distbits=6,r.distcode=r.distdyn,Z={bits:r.distbits},H=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Z),r.distbits=Z.bits,H){t.msg="invalid distances set",r.mode=m;break}if(r.mode=20,e===c)break t;case 20:r.mode=21;case 21:if(j>=6&&x>=258){t.next_out=E,t.avail_out=x,t.next_in=k,t.avail_in=j,r.hold=S,r.bits=A,i(t,T),E=t.next_out,I=t.output,x=t.avail_out,k=t.next_in,w=t.input,j=t.avail_in,S=r.hold,A=r.bits,r.mode===b&&(r.back=-1);break}for(r.back=0;F=r.lencode[S&(1<<r.lenbits)-1],V=F>>>24,B=F>>>16&255,N=65535&F,!(V<=A);){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(B&&0==(240&B)){for(M=V,D=B,P=N;F=r.lencode[P+((S&(1<<M+D)-1)>>M)],V=F>>>24,B=F>>>16&255,N=65535&F,!(M+V<=A);){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}S>>>=M,A-=M,r.back+=M}if(S>>>=V,A-=V,r.back+=V,r.length=N,0===B){r.mode=26;break}if(32&B){r.back=-1,r.mode=b;break}if(64&B){t.msg="invalid literal/length code",r.mode=m;break}r.extra=15&B,r.mode=22;case 22:if(r.extra){for(W=r.extra;A<W;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}r.length+=S&(1<<r.extra)-1,S>>>=r.extra,A-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;F=r.distcode[S&(1<<r.distbits)-1],V=F>>>24,B=F>>>16&255,N=65535&F,!(V<=A);){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(0==(240&B)){for(M=V,D=B,P=N;F=r.distcode[P+((S&(1<<M+D)-1)>>M)],V=F>>>24,B=F>>>16&255,N=65535&F,!(M+V<=A);){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}S>>>=M,A-=M,r.back+=M}if(S>>>=V,A-=V,r.back+=V,64&B){t.msg="invalid distance code",r.mode=m;break}r.offset=N,r.extra=15&B,r.mode=24;case 24:if(r.extra){for(W=r.extra;A<W;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}r.offset+=S&(1<<r.extra)-1,S>>>=r.extra,A-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=m;break}r.mode=25;case 25:if(0===x)break t;if(U=T-x,r.offset>U){if(U=r.offset-U,U>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=m;break}U>r.wnext?(U-=r.wnext,z=r.wsize-U):z=r.wnext-U,U>r.length&&(U=r.length),L=r.window}else L=I,z=E-r.offset,U=r.length;U>x&&(U=x),x-=U,r.length-=U;do{I[E++]=L[z++]}while(--U);0===r.length&&(r.mode=21);break;case 26:if(0===x)break t;I[E++]=r.length,x--,r.mode=21;break;case 27:if(r.wrap){for(;A<32;){if(0===j)break t;j--,S|=w[k++]<<A,A+=8}if(T-=x,t.total_out+=T,r.total+=T,T&&(t.adler=r.check=r.flags?o(r.check,I,T,E-T):n(r.check,I,T,E-T)),T=x,(r.flags?S:_(S))!==r.check){t.msg="incorrect data check",r.mode=m;break}S=0,A=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;A<32;){if(0===j)break t;j--,S+=w[k++]<<A,A+=8}if(S!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=m;break}S=0,A=0}r.mode=29;case 29:H=f;break t;case m:H=p;break t;case 31:return y;default:return d}return t.next_out=E,t.avail_out=x,t.next_in=k,t.avail_in=j,r.hold=S,r.bits=A,(r.wsize||T!==t.avail_out&&r.mode<m&&(r.mode<27||e!==s))&&R(t,t.output,t.next_out,T-t.avail_out)?(r.mode=31,y):(C-=t.avail_in,T-=t.avail_out,t.total_in+=C,t.total_out+=T,r.total+=T,r.wrap&&T&&(t.adler=r.check=r.flags?o(r.check,I,T,t.next_out-T):n(r.check,I,T,t.next_out-T)),t.data_type=r.bits+(r.last?64:0)+(r.mode===b?128:0)+(20===r.mode||15===r.mode?256:0),(0===C&&0===T||e===s)&&H===l&&(H=v),H)},t.exports.inflateEnd=t=>{if(!t||!t.state)return d;let e=t.state;return e.window&&(e.window=null),t.state=null,l},t.exports.inflateGetHeader=(t,e)=>{if(!t||!t.state)return d;const r=t.state;return 0==(2&r.wrap)?d:(r.head=e,e.done=!1,l)},t.exports.inflateSetDictionary=(t,e)=>{const r=e.length;let o,i,a;return t&&t.state?(o=t.state,0!==o.wrap&&11!==o.mode?d:11===o.mode&&(i=1,i=n(i,e,r,0),i!==o.check)?p:(a=R(t,e,r,r),a?(o.mode=31,y):(o.havedict=1,l))):d},t.exports.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/inftrees.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/zlib/inftrees.js ***!
  \************************************************/t=>{"use strict";const e=15,r=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),n=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=(t,a,s,u,c,l,f,h)=>{const d=h.bits;let p,y,v,g,b,m,_=0,w=0,I=0,k=0,E=0,j=0,x=0,S=0,A=0,O=0,R=null,C=0;const T=new Uint16Array(16),U=new Uint16Array(16);let z,L,V,B=null,N=0;for(_=0;_<=e;_++)T[_]=0;for(w=0;w<u;w++)T[a[s+w]]++;for(E=d,k=e;k>=1&&0===T[k];k--);if(E>k&&(E=k),0===k)return c[l++]=20971520,c[l++]=20971520,h.bits=1,0;for(I=1;I<k&&0===T[I];I++);for(E<I&&(E=I),S=1,_=1;_<=e;_++)if(S<<=1,S-=T[_],S<0)return-1;if(S>0&&(0===t||1!==k))return-1;for(U[1]=0,_=1;_<e;_++)U[_+1]=U[_]+T[_];for(w=0;w<u;w++)0!==a[s+w]&&(f[U[a[s+w]]++]=w);if(0===t?(R=B=f,m=19):1===t?(R=r,C-=257,B=n,N-=257,m=256):(R=o,B=i,m=-1),O=0,w=0,_=I,b=l,j=E,x=0,v=-1,A=1<<E,g=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){z=_-x,f[w]<m?(L=0,V=f[w]):f[w]>m?(L=B[N+f[w]],V=R[C+f[w]]):(L=96,V=0),p=1<<_-x,y=1<<j,I=y;do{y-=p,c[b+(O>>x)+y]=z<<24|L<<16|V|0}while(0!==y);for(p=1<<_-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,w++,0==--T[_]){if(_===k)break;_=a[s+f[w]]}if(_>E&&(O&g)!==v){for(0===x&&(x=E),b+=I,j=_-x,S=1<<j;j+x<k&&(S-=T[j+x],!(S<=0));)j++,S<<=1;if(A+=1<<j,1===t&&A>852||2===t&&A>592)return 1;v=O&g,c[v]=E<<24|j<<16|b-l|0}}return 0!==O&&(c[b+O]=_-x<<24|64<<16|0),h.bits=E,0}},"./node_modules/pako/lib/zlib/messages.js":
/*!************************************************!*\
  !*** ./node_modules/pako/lib/zlib/messages.js ***!
  \************************************************/t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/pako/lib/zlib/trees.js":
/*!*********************************************!*\
  !*** ./node_modules/pako/lib/zlib/trees.js ***!
  \*********************************************/t=>{"use strict";function e(t){let e=t.length;for(;--e>=0;)t[e]=0}const r=256,n=286,o=30,i=15,a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),s=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Array(576);e(l);const f=new Array(60);e(f);const h=new Array(512);e(h);const d=new Array(256);e(d);const p=new Array(29);e(p);const y=new Array(o);function v(t,e,r,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}let g,b,m;function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(y);const w=t=>t<256?h[t]:h[256+(t>>>7)],I=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},k=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,I(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},E=(t,e,r)=>{k(t,r[2*e],r[2*e+1])},j=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},x=(t,e,r)=>{const n=new Array(16);let o,a,s=0;for(o=1;o<=i;o++)n[o]=s=s+r[o-1]<<1;for(a=0;a<=e;a++){let e=t[2*a+1];0!==e&&(t[2*a]=j(n[e]++,e))}},S=t=>{let e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<o;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},A=t=>{t.bi_valid>8?I(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},O=(t,e,r,n)=>{const o=2*e,i=2*r;return t[o]<t[i]||t[o]===t[i]&&n[e]<=n[r]},R=(t,e,r)=>{const n=t.heap[r];let o=r<<1;for(;o<=t.heap_len&&(o<t.heap_len&&O(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!O(e,n,t.heap[o],t.depth));)t.heap[r]=t.heap[o],r=o,o<<=1;t.heap[r]=n},C=(t,e,n)=>{let o,i,u,c,l=0;if(0!==t.last_lit)do{o=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],i=t.pending_buf[t.l_buf+l],l++,0===o?E(t,i,e):(u=d[i],E(t,u+r+1,e),c=a[u],0!==c&&(i-=p[u],k(t,i,c)),o--,u=w(o),E(t,u,n),c=s[u],0!==c&&(o-=y[u],k(t,o,c)))}while(l<t.last_lit);E(t,256,e)},T=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,u,c,l=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,o&&(t.static_len-=n[2*c+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)R(t,r,s);c=a;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,r,1),u=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=u,r[2*c]=r[2*s]+r[2*u],t.depth[c]=(t.depth[s]>=t.depth[u]?t.depth[s]:t.depth[u])+1,r[2*s+1]=r[2*u+1]=c,t.heap[1]=c++,R(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length;let l,f,h,d,p,y,v=0;for(d=0;d<=i;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)f=t.heap[l],d=r[2*r[2*f+1]+1]+1,d>c&&(d=c,v++),r[2*f+1]=d,f>n||(t.bl_count[d]++,p=0,f>=u&&(p=s[f-u]),y=r[2*f],t.opt_len+=y*(d+p),a&&(t.static_len+=y*(o[2*f+1]+p)));if(0!==v){do{for(d=c-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(d=c;0!==d;d--)for(f=t.bl_count[d];0!==f;)h=t.heap[--l],h>n||(r[2*h+1]!==d&&(t.opt_len+=(d-r[2*h+1])*r[2*h],r[2*h+1]=d),f--)}})(t,e),x(r,l,t.bl_count)},U=(t,e,r)=>{let n,o,i=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)o=a,a=e[2*(n+1)+1],++s<u&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4))},z=(t,e,r)=>{let n,o,i=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),n=0;n<=r;n++)if(o=a,a=e[2*(n+1)+1],!(++s<u&&o===a)){if(s<c)do{E(t,o,t.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(E(t,o,t.bl_tree),s--),E(t,16,t.bl_tree),k(t,s-3,2)):s<=10?(E(t,17,t.bl_tree),k(t,s-3,3)):(E(t,18,t.bl_tree),k(t,s-11,7));s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4)}};let L=!1;const V=(t,e,r,n)=>{k(t,0+(n?1:0),3),((t,e,r,n)=>{A(t),n&&(I(t,r),I(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r,!0)};t.exports._tr_init=t=>{L||((()=>{let t,e,r,c,_;const w=new Array(16);for(r=0,c=0;c<28;c++)for(p[c]=r,t=0;t<1<<a[c];t++)d[r++]=c;for(d[r-1]=c,_=0,c=0;c<16;c++)for(y[c]=_,t=0;t<1<<s[c];t++)h[_++]=c;for(_>>=7;c<o;c++)for(y[c]=_<<7,t=0;t<1<<s[c]-7;t++)h[256+_++]=c;for(e=0;e<=i;e++)w[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,w[8]++;for(;t<=255;)l[2*t+1]=9,t++,w[9]++;for(;t<=279;)l[2*t+1]=7,t++,w[7]++;for(;t<=287;)l[2*t+1]=8,t++,w[8]++;for(x(l,287,w),t=0;t<o;t++)f[2*t+1]=5,f[2*t]=j(t,5);g=new v(l,a,257,n,i),b=new v(f,s,0,o,i),m=new v(new Array(0),u,0,19,7)})(),L=!0),t.l_desc=new _(t.dyn_ltree,g),t.d_desc=new _(t.dyn_dtree,b),t.bl_desc=new _(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,S(t)},t.exports._tr_stored_block=V,t.exports._tr_flush_block=(t,e,n,o)=>{let i,a,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),T(t,t.l_desc),T(t,t.d_desc),s=(t=>{let e;for(U(t,t.dyn_ltree,t.l_desc.max_code),U(t,t.dyn_dtree,t.d_desc.max_code),T(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?V(t,e,n,o):4===t.strategy||a===i?(k(t,2+(o?1:0),3),C(t,l,f)):(k(t,4+(o?1:0),3),((t,e,r,n)=>{let o;for(k(t,e-257,5),k(t,r-1,5),k(t,n-4,4),o=0;o<n;o++)k(t,t.bl_tree[2*c[o]+1],3);z(t,t.dyn_ltree,e-1),z(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),C(t,t.dyn_ltree,t.dyn_dtree)),S(t),o&&A(t)},t.exports._tr_tally=(t,e,n)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(d[n]+r+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1),t.exports._tr_align=t=>{k(t,2,3),E(t,256,l),(t=>{16===t.bi_valid?(I(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},"./node_modules/pako/lib/zlib/zstream.js":
/*!***********************************************!*\
  !*** ./node_modules/pako/lib/zlib/zstream.js ***!
  \***********************************************/t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
  !*** ./node_modules/safe-buffer/index.js ***!
  \*******************************************/(t,e,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(/*! buffer */"./node_modules/buffer/index.js"),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
  \***********************************************************/(t,e,r)=>{"use strict";var n=r(/*! safe-buffer */"./node_modules/safe-buffer/index.js").Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},i.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var o=a(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||-2===o?0:(o=a(e[n]))>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||-2===o?0:(o=a(e[n]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},"./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,o=e;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},"./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},"./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/(t,e,r)=>{var n=r(/*! ./lib/rng */"./node_modules/uuid/lib/rng-browser.js"),o=r(/*! ./lib/bytesToUuid */"./node_modules/uuid/lib/bytesToUuid.js");t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}}},e={},r=function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}("./src/automerge.js"),r;var t,e,r}));
//# sourceMappingURL=/sm/a8a7fd353f2c5a9a65796779d473600b7fa5c20b78e6f7399362e33acd5884c6.map